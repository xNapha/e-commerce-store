function gE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ls={},vE={get exports(){return Ls},set exports(e){Ls=e}},Nl={},C={},wE={get exports(){return C},set exports(e){C=e}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=Symbol.for("react.element"),EE=Symbol.for("react.portal"),_E=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),kE=Symbol.for("react.profiler"),CE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),xE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),NE=Symbol.for("react.lazy"),dp=Symbol.iterator;function AE(e){return e===null||typeof e!="object"?null:(e=dp&&e[dp]||e["@@iterator"],typeof e=="function"?e:null)}var Wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kg=Object.assign,Gg={};function ji(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||Wg}ji.prototype.isReactComponent={};ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qg(){}Qg.prototype=ji.prototype;function sd(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||Wg}var od=sd.prototype=new Qg;od.constructor=sd;Kg(od,ji.prototype);od.isPureReactComponent=!0;var fp=Array.isArray,Yg=Object.prototype.hasOwnProperty,ad={current:null},Xg={key:!0,ref:!0,__self:!0,__source:!0};function Jg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Yg.call(t,r)&&!Xg.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mo,type:e,key:s,ref:o,props:i,_owner:ad.current}}function RE(e,t){return{$$typeof:mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===mo}function PE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pp=/\/+/g;function Ru(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PE(""+e.key):t.toString(36)}function ga(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mo:case EE:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ru(o,0):r,fp(i)?(n="",e!=null&&(n=e.replace(pp,"$&/")+"/"),ga(i,t,n,"",function(u){return u})):i!=null&&(ld(i)&&(i=RE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",fp(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Ru(s,a);o+=ga(s,t,n,l,i)}else if(l=AE(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Ru(s,a++),o+=ga(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bo(e,t,n){if(e==null)return e;var r=[],i=0;return ga(e,r,"","",function(s){return t.call(n,s,i++)}),r}function $E(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},ya={transition:null},LE={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:ya,ReactCurrentOwner:ad};ne.Children={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=ji;ne.Fragment=_E;ne.Profiler=kE;ne.PureComponent=sd;ne.StrictMode=SE;ne.Suspense=xE;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LE;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kg({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ad.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Yg.call(t,l)&&!Xg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:mo,type:e.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:TE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CE,_context:e},e.Consumer=e};ne.createElement=Jg;ne.createFactory=function(e){var t=Jg.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:IE,render:e}};ne.isValidElement=ld;ne.lazy=function(e){return{$$typeof:NE,_payload:{_status:-1,_result:e},_init:$E}};ne.memo=function(e,t){return{$$typeof:DE,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ya.transition;ya.transition={};try{e()}finally{ya.transition=t}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(e,t){return kt.current.useCallback(e,t)};ne.useContext=function(e){return kt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return kt.current.useEffect(e,t)};ne.useId=function(){return kt.current.useId()};ne.useImperativeHandle=function(e,t,n){return kt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return kt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return kt.current.useReducer(e,t,n)};ne.useRef=function(e){return kt.current.useRef(e)};ne.useState=function(e){return kt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return kt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return kt.current.useTransition()};ne.version="18.2.0";(function(e){e.exports=ne})(wE);const Hn=yE(C),Dc=gE({__proto__:null,default:Hn},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=C,FE=Symbol.for("react.element"),ME=Symbol.for("react.fragment"),UE=Object.prototype.hasOwnProperty,VE=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bE={key:!0,ref:!0,__self:!0,__source:!0};function Zg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)UE.call(t,r)&&!bE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:FE,type:e,key:s,ref:o,props:i,_owner:VE.current}}Nl.Fragment=ME;Nl.jsx=Zg;Nl.jsxs=Zg;(function(e){e.exports=Nl})(vE);const Al=Ls.Fragment,I=Ls.jsx,Y=Ls.jsxs;var Nc={},Ac={},BE={get exports(){return Ac},set exports(e){Ac=e}},bt={},Rc={},zE={get exports(){return Rc},set exports(e){Rc=e}},ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,W){var K=L.length;L.push(W);e:for(;0<K;){var ce=K-1>>>1,we=L[ce];if(0<i(we,W))L[ce]=W,L[K]=we,K=ce;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],K=L.pop();if(K!==W){L[0]=K;e:for(var ce=0,we=L.length,Ne=we>>>1;ce<Ne;){var Ye=2*(ce+1)-1,ot=L[Ye],ke=Ye+1,Pt=L[ke];if(0>i(ot,K))ke<we&&0>i(Pt,ot)?(L[ce]=Pt,L[ke]=K,ce=ke):(L[ce]=ot,L[Ye]=K,ce=Ye);else if(ke<we&&0>i(Pt,K))L[ce]=Pt,L[ke]=K,ce=ke;else break e}}return W}function i(L,W){var K=L.sortIndex-W.sortIndex;return K!==0?K:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=L)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function E(L){if(w=!1,m(L),!v)if(n(l)!==null)v=!0,qe(T);else{var W=n(u);W!==null&&st(E,W.startTime-L)}}function T(L,W){v=!1,w&&(w=!1,p($),$=-1),g=!0;var K=h;try{for(m(W),d=n(l);d!==null&&(!(d.expirationTime>W)||L&&!le());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,h=d.priorityLevel;var we=ce(d.expirationTime<=W);W=e.unstable_now(),typeof we=="function"?d.callback=we:d===n(l)&&r(l),m(W)}else r(l);d=n(l)}if(d!==null)var Ne=!0;else{var Ye=n(u);Ye!==null&&st(E,Ye.startTime-W),Ne=!1}return Ne}finally{d=null,h=K,g=!1}}var R=!1,P=null,$=-1,ee=5,z=-1;function le(){return!(e.unstable_now()-z<ee)}function Z(){if(P!==null){var L=e.unstable_now();z=L;var W=!0;try{W=P(!0,L)}finally{W?B():(R=!1,P=null)}}else R=!1}var B;if(typeof f=="function")B=function(){f(Z)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,He=se.port2;se.port1.onmessage=Z,B=function(){He.postMessage(null)}}else B=function(){_(Z,0)};function qe(L){P=L,R||(R=!0,B())}function st(L,W){$=_(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,qe(T))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var K=h;h=W;try{return L()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=h;h=L;try{return W()}finally{h=K}},e.unstable_scheduleCallback=function(L,W,K){var ce=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ce+K:ce):K=ce,L){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=K+we,L={id:c++,callback:W,priorityLevel:L,startTime:K,expirationTime:we,sortIndex:-1},K>ce?(L.sortIndex=K,t(u,L),n(l)===null&&L===n(u)&&(w?(p($),$=-1):w=!0,st(E,K-ce))):(L.sortIndex=we,t(l,L),v||g||(v=!0,qe(T))),L},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(L){var W=h;return function(){var K=h;h=W;try{return L.apply(this,arguments)}finally{h=K}}}})(ey);(function(e){e.exports=ey})(zE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty=C,Ut=Rc;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ny=new Set,Os={};function Wr(e,t){Ii(e,t),Ii(e+"Capture",t)}function Ii(e,t){for(Os[e]=t,e=0;e<t.length;e++)ny.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,jE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mp={},gp={};function HE(e){return Pc.call(gp,e)?!0:Pc.call(mp,e)?!1:jE.test(e)?gp[e]=!0:(mp[e]=!0,!1)}function qE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WE(e,t,n,r){if(t===null||typeof t>"u"||qE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function cd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ud,cd);rt[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ud,cd);rt[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ud,cd);rt[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function hd(e,t,n,r){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WE(t,n,i,r)&&(n=null),r||i===null?HE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mn=ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),ri=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),$c=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),iy=Symbol.for("react.context"),fd=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),pd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),sy=Symbol.for("react.offscreen"),yp=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,Pu;function hs(e){if(Pu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pu=t&&t[1]||""}return`
`+Pu+e}var $u=!1;function Lu(e,t){if(!e||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function KE(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=Lu(e.type,!1),e;case 11:return e=Lu(e.type.render,!1),e;case 1:return e=Lu(e.type,!0),e;default:return""}}function Fc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ri:return"Portal";case $c:return"Profiler";case dd:return"StrictMode";case Lc:return"Suspense";case Oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iy:return(e.displayName||"Context")+".Consumer";case ry:return(e._context.displayName||"Context")+".Provider";case fd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pd:return t=e.displayName||null,t!==null?t:Fc(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return Fc(e(t))}catch{}}return null}function GE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fc(t);case 8:return t===dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QE(e){var t=oy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){e._valueTracker||(e._valueTracker=QE(e))}function ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mc(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ly(e,t){t=t.checked,t!=null&&hd(e,"checked",t,!1)}function Uc(e,t){ly(e,t);var n=cr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vc(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vc(e,t,n){(t!=="number"||La(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ds=Array.isArray;function yi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ep(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ds(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cr(n)}}function uy(e,t){var n=cr(t.value),r=cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _p(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jo,hy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YE=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){YE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function dy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function fy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var XE=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(e,t){if(t){if(XE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function jc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=null;function md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qc=null,vi=null,wi=null;function Sp(e){if(e=vo(e)){if(typeof qc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ol(t),qc(e.stateNode,e.type,t))}}function py(e){vi?wi?wi.push(e):wi=[e]:vi=e}function my(){if(vi){var e=vi,t=wi;if(wi=vi=null,Sp(e),t)for(e=0;e<t.length;e++)Sp(t[e])}}function gy(e,t){return e(t)}function yy(){}var Ou=!1;function vy(e,t,n){if(Ou)return e(t,n);Ou=!0;try{return gy(e,t,n)}finally{Ou=!1,(vi!==null||wi!==null)&&(yy(),my())}}function Ms(e,t){var n=e.stateNode;if(n===null)return null;var r=Ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Wc=!1;if(Nn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Wc=!1}function JE(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Es=!1,Oa=null,Fa=!1,Kc=null,ZE={onError:function(e){Es=!0,Oa=e}};function e_(e,t,n,r,i,s,o,a,l){Es=!1,Oa=null,JE.apply(ZE,arguments)}function t_(e,t,n,r,i,s,o,a,l){if(e_.apply(this,arguments),Es){if(Es){var u=Oa;Es=!1,Oa=null}else throw Error(D(198));Fa||(Fa=!0,Kc=u)}}function Kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kp(e){if(Kr(e)!==e)throw Error(D(188))}function n_(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kp(i),e;if(s===r)return kp(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Ey(e){return e=n_(e),e!==null?_y(e):null}function _y(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_y(e);if(t!==null)return t;e=e.sibling}return null}var Sy=Ut.unstable_scheduleCallback,Cp=Ut.unstable_cancelCallback,r_=Ut.unstable_shouldYield,i_=Ut.unstable_requestPaint,Re=Ut.unstable_now,s_=Ut.unstable_getCurrentPriorityLevel,gd=Ut.unstable_ImmediatePriority,ky=Ut.unstable_UserBlockingPriority,Ma=Ut.unstable_NormalPriority,o_=Ut.unstable_LowPriority,Cy=Ut.unstable_IdlePriority,Rl=null,pn=null;function a_(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:c_,l_=Math.log,u_=Math.LN2;function c_(e){return e>>>=0,e===0?32:31-(l_(e)/u_|0)|0}var Ho=64,qo=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ua(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=fs(a):(s&=o,s!==0&&(r=fs(s)))}else o=n&~i,o!==0?r=fs(o):s!==0&&(r=fs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nn(t),i=1<<n,r|=e[n],t&=~i;return r}function h_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=h_(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ty(){var e=Ho;return Ho<<=1,!(Ho&4194240)&&(Ho=64),e}function Fu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function go(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function f_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ue=0;function Iy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xy,vd,Dy,Ny,Ay,Qc=!1,Wo=[],Yn=null,Xn=null,Jn=null,Us=new Map,Vs=new Map,Bn=[],p_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tp(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function ns(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=vo(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function m_(e,t,n,r,i){switch(t){case"focusin":return Yn=ns(Yn,e,t,n,r,i),!0;case"dragenter":return Xn=ns(Xn,e,t,n,r,i),!0;case"mouseover":return Jn=ns(Jn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Us.set(s,ns(Us.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vs.set(s,ns(Vs.get(s)||null,e,t,n,r,i)),!0}return!1}function Ry(e){var t=Tr(e.target);if(t!==null){var n=Kr(t);if(n!==null){if(t=n.tag,t===13){if(t=wy(n),t!==null){e.blockedOn=t,Ay(e.priority,function(){Dy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hc=r,n.target.dispatchEvent(r),Hc=null}else return t=vo(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Ip(e,t,n){va(e)&&n.delete(t)}function g_(){Qc=!1,Yn!==null&&va(Yn)&&(Yn=null),Xn!==null&&va(Xn)&&(Xn=null),Jn!==null&&va(Jn)&&(Jn=null),Us.forEach(Ip),Vs.forEach(Ip)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Qc||(Qc=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,g_)))}function bs(e){function t(i){return rs(i,e)}if(0<Wo.length){rs(Wo[0],e);for(var n=1;n<Wo.length;n++){var r=Wo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yn!==null&&rs(Yn,e),Xn!==null&&rs(Xn,e),Jn!==null&&rs(Jn,e),Us.forEach(t),Vs.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)Ry(n),n.blockedOn===null&&Bn.shift()}var Ei=Mn.ReactCurrentBatchConfig,Va=!0;function y_(e,t,n,r){var i=ue,s=Ei.transition;Ei.transition=null;try{ue=1,wd(e,t,n,r)}finally{ue=i,Ei.transition=s}}function v_(e,t,n,r){var i=ue,s=Ei.transition;Ei.transition=null;try{ue=4,wd(e,t,n,r)}finally{ue=i,Ei.transition=s}}function wd(e,t,n,r){if(Va){var i=Yc(e,t,n,r);if(i===null)Wu(e,t,r,ba,n),Tp(e,r);else if(m_(i,e,t,n,r))r.stopPropagation();else if(Tp(e,r),t&4&&-1<p_.indexOf(e)){for(;i!==null;){var s=vo(i);if(s!==null&&xy(s),s=Yc(e,t,n,r),s===null&&Wu(e,t,r,ba,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Wu(e,t,r,null,n)}}var ba=null;function Yc(e,t,n,r){if(ba=null,e=md(r),e=Tr(e),e!==null)if(t=Kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ba=e,null}function Py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s_()){case gd:return 1;case ky:return 4;case Ma:case o_:return 16;case Cy:return 536870912;default:return 16}default:return 16}}var qn=null,Ed=null,wa=null;function $y(){if(wa)return wa;var e,t=Ed,n=t.length,r,i="value"in qn?qn.value:qn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return wa=i.slice(e,1<r?1-r:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ko(){return!0}function xp(){return!1}function Bt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ko:xp,this.isPropagationStopped=xp,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_d=Bt(Hi),yo=Se({},Hi,{view:0,detail:0}),w_=Bt(yo),Mu,Uu,is,Pl=Se({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(Mu=e.screenX-is.screenX,Uu=e.screenY-is.screenY):Uu=Mu=0,is=e),Mu)},movementY:function(e){return"movementY"in e?e.movementY:Uu}}),Dp=Bt(Pl),E_=Se({},Pl,{dataTransfer:0}),__=Bt(E_),S_=Se({},yo,{relatedTarget:0}),Vu=Bt(S_),k_=Se({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),C_=Bt(k_),T_=Se({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I_=Bt(T_),x_=Se({},Hi,{data:0}),Np=Bt(x_),D_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A_[e])?!!t[e]:!1}function Sd(){return R_}var P_=Se({},yo,{key:function(e){if(e.key){var t=D_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sd,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$_=Bt(P_),L_=Se({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=Bt(L_),O_=Se({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sd}),F_=Bt(O_),M_=Se({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),U_=Bt(M_),V_=Se({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b_=Bt(V_),B_=[9,13,27,32],kd=Nn&&"CompositionEvent"in window,_s=null;Nn&&"documentMode"in document&&(_s=document.documentMode);var z_=Nn&&"TextEvent"in window&&!_s,Ly=Nn&&(!kd||_s&&8<_s&&11>=_s),Rp=String.fromCharCode(32),Pp=!1;function Oy(e,t){switch(e){case"keyup":return B_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function j_(e,t){switch(e){case"compositionend":return Fy(t);case"keypress":return t.which!==32?null:(Pp=!0,Rp);case"textInput":return e=t.data,e===Rp&&Pp?null:e;default:return null}}function H_(e,t){if(si)return e==="compositionend"||!kd&&Oy(e,t)?(e=$y(),wa=Ed=qn=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ly&&t.locale!=="ko"?null:t.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q_[e.type]:t==="textarea"}function My(e,t,n,r){py(r),t=Ba(t,"onChange"),0<t.length&&(n=new _d("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ss=null,Bs=null;function W_(e){Gy(e,0)}function $l(e){var t=li(e);if(ay(t))return e}function K_(e,t){if(e==="change")return t}var Uy=!1;if(Nn){var bu;if(Nn){var Bu="oninput"in document;if(!Bu){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Bu=typeof Lp.oninput=="function"}bu=Bu}else bu=!1;Uy=bu&&(!document.documentMode||9<document.documentMode)}function Op(){Ss&&(Ss.detachEvent("onpropertychange",Vy),Bs=Ss=null)}function Vy(e){if(e.propertyName==="value"&&$l(Bs)){var t=[];My(t,Bs,e,md(e)),vy(W_,t)}}function G_(e,t,n){e==="focusin"?(Op(),Ss=t,Bs=n,Ss.attachEvent("onpropertychange",Vy)):e==="focusout"&&Op()}function Q_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(Bs)}function Y_(e,t){if(e==="click")return $l(t)}function X_(e,t){if(e==="input"||e==="change")return $l(t)}function J_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:J_;function zs(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pc.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function Fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,t){var n=Fp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fp(n)}}function by(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?by(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function By(){for(var e=window,t=La();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=La(e.document)}return t}function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z_(e){var t=By(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&by(n.ownerDocument.documentElement,n)){if(r!==null&&Cd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Mp(n,s);var o=Mp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eS=Nn&&"documentMode"in document&&11>=document.documentMode,oi=null,Xc=null,ks=null,Jc=!1;function Up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jc||oi==null||oi!==La(r)||(r=oi,"selectionStart"in r&&Cd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ks&&zs(ks,r)||(ks=r,r=Ba(Xc,"onSelect"),0<r.length&&(t=new _d("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function Go(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ai={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},zu={},zy={};Nn&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Ll(e){if(zu[e])return zu[e];if(!ai[e])return e;var t=ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zy)return zu[e]=t[n];return e}var jy=Ll("animationend"),Hy=Ll("animationiteration"),qy=Ll("animationstart"),Wy=Ll("transitionend"),Ky=new Map,Vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){Ky.set(e,t),Wr(t,[e])}for(var ju=0;ju<Vp.length;ju++){var Hu=Vp[ju],tS=Hu.toLowerCase(),nS=Hu[0].toUpperCase()+Hu.slice(1);mr(tS,"on"+nS)}mr(jy,"onAnimationEnd");mr(Hy,"onAnimationIteration");mr(qy,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(Wy,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function bp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,t_(r,t,void 0,e),e.currentTarget=null}function Gy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;bp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;bp(i,a,u),s=l}}}if(Fa)throw e=Kc,Fa=!1,Kc=null,e}function de(e,t){var n=t[rh];n===void 0&&(n=t[rh]=new Set);var r=e+"__bubble";n.has(r)||(Qy(t,e,2,!1),n.add(r))}function qu(e,t,n){var r=0;t&&(r|=4),Qy(n,e,r,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[Qo]){e[Qo]=!0,ny.forEach(function(n){n!=="selectionchange"&&(rS.has(n)||qu(n,!1,e),qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,qu("selectionchange",!1,t))}}function Qy(e,t,n,r){switch(Py(t)){case 1:var i=y_;break;case 4:i=v_;break;default:i=wd}n=i.bind(null,t,n,e),i=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Tr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vy(function(){var u=s,c=md(n),d=[];e:{var h=Ky.get(e);if(h!==void 0){var g=_d,v=e;switch(e){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":g=$_;break;case"focusin":v="focus",g=Vu;break;case"focusout":v="blur",g=Vu;break;case"beforeblur":case"afterblur":g=Vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=F_;break;case jy:case Hy:case qy:g=C_;break;case Wy:g=U_;break;case"scroll":g=w_;break;case"wheel":g=b_;break;case"copy":case"cut":case"paste":g=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ap}var w=(t&4)!==0,_=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var f=u,m;f!==null;){m=f;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,p!==null&&(E=Ms(f,p),E!=null&&w.push(Hs(f,E,m)))),_)break;f=f.return}0<w.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Hc&&(v=n.relatedTarget||n.fromElement)&&(Tr(v)||v[An]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Tr(v):null,v!==null&&(_=Kr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(w=Dp,E="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ap,E="onPointerLeave",p="onPointerEnter",f="pointer"),_=g==null?h:li(g),m=v==null?h:li(v),h=new w(E,f+"leave",g,n,c),h.target=_,h.relatedTarget=m,E=null,Tr(c)===u&&(w=new w(p,f+"enter",v,n,c),w.target=m,w.relatedTarget=_,E=w),_=E,g&&v)t:{for(w=g,p=v,f=0,m=w;m;m=Zr(m))f++;for(m=0,E=p;E;E=Zr(E))m++;for(;0<f-m;)w=Zr(w),f--;for(;0<m-f;)p=Zr(p),m--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=Zr(w),p=Zr(p)}w=null}else w=null;g!==null&&Bp(d,h,g,w,!1),v!==null&&_!==null&&Bp(d,_,v,w,!0)}}e:{if(h=u?li(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=K_;else if($p(h))if(Uy)T=X_;else{T=Q_;var R=G_}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Y_);if(T&&(T=T(e,u))){My(d,T,n,c);break e}R&&R(e,h,u),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Vc(h,"number",h.value)}switch(R=u?li(u):window,e){case"focusin":($p(R)||R.contentEditable==="true")&&(oi=R,Xc=u,ks=null);break;case"focusout":ks=Xc=oi=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,Up(d,n,c);break;case"selectionchange":if(eS)break;case"keydown":case"keyup":Up(d,n,c)}var P;if(kd)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else si?Oy(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Ly&&n.locale!=="ko"&&(si||$!=="onCompositionStart"?$==="onCompositionEnd"&&si&&(P=$y()):(qn=c,Ed="value"in qn?qn.value:qn.textContent,si=!0)),R=Ba(u,$),0<R.length&&($=new Np($,e,null,n,c),d.push({event:$,listeners:R}),P?$.data=P:(P=Fy(n),P!==null&&($.data=P)))),(P=z_?j_(e,n):H_(e,n))&&(u=Ba(u,"onBeforeInput"),0<u.length&&(c=new Np("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}Gy(d,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ba(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ms(e,n),s!=null&&r.unshift(Hs(e,s,i)),s=Ms(e,t),s!=null&&r.push(Hs(e,s,i))),e=e.return}return r}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ms(n,s),l!=null&&o.unshift(Hs(n,l,a))):i||(l=Ms(n,s),l!=null&&o.push(Hs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var iS=/\r\n?/g,sS=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(iS,`
`).replace(sS,"")}function Yo(e,t,n){if(t=zp(t),zp(e)!==t&&n)throw Error(D(425))}function za(){}var Zc=null,eh=null;function th(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,aS=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(e){return jp.resolve(null).then(e).catch(lS)}:nh;function lS(e){setTimeout(function(){throw e})}function Ku(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),bs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bs(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qi=Math.random().toString(36).slice(2),cn="__reactFiber$"+qi,qs="__reactProps$"+qi,An="__reactContainer$"+qi,rh="__reactEvents$"+qi,uS="__reactListeners$"+qi,cS="__reactHandles$"+qi;function Tr(e){var t=e[cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hp(e);e!==null;){if(n=e[cn])return n;e=Hp(e)}return t}e=n,n=e.parentNode}return null}function vo(e){return e=e[cn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ol(e){return e[qs]||null}var ih=[],ui=-1;function gr(e){return{current:e}}function fe(e){0>ui||(e.current=ih[ui],ih[ui]=null,ui--)}function he(e,t){ui++,ih[ui]=e.current,e.current=t}var hr={},gt=gr(hr),Nt=gr(!1),Mr=hr;function xi(e,t){var n=e.type.contextTypes;if(!n)return hr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function At(e){return e=e.childContextTypes,e!=null}function ja(){fe(Nt),fe(gt)}function qp(e,t,n){if(gt.current!==hr)throw Error(D(168));he(gt,t),he(Nt,n)}function Yy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,GE(e)||"Unknown",i));return Se({},n,r)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,Mr=gt.current,he(gt,e),he(Nt,Nt.current),!0}function Wp(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Yy(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=e,fe(Nt),fe(gt),he(gt,e)):fe(Nt),he(Nt,n)}var Cn=null,Fl=!1,Gu=!1;function Xy(e){Cn===null?Cn=[e]:Cn.push(e)}function hS(e){Fl=!0,Xy(e)}function yr(){if(!Gu&&Cn!==null){Gu=!0;var e=0,t=ue;try{var n=Cn;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cn=null,Fl=!1}catch(i){throw Cn!==null&&(Cn=Cn.slice(e+1)),Sy(gd,yr),i}finally{ue=t,Gu=!1}}return null}var ci=[],hi=0,qa=null,Wa=0,jt=[],Ht=0,Ur=null,Tn=1,In="";function _r(e,t){ci[hi++]=Wa,ci[hi++]=qa,qa=e,Wa=t}function Jy(e,t,n){jt[Ht++]=Tn,jt[Ht++]=In,jt[Ht++]=Ur,Ur=e;var r=Tn;e=In;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var s=32-nn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Tn=1<<32-nn(t)+i|n<<i|r,In=s+e}else Tn=1<<s|n<<i|r,In=e}function Td(e){e.return!==null&&(_r(e,1),Jy(e,1,0))}function Id(e){for(;e===qa;)qa=ci[--hi],ci[hi]=null,Wa=ci[--hi],ci[hi]=null;for(;e===Ur;)Ur=jt[--Ht],jt[Ht]=null,In=jt[--Ht],jt[Ht]=null,Tn=jt[--Ht],jt[Ht]=null}var Mt=null,Lt=null,ge=!1,en=null;function Zy(e,t){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ur!==null?{id:Tn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Lt=null,!0):!1;default:return!1}}function sh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oh(e){if(ge){var t=Lt;if(t){var n=t;if(!Kp(e,t)){if(sh(e))throw Error(D(418));t=Zn(n.nextSibling);var r=Mt;t&&Kp(e,t)?Zy(r,n):(e.flags=e.flags&-4097|2,ge=!1,Mt=e)}}else{if(sh(e))throw Error(D(418));e.flags=e.flags&-4097|2,ge=!1,Mt=e}}}function Gp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Xo(e){if(e!==Mt)return!1;if(!ge)return Gp(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!th(e.type,e.memoizedProps)),t&&(t=Lt)){if(sh(e))throw ev(),Error(D(418));for(;t;)Zy(e,t),t=Zn(t.nextSibling)}if(Gp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=Zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Mt?Zn(e.stateNode.nextSibling):null;return!0}function ev(){for(var e=Lt;e;)e=Zn(e.nextSibling)}function Di(){Lt=Mt=null,ge=!1}function xd(e){en===null?en=[e]:en.push(e)}var dS=Mn.ReactCurrentBatchConfig;function Jt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ka=gr(null),Ga=null,di=null,Dd=null;function Nd(){Dd=di=Ga=null}function Ad(e){var t=Ka.current;fe(Ka),e._currentValue=t}function ah(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){Ga=e,Dd=di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(Dd!==e)if(e={context:e,memoizedValue:t,next:null},di===null){if(Ga===null)throw Error(D(308));di=e,Ga.dependencies={lanes:0,firstContext:e}}else di=di.next=e;return t}var Ir=null;function Rd(e){Ir===null?Ir=[e]:Ir.push(e)}function tv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rn(e,r)}function Rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rn(e,n)}return i=r.interleaved,i===null?(t.next=t,Rd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rn(e,n)}function _a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yd(e,n)}}function Qp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qa(e,t,n,r){var i=e.updateQueue;bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(h=t,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=Se({},d,h);break e;case 2:bn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);br|=o,e.lanes=o,e.memoizedState=d}}function Yp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var rv=new ty.Component().refs;function lh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ml={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),i=nr(e),s=Dn(r,i);s.payload=t,n!=null&&(s.callback=n),t=er(e,s,i),t!==null&&(rn(t,e,i,r),_a(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),i=nr(e),s=Dn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=er(e,s,i),t!==null&&(rn(t,e,i,r),_a(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=nr(e),i=Dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=er(e,i,r),t!==null&&(rn(t,e,r,n),_a(t,e,r))}};function Xp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!zs(n,r)||!zs(i,s):!0}function iv(e,t,n){var r=!1,i=hr,s=t.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=At(t)?Mr:gt.current,r=t.contextTypes,s=(r=r!=null)?xi(e,i):hr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Jp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ml.enqueueReplaceState(t,t.state,null)}function uh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=rv,Pd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=At(t)?Mr:gt.current,i.context=xi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(lh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ml.enqueueReplaceState(i,i.state,null),Qa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===rv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zp(e){var t=e._init;return t(e._payload)}function sv(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=rr(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,f,m,E){return f===null||f.tag!==6?(f=tc(m,p.mode,E),f.return=p,f):(f=i(f,m),f.return=p,f)}function l(p,f,m,E){var T=m.type;return T===ii?c(p,f,m.props.children,E,m.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vn&&Zp(T)===f.type)?(E=i(f,m.props),E.ref=ss(p,f,m),E.return=p,E):(E=xa(m.type,m.key,m.props,null,p.mode,E),E.ref=ss(p,f,m),E.return=p,E)}function u(p,f,m,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=nc(m,p.mode,E),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function c(p,f,m,E,T){return f===null||f.tag!==7?(f=$r(m,p.mode,E,T),f.return=p,f):(f=i(f,m),f.return=p,f)}function d(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=tc(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Bo:return m=xa(f.type,f.key,f.props,null,p.mode,m),m.ref=ss(p,null,f),m.return=p,m;case ri:return f=nc(f,p.mode,m),f.return=p,f;case Vn:var E=f._init;return d(p,E(f._payload),m)}if(ds(f)||es(f))return f=$r(f,p.mode,m,null),f.return=p,f;Jo(p,f)}return null}function h(p,f,m,E){var T=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:a(p,f,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bo:return m.key===T?l(p,f,m,E):null;case ri:return m.key===T?u(p,f,m,E):null;case Vn:return T=m._init,h(p,f,T(m._payload),E)}if(ds(m)||es(m))return T!==null?null:c(p,f,m,E,null);Jo(p,m)}return null}function g(p,f,m,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(m)||null,a(f,p,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bo:return p=p.get(E.key===null?m:E.key)||null,l(f,p,E,T);case ri:return p=p.get(E.key===null?m:E.key)||null,u(f,p,E,T);case Vn:var R=E._init;return g(p,f,m,R(E._payload),T)}if(ds(E)||es(E))return p=p.get(m)||null,c(f,p,E,T,null);Jo(f,E)}return null}function v(p,f,m,E){for(var T=null,R=null,P=f,$=f=0,ee=null;P!==null&&$<m.length;$++){P.index>$?(ee=P,P=null):ee=P.sibling;var z=h(p,P,m[$],E);if(z===null){P===null&&(P=ee);break}e&&P&&z.alternate===null&&t(p,P),f=s(z,f,$),R===null?T=z:R.sibling=z,R=z,P=ee}if($===m.length)return n(p,P),ge&&_r(p,$),T;if(P===null){for(;$<m.length;$++)P=d(p,m[$],E),P!==null&&(f=s(P,f,$),R===null?T=P:R.sibling=P,R=P);return ge&&_r(p,$),T}for(P=r(p,P);$<m.length;$++)ee=g(P,p,$,m[$],E),ee!==null&&(e&&ee.alternate!==null&&P.delete(ee.key===null?$:ee.key),f=s(ee,f,$),R===null?T=ee:R.sibling=ee,R=ee);return e&&P.forEach(function(le){return t(p,le)}),ge&&_r(p,$),T}function w(p,f,m,E){var T=es(m);if(typeof T!="function")throw Error(D(150));if(m=T.call(m),m==null)throw Error(D(151));for(var R=T=null,P=f,$=f=0,ee=null,z=m.next();P!==null&&!z.done;$++,z=m.next()){P.index>$?(ee=P,P=null):ee=P.sibling;var le=h(p,P,z.value,E);if(le===null){P===null&&(P=ee);break}e&&P&&le.alternate===null&&t(p,P),f=s(le,f,$),R===null?T=le:R.sibling=le,R=le,P=ee}if(z.done)return n(p,P),ge&&_r(p,$),T;if(P===null){for(;!z.done;$++,z=m.next())z=d(p,z.value,E),z!==null&&(f=s(z,f,$),R===null?T=z:R.sibling=z,R=z);return ge&&_r(p,$),T}for(P=r(p,P);!z.done;$++,z=m.next())z=g(P,p,$,z.value,E),z!==null&&(e&&z.alternate!==null&&P.delete(z.key===null?$:z.key),f=s(z,f,$),R===null?T=z:R.sibling=z,R=z);return e&&P.forEach(function(Z){return t(p,Z)}),ge&&_r(p,$),T}function _(p,f,m,E){if(typeof m=="object"&&m!==null&&m.type===ii&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Bo:e:{for(var T=m.key,R=f;R!==null;){if(R.key===T){if(T=m.type,T===ii){if(R.tag===7){n(p,R.sibling),f=i(R,m.props.children),f.return=p,p=f;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vn&&Zp(T)===R.type){n(p,R.sibling),f=i(R,m.props),f.ref=ss(p,R,m),f.return=p,p=f;break e}n(p,R);break}else t(p,R);R=R.sibling}m.type===ii?(f=$r(m.props.children,p.mode,E,m.key),f.return=p,p=f):(E=xa(m.type,m.key,m.props,null,p.mode,E),E.ref=ss(p,f,m),E.return=p,p=E)}return o(p);case ri:e:{for(R=m.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=nc(m,p.mode,E),f.return=p,p=f}return o(p);case Vn:return R=m._init,_(p,f,R(m._payload),E)}if(ds(m))return v(p,f,m,E);if(es(m))return w(p,f,m,E);Jo(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=tc(m,p.mode,E),f.return=p,p=f),o(p)):n(p,f)}return _}var Ni=sv(!0),ov=sv(!1),wo={},mn=gr(wo),Ws=gr(wo),Ks=gr(wo);function xr(e){if(e===wo)throw Error(D(174));return e}function $d(e,t){switch(he(Ks,t),he(Ws,e),he(mn,wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bc(t,e)}fe(mn),he(mn,t)}function Ai(){fe(mn),fe(Ws),fe(Ks)}function av(e){xr(Ks.current);var t=xr(mn.current),n=Bc(t,e.type);t!==n&&(he(Ws,e),he(mn,n))}function Ld(e){Ws.current===e&&(fe(mn),fe(Ws))}var Ee=gr(0);function Ya(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qu=[];function Od(){for(var e=0;e<Qu.length;e++)Qu[e]._workInProgressVersionPrimary=null;Qu.length=0}var Sa=Mn.ReactCurrentDispatcher,Yu=Mn.ReactCurrentBatchConfig,Vr=0,_e=null,Fe=null,Ke=null,Xa=!1,Cs=!1,Gs=0,fS=0;function at(){throw Error(D(321))}function Fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Md(e,t,n,r,i,s){if(Vr=s,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sa.current=e===null||e.memoizedState===null?yS:vS,e=n(r,i),Cs){s=0;do{if(Cs=!1,Gs=0,25<=s)throw Error(D(301));s+=1,Ke=Fe=null,t.updateQueue=null,Sa.current=wS,e=n(r,i)}while(Cs)}if(Sa.current=Ja,t=Fe!==null&&Fe.next!==null,Vr=0,Ke=Fe=_e=null,Xa=!1,t)throw Error(D(300));return e}function Ud(){var e=Gs!==0;return Gs=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?_e.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Qt(){if(Fe===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Ke===null?_e.memoizedState:Ke.next;if(t!==null)Ke=t,Fe=e;else{if(e===null)throw Error(D(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ke===null?_e.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Qs(e,t){return typeof t=="function"?t(e):t}function Xu(e){var t=Qt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Vr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,_e.lanes|=c,br|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,sn(r,t.memoizedState)||(Dt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,_e.lanes|=s,br|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ju(e){var t=Qt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);sn(s,t.memoizedState)||(Dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function lv(){}function uv(e,t){var n=_e,r=Qt(),i=t(),s=!sn(r.memoizedState,i);if(s&&(r.memoizedState=i,Dt=!0),r=r.queue,Vd(dv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ys(9,hv.bind(null,n,r,i,t),void 0,null),Ge===null)throw Error(D(349));Vr&30||cv(n,t,i)}return i}function cv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hv(e,t,n,r){t.value=n,t.getSnapshot=r,fv(t)&&pv(e)}function dv(e,t,n){return n(function(){fv(t)&&pv(e)})}function fv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function pv(e){var t=Rn(e,1);t!==null&&rn(t,e,1,-1)}function em(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=gS.bind(null,_e,e),[t.memoizedState,e]}function Ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mv(){return Qt().memoizedState}function ka(e,t,n,r){var i=ln();_e.flags|=e,i.memoizedState=Ys(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(Fe!==null){var o=Fe.memoizedState;if(s=o.destroy,r!==null&&Fd(r,o.deps)){i.memoizedState=Ys(t,n,s,r);return}}_e.flags|=e,i.memoizedState=Ys(1|t,n,s,r)}function tm(e,t){return ka(8390656,8,e,t)}function Vd(e,t){return Ul(2048,8,e,t)}function gv(e,t){return Ul(4,2,e,t)}function yv(e,t){return Ul(4,4,e,t)}function vv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wv(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,vv.bind(null,t,e),n)}function bd(){}function Ev(e,t){var n=Qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _v(e,t){var n=Qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sv(e,t,n){return Vr&21?(sn(n,t)||(n=Ty(),_e.lanes|=n,br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=n)}function pS(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=Yu.transition;Yu.transition={};try{e(!1),t()}finally{ue=n,Yu.transition=r}}function kv(){return Qt().memoizedState}function mS(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cv(e))Tv(t,n);else if(n=tv(e,t,n,r),n!==null){var i=St();rn(n,e,r,i),Iv(n,t,r)}}function gS(e,t,n){var r=nr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cv(e))Tv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sn(a,o)){var l=t.interleaved;l===null?(i.next=i,Rd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=tv(e,t,i,r),n!==null&&(i=St(),rn(n,e,r,i),Iv(n,t,r))}}function Cv(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Tv(e,t){Cs=Xa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Iv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yd(e,n)}}var Ja={readContext:Gt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},yS={readContext:Gt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:tm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ka(4194308,4,vv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mS.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:em,useDebugValue:bd,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=em(!1),t=e[0];return e=pS.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,i=ln();if(ge){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ge===null)throw Error(D(349));Vr&30||cv(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,tm(dv.bind(null,r,s,e),[e]),r.flags|=2048,Ys(9,hv.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ln(),t=Ge.identifierPrefix;if(ge){var n=In,r=Tn;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vS={readContext:Gt,useCallback:Ev,useContext:Gt,useEffect:Vd,useImperativeHandle:wv,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:_v,useReducer:Xu,useRef:mv,useState:function(){return Xu(Qs)},useDebugValue:bd,useDeferredValue:function(e){var t=Qt();return Sv(t,Fe.memoizedState,e)},useTransition:function(){var e=Xu(Qs)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:lv,useSyncExternalStore:uv,useId:kv,unstable_isNewReconciler:!1},wS={readContext:Gt,useCallback:Ev,useContext:Gt,useEffect:Vd,useImperativeHandle:wv,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:_v,useReducer:Ju,useRef:mv,useState:function(){return Ju(Qs)},useDebugValue:bd,useDeferredValue:function(e){var t=Qt();return Fe===null?t.memoizedState=e:Sv(t,Fe.memoizedState,e)},useTransition:function(){var e=Ju(Qs)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:lv,useSyncExternalStore:uv,useId:kv,unstable_isNewReconciler:!1};function Ri(e,t){try{var n="",r=t;do n+=KE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Zu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ch(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ES=typeof WeakMap=="function"?WeakMap:Map;function xv(e,t,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){el||(el=!0,Eh=r),ch(e,t)},n}function Dv(e,t,n){n=Dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ch(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ch(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function nm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ES;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=LS.bind(null,e,t,n),t.then(e,e))}function rm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function im(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dn(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var _S=Mn.ReactCurrentOwner,Dt=!1;function wt(e,t,n,r){t.child=e===null?ov(t,null,n,r):Ni(t,e.child,n,r)}function sm(e,t,n,r,i){n=n.render;var s=t.ref;return _i(t,i),r=Md(e,t,n,r,s,i),n=Ud(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(ge&&n&&Td(t),t.flags|=1,wt(e,t,r,i),t.child)}function om(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Gd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Nv(e,t,s,r,i)):(e=xa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(o,r)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=rr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Nv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(zs(s,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return hh(e,t,n,r,i)}function Av(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(pi,$t),$t|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(pi,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(pi,$t),$t|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,he(pi,$t),$t|=r;return wt(e,t,i,n),t.child}function Rv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hh(e,t,n,r,i){var s=At(n)?Mr:gt.current;return s=xi(t,s),_i(t,i),n=Md(e,t,n,r,s,i),r=Ud(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(ge&&r&&Td(t),t.flags|=1,wt(e,t,n,i),t.child)}function am(e,t,n,r,i){if(At(n)){var s=!0;Ha(t)}else s=!1;if(_i(t,i),t.stateNode===null)Ca(e,t),iv(t,n,r),uh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=At(n)?Mr:gt.current,u=xi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Jp(t,o,r,u),bn=!1;var h=t.memoizedState;o.state=h,Qa(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Nt.current||bn?(typeof c=="function"&&(lh(t,n,c,r),l=t.memoizedState),(a=bn||Xp(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,nv(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Jt(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=At(n)?Mr:gt.current,l=xi(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Jp(t,o,r,l),bn=!1,h=t.memoizedState,o.state=h,Qa(t,r,o,i);var v=t.memoizedState;a!==d||h!==v||Nt.current||bn?(typeof g=="function"&&(lh(t,n,g,r),v=t.memoizedState),(u=bn||Xp(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return dh(e,t,n,r,s,i)}function dh(e,t,n,r,i,s){Rv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Wp(t,n,!1),Pn(e,t,s);r=t.stateNode,_S.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ni(t,e.child,null,s),t.child=Ni(t,null,a,s)):wt(e,t,a,s),t.memoizedState=r.state,i&&Wp(t,n,!0),t.child}function Pv(e){var t=e.stateNode;t.pendingContext?qp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qp(e,t.context,!1),$d(e,t.containerInfo)}function lm(e,t,n,r,i){return Di(),xd(i),t.flags|=256,wt(e,t,n,r),t.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function ph(e){return{baseLanes:e,cachePool:null,transitions:null}}function $v(e,t,n){var r=t.pendingProps,i=Ee.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(Ee,i&1),e===null)return oh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bl(o,r,0,null),e=$r(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ph(n),t.memoizedState=fh,e):Bd(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SS(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=rr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rr(a,s):(s=$r(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?ph(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=fh,r}return s=e.child,e=s.sibling,r=rr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bd(e,t){return t=Bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zo(e,t,n,r){return r!==null&&xd(r),Ni(t,e.child,null,n),e=Bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Zu(Error(D(422))),Zo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Bl({mode:"visible",children:r.children},i,0,null),s=$r(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ni(t,e.child,null,o),t.child.memoizedState=ph(o),t.memoizedState=fh,s);if(!(t.mode&1))return Zo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=Zu(s,r,void 0),Zo(e,t,o,r)}if(a=(o&e.childLanes)!==0,Dt||a){if(r=Ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(e,i),rn(r,e,i,-1))}return Kd(),r=Zu(Error(D(421))),Zo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=OS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Lt=Zn(i.nextSibling),Mt=t,ge=!0,en=null,e!==null&&(jt[Ht++]=Tn,jt[Ht++]=In,jt[Ht++]=Ur,Tn=e.id,In=e.overflow,Ur=t),t=Bd(t,r.children),t.flags|=4096,t)}function um(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ah(e.return,t,n)}function ec(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Lv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,n,t);else if(e.tag===19)um(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ya(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ec(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ya(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ec(t,!0,n,null,s);break;case"together":ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ca(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kS(e,t,n){switch(t.tag){case 3:Pv(t),Di();break;case 5:av(t);break;case 1:At(t.type)&&Ha(t);break;case 4:$d(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(Ka,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?$v(e,t,n):(he(Ee,Ee.current&1),e=Pn(e,t,n),e!==null?e.sibling:null);he(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Lv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Av(e,t,n)}return Pn(e,t,n)}var Ov,mh,Fv,Mv;Ov=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mh=function(){};Fv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xr(mn.current);var s=null;switch(n){case"input":i=Mc(e,i),r=Mc(e,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=bc(e,i),r=bc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=za)}zc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Mv=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function CS(e,t,n){var r=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return At(t.type)&&ja(),lt(t),null;case 3:return r=t.stateNode,Ai(),fe(Nt),fe(gt),Od(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(kh(en),en=null))),mh(e,t),lt(t),null;case 5:Ld(t);var i=xr(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)Fv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return lt(t),null}if(e=xr(mn.current),Xo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[cn]=t,r[qs]=s,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<ps.length;i++)de(ps[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":vp(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Ep(r,s),de("invalid",r)}zc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Yo(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Yo(r.textContent,a,e),i=["children",""+a]):Os.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":zo(r),wp(r,s,!0);break;case"textarea":zo(r),_p(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=za)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[cn]=t,e[qs]=r,Ov(e,t,!1,!1),t.stateNode=e;e:{switch(o=jc(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<ps.length;i++)de(ps[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":vp(e,r),i=Mc(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),de("invalid",e);break;case"textarea":Ep(e,r),i=bc(e,r),de("invalid",e);break;default:i=r}zc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fs(e,l):typeof l=="number"&&Fs(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Os.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",e):l!=null&&hd(e,s,l,o))}switch(n){case"input":zo(e),wp(e,r,!1);break;case"textarea":zo(e),_p(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?yi(e,!!r.multiple,s,!1):r.defaultValue!=null&&yi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=za)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Mv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=xr(Ks.current),xr(mn.current),Xo(t)){if(r=t.stateNode,n=t.memoizedProps,r[cn]=t,(s=r.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:Yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=t,t.stateNode=r}return lt(t),null;case 13:if(fe(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&Lt!==null&&t.mode&1&&!(t.flags&128))ev(),Di(),t.flags|=98560,s=!1;else if(s=Xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[cn]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),s=!1}else en!==null&&(kh(en),en=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Ue===0&&(Ue=3):Kd())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Ai(),mh(e,t),e===null&&js(t.stateNode.containerInfo),lt(t),null;case 10:return Ad(t.type._context),lt(t),null;case 17:return At(t.type)&&ja(),lt(t),null;case 19:if(fe(Ee),s=t.memoizedState,s===null)return lt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)os(s,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ya(e),o!==null){for(t.flags|=128,os(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(Ee,Ee.current&1|2),t.child}e=e.sibling}s.tail!==null&&Re()>Pi&&(t.flags|=128,r=!0,os(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ya(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ge)return lt(t),null}else 2*Re()-s.renderingStartTime>Pi&&n!==1073741824&&(t.flags|=128,r=!0,os(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Re(),t.sibling=null,n=Ee.current,he(Ee,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return Wd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function TS(e,t){switch(Id(t),t.tag){case 1:return At(t.type)&&ja(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ai(),fe(Nt),fe(gt),Od(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ld(t),null;case 13:if(fe(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(Ee),null;case 4:return Ai(),null;case 10:return Ad(t.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var ea=!1,ht=!1,IS=typeof WeakSet=="function"?WeakSet:Set,F=null;function fi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function gh(e,t,n){try{n()}catch(r){Te(e,t,r)}}var cm=!1;function xS(e,t){if(Zc=Va,e=By(),Cd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eh={focusedElem:e,selectionRange:n},Va=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Jt(t.type,w),_);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(E){Te(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return v=cm,cm=!1,v}function Ts(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&gh(t,n,s)}i=i.next}while(i!==r)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Uv(e){var t=e.alternate;t!==null&&(e.alternate=null,Uv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[qs],delete t[rh],delete t[uS],delete t[cS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vv(e){return e.tag===5||e.tag===3||e.tag===4}function hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=za));else if(r!==4&&(e=e.child,e!==null))for(vh(e,t,n),e=e.sibling;e!==null;)vh(e,t,n),e=e.sibling}function wh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wh(e,t,n),e=e.sibling;e!==null;)wh(e,t,n),e=e.sibling}var Ze=null,Zt=!1;function Un(e,t,n){for(n=n.child;n!==null;)bv(e,t,n),n=n.sibling}function bv(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:ht||fi(n,t);case 6:var r=Ze,i=Zt;Ze=null,Un(e,t,n),Ze=r,Zt=i,Ze!==null&&(Zt?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Zt?(e=Ze,n=n.stateNode,e.nodeType===8?Ku(e.parentNode,n):e.nodeType===1&&Ku(e,n),bs(e)):Ku(Ze,n.stateNode));break;case 4:r=Ze,i=Zt,Ze=n.stateNode.containerInfo,Zt=!0,Un(e,t,n),Ze=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gh(n,t,o),i=i.next}while(i!==r)}Un(e,t,n);break;case 1:if(!ht&&(fi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,t,a)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Un(e,t,n),ht=r):Un(e,t,n);break;default:Un(e,t,n)}}function dm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IS),t.forEach(function(r){var i=FS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,Zt=!1;break e;case 3:Ze=a.stateNode.containerInfo,Zt=!0;break e;case 4:Ze=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(Ze===null)throw Error(D(160));bv(s,o,i),Ze=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bv(t,e),t=t.sibling}function Bv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),on(e),r&4){try{Ts(3,e,e.return),Vl(3,e)}catch(w){Te(e,e.return,w)}try{Ts(5,e,e.return)}catch(w){Te(e,e.return,w)}}break;case 1:Xt(t,e),on(e),r&512&&n!==null&&fi(n,n.return);break;case 5:if(Xt(t,e),on(e),r&512&&n!==null&&fi(n,n.return),e.flags&32){var i=e.stateNode;try{Fs(i,"")}catch(w){Te(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ly(i,s),jc(a,o);var u=jc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?fy(i,d):c==="dangerouslySetInnerHTML"?hy(i,d):c==="children"?Fs(i,d):hd(i,c,d,u)}switch(a){case"input":Uc(i,s);break;case"textarea":uy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?yi(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?yi(i,!!s.multiple,s.defaultValue,!0):yi(i,!!s.multiple,s.multiple?[]:"",!1))}i[qs]=s}catch(w){Te(e,e.return,w)}}break;case 6:if(Xt(t,e),on(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Te(e,e.return,w)}}break;case 3:if(Xt(t,e),on(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bs(t.containerInfo)}catch(w){Te(e,e.return,w)}break;case 4:Xt(t,e),on(e);break;case 13:Xt(t,e),on(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hd=Re())),r&4&&dm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(u=ht)||c,Xt(t,e),ht=u):Xt(t,e),on(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(d=F=c;F!==null;){switch(h=F,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ts(4,h,h.return);break;case 1:fi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){Te(r,n,w)}}break;case 5:fi(h,h.return);break;case 22:if(h.memoizedState!==null){pm(d);continue}}g!==null?(g.return=h,F=g):pm(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dy("display",o))}catch(w){Te(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Te(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(t,e),on(e),r&4&&dm(e);break;case 21:break;default:Xt(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vv(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fs(i,""),r.flags&=-33);var s=hm(e);wh(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hm(e);vh(e,a,o);break;default:throw Error(D(161))}}catch(l){Te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DS(e,t,n){F=e,zv(e)}function zv(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ea;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ht;a=ea;var u=ht;if(ea=o,(ht=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?mm(i):l!==null?(l.return=o,F=l):mm(i);for(;s!==null;)F=s,zv(s),s=s.sibling;F=i,ea=a,ht=u}fm(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):fm(e)}}function fm(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||Vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Yp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&bs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ht||t.flags&512&&yh(t)}catch(h){Te(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function pm(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function mm(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(l){Te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Te(t,i,l)}}var s=t.return;try{yh(t)}catch(l){Te(t,s,l)}break;case 5:var o=t.return;try{yh(t)}catch(l){Te(t,o,l)}}}catch(l){Te(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var NS=Math.ceil,Za=Mn.ReactCurrentDispatcher,zd=Mn.ReactCurrentOwner,Wt=Mn.ReactCurrentBatchConfig,ie=0,Ge=null,Oe=null,tt=0,$t=0,pi=gr(0),Ue=0,Xs=null,br=0,bl=0,jd=0,Is=null,It=null,Hd=0,Pi=1/0,kn=null,el=!1,Eh=null,tr=null,ta=!1,Wn=null,tl=0,xs=0,_h=null,Ta=-1,Ia=0;function St(){return ie&6?Re():Ta!==-1?Ta:Ta=Re()}function nr(e){return e.mode&1?ie&2&&tt!==0?tt&-tt:dS.transition!==null?(Ia===0&&(Ia=Ty()),Ia):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Py(e.type)),e):1}function rn(e,t,n,r){if(50<xs)throw xs=0,_h=null,Error(D(185));go(e,n,r),(!(ie&2)||e!==Ge)&&(e===Ge&&(!(ie&2)&&(bl|=n),Ue===4&&zn(e,tt)),Rt(e,r),n===1&&ie===0&&!(t.mode&1)&&(Pi=Re()+500,Fl&&yr()))}function Rt(e,t){var n=e.callbackNode;d_(e,t);var r=Ua(e,e===Ge?tt:0);if(r===0)n!==null&&Cp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cp(n),t===1)e.tag===0?hS(gm.bind(null,e)):Xy(gm.bind(null,e)),aS(function(){!(ie&6)&&yr()}),n=null;else{switch(Iy(r)){case 1:n=gd;break;case 4:n=ky;break;case 16:n=Ma;break;case 536870912:n=Cy;break;default:n=Ma}n=Yv(n,jv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jv(e,t){if(Ta=-1,Ia=0,ie&6)throw Error(D(327));var n=e.callbackNode;if(Si()&&e.callbackNode!==n)return null;var r=Ua(e,e===Ge?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nl(e,r);else{t=r;var i=ie;ie|=2;var s=qv();(Ge!==e||tt!==t)&&(kn=null,Pi=Re()+500,Pr(e,t));do try{PS();break}catch(a){Hv(e,a)}while(1);Nd(),Za.current=s,ie=i,Oe!==null?t=0:(Ge=null,tt=0,t=Ue)}if(t!==0){if(t===2&&(i=Gc(e),i!==0&&(r=i,t=Sh(e,i))),t===1)throw n=Xs,Pr(e,0),zn(e,r),Rt(e,Re()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!AS(i)&&(t=nl(e,r),t===2&&(s=Gc(e),s!==0&&(r=s,t=Sh(e,s))),t===1))throw n=Xs,Pr(e,0),zn(e,r),Rt(e,Re()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Sr(e,It,kn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Hd+500-Re(),10<t)){if(Ua(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nh(Sr.bind(null,e,It,kn),t);break}Sr(e,It,kn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-nn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NS(r/1960))-r,10<r){e.timeoutHandle=nh(Sr.bind(null,e,It,kn),r);break}Sr(e,It,kn);break;case 5:Sr(e,It,kn);break;default:throw Error(D(329))}}}return Rt(e,Re()),e.callbackNode===n?jv.bind(null,e):null}function Sh(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=nl(e,t),e!==2&&(t=It,It=n,t!==null&&kh(t)),e}function kh(e){It===null?It=e:It.push.apply(It,e)}function AS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~jd,t&=~bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function gm(e){if(ie&6)throw Error(D(327));Si();var t=Ua(e,0);if(!(t&1))return Rt(e,Re()),null;var n=nl(e,t);if(e.tag!==0&&n===2){var r=Gc(e);r!==0&&(t=r,n=Sh(e,r))}if(n===1)throw n=Xs,Pr(e,0),zn(e,t),Rt(e,Re()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,It,kn),Rt(e,Re()),null}function qd(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Pi=Re()+500,Fl&&yr())}}function Br(e){Wn!==null&&Wn.tag===0&&!(ie&6)&&Si();var t=ie;ie|=1;var n=Wt.transition,r=ue;try{if(Wt.transition=null,ue=1,e)return e()}finally{ue=r,Wt.transition=n,ie=t,!(ie&6)&&yr()}}function Wd(){$t=pi.current,fe(pi)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oS(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ja();break;case 3:Ai(),fe(Nt),fe(gt),Od();break;case 5:Ld(r);break;case 4:Ai();break;case 13:fe(Ee);break;case 19:fe(Ee);break;case 10:Ad(r.type._context);break;case 22:case 23:Wd()}n=n.return}if(Ge=e,Oe=e=rr(e.current,null),tt=$t=t,Ue=0,Xs=null,jd=bl=br=0,It=Is=null,Ir!==null){for(t=0;t<Ir.length;t++)if(n=Ir[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ir=null}return e}function Hv(e,t){do{var n=Oe;try{if(Nd(),Sa.current=Ja,Xa){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xa=!1}if(Vr=0,Ke=Fe=_e=null,Cs=!1,Gs=0,zd.current=null,n===null||n.return===null){Ue=1,Xs=t,Oe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=rm(o);if(g!==null){g.flags&=-257,im(g,o,a,s,t),g.mode&1&&nm(s,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){nm(s,u,t),Kd();break e}l=Error(D(426))}}else if(ge&&a.mode&1){var _=rm(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),im(_,o,a,s,t),xd(Ri(l,a));break e}}s=l=Ri(l,a),Ue!==4&&(Ue=2),Is===null?Is=[s]:Is.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=xv(s,l,t);Qp(s,p);break e;case 1:a=l;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tr===null||!tr.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Dv(s,a,t);Qp(s,E);break e}}s=s.return}while(s!==null)}Kv(n)}catch(T){t=T,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function qv(){var e=Za.current;return Za.current=Ja,e===null?Ja:e}function Kd(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ge===null||!(br&268435455)&&!(bl&268435455)||zn(Ge,tt)}function nl(e,t){var n=ie;ie|=2;var r=qv();(Ge!==e||tt!==t)&&(kn=null,Pr(e,t));do try{RS();break}catch(i){Hv(e,i)}while(1);if(Nd(),ie=n,Za.current=r,Oe!==null)throw Error(D(261));return Ge=null,tt=0,Ue}function RS(){for(;Oe!==null;)Wv(Oe)}function PS(){for(;Oe!==null&&!r_();)Wv(Oe)}function Wv(e){var t=Qv(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?Kv(e):Oe=t,zd.current=null}function Kv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TS(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Oe=null;return}}else if(n=CS(n,t,$t),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Ue===0&&(Ue=5)}function Sr(e,t,n){var r=ue,i=Wt.transition;try{Wt.transition=null,ue=1,$S(e,t,n,r)}finally{Wt.transition=i,ue=r}return null}function $S(e,t,n,r){do Si();while(Wn!==null);if(ie&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(f_(e,s),e===Ge&&(Oe=Ge=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ta||(ta=!0,Yv(Ma,function(){return Si(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var o=ue;ue=1;var a=ie;ie|=4,zd.current=null,xS(e,n),Bv(n,e),Z_(eh),Va=!!Zc,eh=Zc=null,e.current=n,DS(n),i_(),ie=a,ue=o,Wt.transition=s}else e.current=n;if(ta&&(ta=!1,Wn=e,tl=i),s=e.pendingLanes,s===0&&(tr=null),a_(n.stateNode),Rt(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(el)throw el=!1,e=Eh,Eh=null,e;return tl&1&&e.tag!==0&&Si(),s=e.pendingLanes,s&1?e===_h?xs++:(xs=0,_h=e):xs=0,yr(),null}function Si(){if(Wn!==null){var e=Iy(tl),t=Wt.transition,n=ue;try{if(Wt.transition=null,ue=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,tl=0,ie&6)throw Error(D(331));var i=ie;for(ie|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Ts(8,c,s)}var d=c.child;if(d!==null)d.return=c,F=d;else for(;F!==null;){c=F;var h=c.sibling,g=c.return;if(Uv(c),c===u){F=null;break}if(h!==null){h.return=g,F=h;break}F=g}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ts(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,F=p;break e}F=s.return}}var f=e.current;for(F=f;F!==null;){o=F;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,F=m;else e:for(o=f;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vl(9,a)}}catch(T){Te(a,a.return,T)}if(a===o){F=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,F=E;break e}F=a.return}}if(ie=i,yr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{ue=n,Wt.transition=t}}return!1}function ym(e,t,n){t=Ri(n,t),t=xv(e,t,1),e=er(e,t,1),t=St(),e!==null&&(go(e,1,t),Rt(e,t))}function Te(e,t,n){if(e.tag===3)ym(e,e,n);else for(;t!==null;){if(t.tag===3){ym(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=Ri(n,e),e=Dv(t,e,1),t=er(t,e,1),e=St(),t!==null&&(go(t,1,e),Rt(t,e));break}}t=t.return}}function LS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(tt&n)===n&&(Ue===4||Ue===3&&(tt&130023424)===tt&&500>Re()-Hd?Pr(e,0):jd|=n),Rt(e,t)}function Gv(e,t){t===0&&(e.mode&1?(t=qo,qo<<=1,!(qo&130023424)&&(qo=4194304)):t=1);var n=St();e=Rn(e,t),e!==null&&(go(e,t,n),Rt(e,n))}function OS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gv(e,n)}function FS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Gv(e,n)}var Qv;Qv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)Dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dt=!1,kS(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,ge&&t.flags&1048576&&Jy(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ca(e,t),e=t.pendingProps;var i=xi(t,gt.current);_i(t,n),i=Md(null,t,r,e,i,n);var s=Ud();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(s=!0,Ha(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pd(t),i.updater=Ml,t.stateNode=i,i._reactInternals=t,uh(t,r,e,n),t=dh(null,t,r,!0,s,n)):(t.tag=0,ge&&s&&Td(t),wt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ca(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=US(r),e=Jt(r,e),i){case 0:t=hh(null,t,r,e,n);break e;case 1:t=am(null,t,r,e,n);break e;case 11:t=sm(null,t,r,e,n);break e;case 14:t=om(null,t,r,Jt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),hh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),am(e,t,r,i,n);case 3:e:{if(Pv(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,nv(e,t),Qa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ri(Error(D(423)),t),t=lm(e,t,r,n,i);break e}else if(r!==i){i=Ri(Error(D(424)),t),t=lm(e,t,r,n,i);break e}else for(Lt=Zn(t.stateNode.containerInfo.firstChild),Mt=t,ge=!0,en=null,n=ov(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===i){t=Pn(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 5:return av(t),e===null&&oh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,th(r,i)?o=null:s!==null&&th(r,s)&&(t.flags|=32),Rv(e,t),wt(e,t,o,n),t.child;case 6:return e===null&&oh(t),null;case 13:return $v(e,t,n);case 4:return $d(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ni(t,null,r,n):wt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),sm(e,t,r,i,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,he(Ka,r._currentValue),r._currentValue=o,s!==null)if(sn(s.value,o)){if(s.children===i.children&&!Nt.current){t=Pn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ah(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ah(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_i(t,n),i=Gt(i),r=r(i),t.flags|=1,wt(e,t,r,n),t.child;case 14:return r=t.type,i=Jt(r,t.pendingProps),i=Jt(r.type,i),om(e,t,r,i,n);case 15:return Nv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Jt(r,i),Ca(e,t),t.tag=1,At(r)?(e=!0,Ha(t)):e=!1,_i(t,n),iv(t,r,i),uh(t,r,i,n),dh(null,t,r,!0,e,n);case 19:return Lv(e,t,n);case 22:return Av(e,t,n)}throw Error(D(156,t.tag))};function Yv(e,t){return Sy(e,t)}function MS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,r){return new MS(e,t,n,r)}function Gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function US(e){if(typeof e=="function")return Gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fd)return 11;if(e===pd)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Gd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ii:return $r(n.children,i,s,t);case dd:o=8,i|=8;break;case $c:return e=qt(12,n,t,i|2),e.elementType=$c,e.lanes=s,e;case Lc:return e=qt(13,n,t,i),e.elementType=Lc,e.lanes=s,e;case Oc:return e=qt(19,n,t,i),e.elementType=Oc,e.lanes=s,e;case sy:return Bl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ry:o=10;break e;case iy:o=9;break e;case fd:o=11;break e;case pd:o=14;break e;case Vn:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=qt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function $r(e,t,n,r){return e=qt(7,e,r,t),e.lanes=n,e}function Bl(e,t,n,r){return e=qt(22,e,r,t),e.elementType=sy,e.lanes=n,e.stateNode={isHidden:!1},e}function tc(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function nc(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fu(0),this.expirationTimes=Fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qd(e,t,n,r,i,s,o,a,l){return e=new VS(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(s),e}function bS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xv(e){if(!e)return hr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(At(n))return Yy(e,n,t)}return t}function Jv(e,t,n,r,i,s,o,a,l){return e=Qd(n,r,!0,e,i,s,o,a,l),e.context=Xv(null),n=e.current,r=St(),i=nr(n),s=Dn(r,i),s.callback=t??null,er(n,s,i),e.current.lanes=i,go(e,i,r),Rt(e,r),e}function zl(e,t,n,r){var i=t.current,s=St(),o=nr(i);return n=Xv(n),t.context===null?t.context=n:t.pendingContext=n,t=Dn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(i,t,o),e!==null&&(rn(e,i,o,s),_a(e,i,o)),o}function rl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yd(e,t){vm(e,t),(e=e.alternate)&&vm(e,t)}function BS(){return null}var Zv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xd(e){this._internalRoot=e}jl.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));zl(e,t,null,null)};jl.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Br(function(){zl(null,e,null,null)}),t[An]=null}};function jl(e){this._internalRoot=e}jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ny();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&Ry(e)}};function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wm(){}function zS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=rl(o);s.call(u)}}var o=Jv(t,r,e,0,null,!1,!1,"",wm);return e._reactRootContainer=o,e[An]=o.current,js(e.nodeType===8?e.parentNode:e),Br(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=rl(l);a.call(u)}}var l=Qd(e,0,!1,null,null,!1,!1,"",wm);return e._reactRootContainer=l,e[An]=l.current,js(e.nodeType===8?e.parentNode:e),Br(function(){zl(t,l,n,r)}),l}function ql(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rl(o);a.call(l)}}zl(t,o,e,i)}else o=zS(n,t,e,i,r);return rl(o)}xy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(yd(t,n|1),Rt(t,Re()),!(ie&6)&&(Pi=Re()+500,yr()))}break;case 13:Br(function(){var r=Rn(e,1);if(r!==null){var i=St();rn(r,e,1,i)}}),Yd(e,1)}};vd=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var n=St();rn(t,e,134217728,n)}Yd(e,134217728)}};Dy=function(e){if(e.tag===13){var t=nr(e),n=Rn(e,t);if(n!==null){var r=St();rn(n,e,t,r)}Yd(e,t)}};Ny=function(){return ue};Ay=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};qc=function(e,t,n){switch(t){case"input":if(Uc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ol(r);if(!i)throw Error(D(90));ay(r),Uc(r,i)}}}break;case"textarea":uy(e,n);break;case"select":t=n.value,t!=null&&yi(e,!!n.multiple,t,!1)}};gy=qd;yy=Br;var jS={usingClientEntryPoint:!1,Events:[vo,li,Ol,py,my,qd]},as={findFiberByHostInstance:Tr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HS={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ey(e),e===null?null:e.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||BS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Rl=na.inject(HS),pn=na}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(t))throw Error(D(200));return bS(e,t,null,n)};bt.createRoot=function(e,t){if(!Jd(e))throw Error(D(299));var n=!1,r="",i=Zv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qd(e,1,!1,null,null,n,!1,r,i),e[An]=t.current,js(e.nodeType===8?e.parentNode:e),new Xd(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Ey(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Br(e)};bt.hydrate=function(e,t,n){if(!Hl(t))throw Error(D(200));return ql(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!Jd(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Zv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Jv(t,null,e,1,n??null,i,!1,s,o),e[An]=t.current,js(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jl(t)};bt.render=function(e,t,n){if(!Hl(t))throw Error(D(200));return ql(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(D(40));return e._reactRootContainer?(Br(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};bt.unstable_batchedUpdates=qd;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ql(e,t,n,!1,r)};bt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=bt})(BE);var Em=Ac;Nc.createRoot=Em.createRoot,Nc.hydrateRoot=Em.hydrateRoot;var Eo=e=>e.type==="checkbox",mi=e=>e instanceof Date,Et=e=>e==null;const e0=e=>typeof e=="object";var ze=e=>!Et(e)&&!Array.isArray(e)&&e0(e)&&!mi(e),qS=e=>ze(e)&&e.target?Eo(e.target)?e.target.checked:e.target.value:e,WS=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,KS=(e,t)=>e.has(WS(t)),GS=e=>{const t=e.constructor&&e.constructor.prototype;return ze(t)&&t.hasOwnProperty("isPrototypeOf")},Zd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kr(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Zd&&(e instanceof Blob||e instanceof FileList))&&(n||ze(e)))if(t=n?[]:{},!Array.isArray(e)&&!GS(e))t=e;else for(const r in e)t[r]=kr(e[r]);else return e;return t}var _o=e=>Array.isArray(e)?e.filter(Boolean):[],$e=e=>e===void 0,V=(e,t,n)=>{if(!t||!ze(e))return n;const r=_o(t.split(/[,[\].]+?/)).reduce((i,s)=>Et(i)?i:i[s],e);return $e(r)||r===e?$e(e[t])?n:e[t]:r};const _m={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},En={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Hn.createContext(null);var QS=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==tn.all&&(t._proxyFormState[o]=!r||tn.all),n&&(n[o]=!0),e[o]}});return i},zt=e=>ze(e)&&!Object.keys(e).length,YS=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return zt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||tn.all))},rc=e=>Array.isArray(e)?e:[e];function XS(e){const t=Hn.useRef(e);t.current=e,Hn.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var dn=e=>typeof e=="string",JS=(e,t,n,r,i)=>dn(e)?(r&&t.watch.add(e),V(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),V(n,s))):(r&&(t.watchAll=!0),n),ef=e=>/^\w*$/.test(e),t0=e=>_o(e.replace(/["|']|\]/g,"").split(/\.|\[/));function me(e,t,n){let r=-1;const i=ef(t)?[t]:t0(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=e[a];l=ze(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}var ZS=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const Ch=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=V(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else ze(o)&&Ch(o,t)}}};var Sm=e=>({isOnSubmit:!e||e===tn.onSubmit,isOnBlur:e===tn.onBlur,isOnChange:e===tn.onChange,isOnAll:e===tn.all,isOnTouch:e===tn.onTouched}),km=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),ek=(e,t,n)=>{const r=_o(V(e,n));return me(r,"root",t[n]),me(e,n,r),e},ki=e=>typeof e=="boolean",tf=e=>e.type==="file",Kn=e=>typeof e=="function",il=e=>{if(!Zd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Da=e=>dn(e),nf=e=>e.type==="radio",sl=e=>e instanceof RegExp;const Cm={value:!1,isValid:!1},Tm={value:!0,isValid:!0};var n0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$e(e[0].attributes.value)?$e(e[0].value)||e[0].value===""?Tm:{value:e[0].value,isValid:!0}:Tm:Cm}return Cm};const Im={isValid:!1,value:null};var r0=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Im):Im;function xm(e,t,n="validate"){if(Da(e)||Array.isArray(e)&&e.every(Da)||ki(e)&&!e)return{type:n,message:Da(e)?e:"",ref:t}}var ei=e=>ze(e)&&!sl(e)?e:{value:e,message:""},Dm=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:g,name:v,valueAsNumber:w,mount:_,disabled:p}=e._f,f=V(t,v);if(!_||p)return{};const m=o?o[0]:s,E=Z=>{r&&m.reportValidity&&(m.setCustomValidity(ki(Z)?"":Z||""),m.reportValidity())},T={},R=nf(s),P=Eo(s),$=R||P,ee=(w||tf(s))&&$e(s.value)&&$e(f)||il(s)&&s.value===""||f===""||Array.isArray(f)&&!f.length,z=ZS.bind(null,v,n,T),le=(Z,B,se,He=En.maxLength,qe=En.minLength)=>{const st=Z?B:se;T[v]={type:Z?He:qe,message:st,ref:s,...z(Z?He:qe,st)}};if(i?!Array.isArray(f)||!f.length:a&&(!$&&(ee||Et(f))||ki(f)&&!f||P&&!n0(o).isValid||R&&!r0(o).isValid)){const{value:Z,message:B}=Da(a)?{value:!!a,message:a}:ei(a);if(Z&&(T[v]={type:En.required,message:B,ref:m,...z(En.required,B)},!n))return E(B),T}if(!ee&&(!Et(c)||!Et(d))){let Z,B;const se=ei(d),He=ei(c);if(!Et(f)&&!isNaN(f)){const qe=s.valueAsNumber||f&&+f;Et(se.value)||(Z=qe>se.value),Et(He.value)||(B=qe<He.value)}else{const qe=s.valueAsDate||new Date(f),st=K=>new Date(new Date().toDateString()+" "+K),L=s.type=="time",W=s.type=="week";dn(se.value)&&f&&(Z=L?st(f)>st(se.value):W?f>se.value:qe>new Date(se.value)),dn(He.value)&&f&&(B=L?st(f)<st(He.value):W?f<He.value:qe<new Date(He.value))}if((Z||B)&&(le(!!Z,se.message,He.message,En.max,En.min),!n))return E(T[v].message),T}if((l||u)&&!ee&&(dn(f)||i&&Array.isArray(f))){const Z=ei(l),B=ei(u),se=!Et(Z.value)&&f.length>+Z.value,He=!Et(B.value)&&f.length<+B.value;if((se||He)&&(le(se,Z.message,B.message),!n))return E(T[v].message),T}if(h&&!ee&&dn(f)){const{value:Z,message:B}=ei(h);if(sl(Z)&&!f.match(Z)&&(T[v]={type:En.pattern,message:B,ref:s,...z(En.pattern,B)},!n))return E(B),T}if(g){if(Kn(g)){const Z=await g(f,t),B=xm(Z,m);if(B&&(T[v]={...B,...z(En.validate,B.message)},!n))return E(B.message),T}else if(ze(g)){let Z={};for(const B in g){if(!zt(Z)&&!n)break;const se=xm(await g[B](f,t),m,B);se&&(Z={...se,...z(B,se.message)},E(se.message),n&&(T[v]=Z))}if(!zt(Z)&&(T[v]={ref:m,...Z},!n))return T}}return E(!0),T};function tk(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=$e(e)?r++:e[t[r++]];return e}function nk(e){for(const t in e)if(!$e(e[t]))return!1;return!0}function Je(e,t){const n=Array.isArray(t)?t:ef(t)?[t]:t0(t),r=n.length===1?e:tk(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(ze(r)&&zt(r)||Array.isArray(r)&&nk(r))&&Je(e,n.slice(0,-1)),e}function ic(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var ol=e=>Et(e)||!e0(e);function Dr(e,t){if(ol(e)||ol(t))return e===t;if(mi(e)&&mi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(mi(s)&&mi(o)||ze(s)&&ze(o)||Array.isArray(s)&&Array.isArray(o)?!Dr(s,o):s!==o)return!1}}return!0}var i0=e=>e.type==="select-multiple",rk=e=>nf(e)||Eo(e),sc=e=>il(e)&&e.isConnected,s0=e=>{for(const t in e)if(Kn(e[t]))return!0;return!1};function al(e,t={}){const n=Array.isArray(e);if(ze(e)||n)for(const r in e)Array.isArray(e[r])||ze(e[r])&&!s0(e[r])?(t[r]=Array.isArray(e[r])?[]:{},al(e[r],t[r])):Et(e[r])||(t[r]=!0);return t}function o0(e,t,n){const r=Array.isArray(e);if(ze(e)||r)for(const i in e)Array.isArray(e[i])||ze(e[i])&&!s0(e[i])?$e(t)||ol(n[i])?n[i]=Array.isArray(e[i])?al(e[i],[]):{...al(e[i])}:o0(e[i],Et(t)?{}:t[i],n[i]):n[i]=!Dr(e[i],t[i]);return n}var oc=(e,t)=>o0(e,t,al(t)),a0=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>$e(e)?e:t?e===""?NaN:e&&+e:n&&dn(e)?new Date(e):r?r(e):e;function ac(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return tf(t)?t.files:nf(t)?r0(e.refs).value:i0(t)?[...t.selectedOptions].map(({value:n})=>n):Eo(t)?n0(e.refs).value:a0($e(t.value)?e.ref.value:t.value,e)}var ik=(e,t,n,r)=>{const i={};for(const s of e){const o=V(t,s);o&&me(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ls=e=>$e(e)?e:sl(e)?e.source:ze(e)?sl(e.value)?e.value.source:e.value:e,sk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Nm(e,t,n){const r=V(e,n);if(r||ef(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=V(t,s),a=V(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var ok=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,ak=(e,t)=>!_o(V(e,t)).length&&Je(e,t);const lk={mode:tn.onSubmit,reValidateMode:tn.onChange,shouldFocusError:!0};function uk(e={},t){let n={...lk,...e},r={submitCount:0,isDirty:!1,isLoading:Kn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=ze(n.defaultValues)||ze(n.values)?kr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:kr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:ic(),array:ic(),state:ic()},g=e.resetOptions&&e.resetOptions.keepDirtyValues,v=Sm(n.mode),w=Sm(n.reValidateMode),_=n.criteriaMode===tn.all,p=y=>S=>{clearTimeout(c),c=setTimeout(y,S)},f=async y=>{if(d.isValid||y){const S=n.resolver?zt((await ee()).errors):await le(i,!0);S!==r.isValid&&h.state.next({isValid:S})}},m=y=>d.isValidating&&h.state.next({isValidating:y}),E=(y,S=[],k,U,O=!0,A=!0)=>{if(U&&k){if(a.action=!0,A&&Array.isArray(V(i,y))){const j=k(V(i,y),U.argA,U.argB);O&&me(i,y,j)}if(A&&Array.isArray(V(r.errors,y))){const j=k(V(r.errors,y),U.argA,U.argB);O&&me(r.errors,y,j),ak(r.errors,y)}if(d.touchedFields&&A&&Array.isArray(V(r.touchedFields,y))){const j=k(V(r.touchedFields,y),U.argA,U.argB);O&&me(r.touchedFields,y,j)}d.dirtyFields&&(r.dirtyFields=oc(s,o)),h.state.next({name:y,isDirty:B(y,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else me(o,y,S)},T=(y,S)=>{me(r.errors,y,S),h.state.next({errors:r.errors})},R=(y,S,k,U)=>{const O=V(i,y);if(O){const A=V(o,y,$e(k)?V(s,y):k);$e(A)||U&&U.defaultChecked||S?me(o,y,S?A:ac(O._f)):qe(y,A),a.mount&&f()}},P=(y,S,k,U,O)=>{let A=!1,j=!1;const Ce={name:y};if(!k||U){d.isDirty&&(j=r.isDirty,r.isDirty=Ce.isDirty=B(),A=j!==Ce.isDirty);const Ae=Dr(V(s,y),S);j=V(r.dirtyFields,y),Ae?Je(r.dirtyFields,y):me(r.dirtyFields,y,!0),Ce.dirtyFields=r.dirtyFields,A=A||d.dirtyFields&&j!==!Ae}if(k){const Ae=V(r.touchedFields,y);Ae||(me(r.touchedFields,y,k),Ce.touchedFields=r.touchedFields,A=A||d.touchedFields&&Ae!==k)}return A&&O&&h.state.next(Ce),A?Ce:{}},$=(y,S,k,U)=>{const O=V(r.errors,y),A=d.isValid&&ki(S)&&r.isValid!==S;if(e.delayError&&k?(u=p(()=>T(y,k)),u(e.delayError)):(clearTimeout(c),u=null,k?me(r.errors,y,k):Je(r.errors,y)),(k?!Dr(O,k):O)||!zt(U)||A){const j={...U,...A&&ki(S)?{isValid:S}:{},errors:r.errors,name:y};r={...r,...j},h.state.next(j)}m(!1)},ee=async y=>n.resolver(o,n.context,ik(y||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),z=async y=>{const{errors:S}=await ee();if(y)for(const k of y){const U=V(S,k);U?me(r.errors,k,U):Je(r.errors,k)}else r.errors=S;return S},le=async(y,S,k={valid:!0})=>{for(const U in y){const O=y[U];if(O){const{_f:A,...j}=O;if(A){const Ce=l.array.has(A.name),Ae=await Dm(O,o,_,n.shouldUseNativeValidation&&!S,Ce);if(Ae[A.name]&&(k.valid=!1,S))break;!S&&(V(Ae,A.name)?Ce?ek(r.errors,Ae,A.name):me(r.errors,A.name,Ae[A.name]):Je(r.errors,A.name))}j&&await le(j,S,k)}}return k.valid},Z=()=>{for(const y of l.unMount){const S=V(i,y);S&&(S._f.refs?S._f.refs.every(k=>!sc(k)):!sc(S._f.ref))&&ke(y)}l.unMount=new Set},B=(y,S)=>(y&&S&&me(o,y,S),!Dr(ce(),s)),se=(y,S,k)=>JS(y,l,{...a.mount?o:$e(S)?s:dn(y)?{[y]:S}:S},k,S),He=y=>_o(V(a.mount?o:s,y,e.shouldUnregister?V(s,y,[]):[])),qe=(y,S,k={})=>{const U=V(i,y);let O=S;if(U){const A=U._f;A&&(!A.disabled&&me(o,y,a0(S,A)),O=il(A.ref)&&Et(S)?"":S,i0(A.ref)?[...A.ref.options].forEach(j=>j.selected=O.includes(j.value)):A.refs?Eo(A.ref)?A.refs.length>1?A.refs.forEach(j=>(!j.defaultChecked||!j.disabled)&&(j.checked=Array.isArray(O)?!!O.find(Ce=>Ce===j.value):O===j.value)):A.refs[0]&&(A.refs[0].checked=!!O):A.refs.forEach(j=>j.checked=j.value===O):tf(A.ref)?A.ref.value="":(A.ref.value=O,A.ref.type||h.values.next({name:y,values:{...o}})))}(k.shouldDirty||k.shouldTouch)&&P(y,O,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&K(y)},st=(y,S,k)=>{for(const U in S){const O=S[U],A=`${y}.${U}`,j=V(i,A);(l.array.has(y)||!ol(O)||j&&!j._f)&&!mi(O)?st(A,O,k):qe(A,O,k)}},L=(y,S,k={})=>{const U=V(i,y),O=l.array.has(y),A=kr(S);me(o,y,A),O?(h.array.next({name:y,values:{...o}}),(d.isDirty||d.dirtyFields)&&k.shouldDirty&&h.state.next({name:y,dirtyFields:oc(s,o),isDirty:B(y,A)})):U&&!U._f&&!Et(A)?st(y,A,k):qe(y,A,k),km(y,l)&&h.state.next({...r}),h.values.next({name:y,values:{...o}}),!a.mount&&t()},W=async y=>{const S=y.target;let k=S.name,U=!0;const O=V(i,k),A=()=>S.type?ac(O._f):qS(y);if(O){let j,Ce;const Ae=A(),Jr=y.type===_m.BLUR||y.type===_m.FOCUS_OUT,fE=!sk(O._f)&&!n.resolver&&!V(r.errors,k)&&!O._f.deps||ok(Jr,V(r.touchedFields,k),r.isSubmitted,w,v),Nu=km(k,l,Jr);me(o,k,Ae),Jr?(O._f.onBlur&&O._f.onBlur(y),u&&u(0)):O._f.onChange&&O._f.onChange(y);const Au=P(k,Ae,Jr,!1),pE=!zt(Au)||Nu;if(!Jr&&h.values.next({name:k,type:y.type,values:{...o}}),fE)return d.isValid&&f(),pE&&h.state.next({name:k,...Nu?{}:Au});if(!Jr&&Nu&&h.state.next({...r}),m(!0),n.resolver){const{errors:cp}=await ee([k]),mE=Nm(r.errors,i,k),hp=Nm(cp,i,mE.name||k);j=hp.error,k=hp.name,Ce=zt(cp)}else j=(await Dm(O,o,_,n.shouldUseNativeValidation))[k],U=isNaN(Ae)||Ae===V(o,k,Ae),U&&(j?Ce=!1:d.isValid&&(Ce=await le(i,!0)));U&&(O._f.deps&&K(O._f.deps),$(k,Ce,j,Au))}},K=async(y,S={})=>{let k,U;const O=rc(y);if(m(!0),n.resolver){const A=await z($e(y)?y:O);k=zt(A),U=y?!O.some(j=>V(A,j)):k}else y?(U=(await Promise.all(O.map(async A=>{const j=V(i,A);return await le(j&&j._f?{[A]:j}:j)}))).every(Boolean),!(!U&&!r.isValid)&&f()):U=k=await le(i);return h.state.next({...!dn(y)||d.isValid&&k!==r.isValid?{}:{name:y},...n.resolver||!y?{isValid:k}:{},errors:r.errors,isValidating:!1}),S.shouldFocus&&!U&&Ch(i,A=>A&&V(r.errors,A),y?O:l.mount),U},ce=y=>{const S={...s,...a.mount?o:{}};return $e(y)?S:dn(y)?V(S,y):y.map(k=>V(S,k))},we=(y,S)=>({invalid:!!V((S||r).errors,y),isDirty:!!V((S||r).dirtyFields,y),isTouched:!!V((S||r).touchedFields,y),error:V((S||r).errors,y)}),Ne=y=>{y&&rc(y).forEach(S=>Je(r.errors,S)),h.state.next({errors:y?r.errors:{}})},Ye=(y,S,k)=>{const U=(V(i,y,{_f:{}})._f||{}).ref;me(r.errors,y,{...S,ref:U}),h.state.next({name:y,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&U&&U.focus&&U.focus()},ot=(y,S)=>Kn(y)?h.values.subscribe({next:k=>y(se(void 0,S),k)}):se(y,S,!0),ke=(y,S={})=>{for(const k of y?rc(y):l.mount)l.mount.delete(k),l.array.delete(k),S.keepValue||(Je(i,k),Je(o,k)),!S.keepError&&Je(r.errors,k),!S.keepDirty&&Je(r.dirtyFields,k),!S.keepTouched&&Je(r.touchedFields,k),!n.shouldUnregister&&!S.keepDefaultValue&&Je(s,k);h.values.next({values:{...o}}),h.state.next({...r,...S.keepDirty?{isDirty:B()}:{}}),!S.keepIsValid&&f()},Pt=(y,S={})=>{let k=V(i,y);const U=ki(S.disabled);return me(i,y,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:y}},name:y,mount:!0,...S}}),l.mount.add(y),k?U&&me(o,y,S.disabled?void 0:V(o,y,ac(k._f))):R(y,!0,S.value),{...U?{disabled:S.disabled}:{},...n.shouldUseNativeValidation?{required:!!S.required,min:ls(S.min),max:ls(S.max),minLength:ls(S.minLength),maxLength:ls(S.maxLength),pattern:ls(S.pattern)}:{},name:y,onChange:W,onBlur:W,ref:O=>{if(O){Pt(y,S),k=V(i,y);const A=$e(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,j=rk(A),Ce=k._f.refs||[];if(j?Ce.find(Ae=>Ae===A):A===k._f.ref)return;me(i,y,{_f:{...k._f,...j?{refs:[...Ce.filter(sc),A,...Array.isArray(V(s,y))?[{}]:[]],ref:{type:A.type,name:y}}:{ref:A}}}),R(y,!1,void 0,A)}else k=V(i,y,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||S.shouldUnregister)&&!(KS(l.array,y)&&a.action)&&l.unMount.add(y)}}},xu=()=>n.shouldFocusError&&Ch(i,y=>y&&V(r.errors,y),l.mount),Du=(y,S)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let U=kr(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:O,values:A}=await ee();r.errors=O,U=A}else await le(i);Je(r.errors,"root"),zt(r.errors)?(h.state.next({errors:{}}),await y(U,k)):(S&&await S({...r.errors},k),xu(),setTimeout(xu)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},dE=(y,S={})=>{V(i,y)&&($e(S.defaultValue)?L(y,V(s,y)):(L(y,S.defaultValue),me(s,y,S.defaultValue)),S.keepTouched||Je(r.touchedFields,y),S.keepDirty||(Je(r.dirtyFields,y),r.isDirty=S.defaultValue?B(y,V(s,y)):B()),S.keepError||(Je(r.errors,y),d.isValid&&f()),h.state.next({...r}))},lp=(y,S={})=>{const k=y||s,U=kr(k),O=y&&!zt(y)?U:s;if(S.keepDefaultValues||(s=k),!S.keepValues){if(S.keepDirtyValues||g)for(const A of l.mount)V(r.dirtyFields,A)?me(O,A,V(o,A)):L(A,V(O,A));else{if(Zd&&$e(y))for(const A of l.mount){const j=V(i,A);if(j&&j._f){const Ce=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(il(Ce)){const Ae=Ce.closest("form");if(Ae){Ae.reset();break}}}}i={}}o=e.shouldUnregister?S.keepDefaultValues?kr(s):{}:U,h.array.next({values:{...O}}),h.values.next({values:{...O}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!d.isValid||!!S.keepIsValid,a.watch=!!e.shouldUnregister,h.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Dr(y,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:S.keepDirtyValues?r.dirtyFields:S.keepDefaultValues&&y?oc(s,y):{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},up=(y,S)=>lp(Kn(y)?y(o):y,S);return{control:{register:Pt,unregister:ke,getFieldState:we,_executeSchema:ee,_getWatch:se,_getDirty:B,_updateValid:f,_removeUnmounted:Z,_updateFieldArray:E,_getFieldArray:He,_reset:lp,_resetDefaultValues:()=>Kn(n.defaultValues)&&n.defaultValues().then(y=>{up(y,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:y=>{r={...r,...y}},_subjects:h,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(y){a=y},get _defaultValues(){return s},get _names(){return l},set _names(y){l=y},get _formState(){return r},set _formState(y){r=y},get _options(){return n},set _options(y){n={...n,...y}}},trigger:K,register:Pt,handleSubmit:Du,watch:ot,setValue:L,getValues:ce,reset:up,resetField:dE,clearErrors:Ne,unregister:ke,setError:Ye,setFocus:(y,S={})=>{const k=V(i,y),U=k&&k._f;if(U){const O=U.refs?U.refs[0]:U.ref;O.focus&&(O.focus(),S.shouldSelect&&O.select())}},getFieldState:we}}function ck(e={}){const t=Hn.useRef(),[n,r]=Hn.useState({isDirty:!1,isValidating:!1,isLoading:Kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Kn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...uk(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,XS({subject:i._subjects.state,next:s=>{YS(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Hn.useEffect(()=>{e.values&&!Dr(e.values,i._defaultValues)?i._reset(e.values,i._options.resetOptions):i._resetDefaultValues()},[e.values,i]),Hn.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=QS(n,i),t.current}const un=({children:e})=>I("div",{children:e}),Gn=({label:e,name:t,type:n,register:r,accept:i,multiple:s,errors:o})=>Y(Al,{children:[I("label",{children:e}),I("input",{type:n,...r(t),accept:i,multiple:s}),o&&o[t]&&I("p",{children:o[t].message})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},hk=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[c],n[d],n[h],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new dk;const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class dk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fk=function(e){const t=l0(e);return u0.encodeByteArray(t,!0)},ll=function(e){return fk(e).replace(/\./g,"")},pk=function(e){try{return u0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=()=>mk().__FIREBASE_DEFAULTS__,yk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pk(e[1]);return t&&JSON.parse(t)},rf=()=>{try{return gk()||yk()||vk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wk=e=>{var t,n;return(n=(t=rf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},c0=e=>{const t=wk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ek=()=>{var e;return(e=rf())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[ll(JSON.stringify(n)),ll(JSON.stringify(o)),a].join(".")}function Sk(){var e;const t=(e=rf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ck(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="FirebaseError";class Gr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Tk,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d0.prototype.create)}}class d0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Ik(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,a,r)}}function Ik(e,t){return e.replace(xk,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const xk=/\{\$([^}]+)}/g;function Th(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Am(s)&&Am(o)){if(!Th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Am(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e){return e&&e._delegate?e._delegate:e}class $i{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new _k;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ak(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nk(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nk(e){return e===Cr?void 0:e}function Ak(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Dk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(oe||(oe={}));const Pk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},$k=oe.INFO,Lk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Ok=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Lk[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class f0{constructor(t){this.name=t,this._logLevel=$k,this._logHandler=Ok,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}}const Fk=(e,t)=>t.some(n=>e instanceof n);let Rm,Pm;function Mk(){return Rm||(Rm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uk(){return Pm||(Pm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Ih=new WeakMap,m0=new WeakMap,lc=new WeakMap,sf=new WeakMap;function Vk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ir(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&p0.set(n,e)}).catch(()=>{}),sf.set(t,e),t}function bk(e){if(Ih.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ih.set(e,t)}let xh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ih.get(e);if(t==="objectStoreNames")return e.objectStoreNames||m0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Bk(e){xh=e(xh)}function zk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(uc(this),t,...n);return m0.set(r,t.sort?t.sort():[t]),ir(r)}:Uk().includes(e)?function(...t){return e.apply(uc(this),t),ir(p0.get(this))}:function(...t){return ir(e.apply(uc(this),t))}}function jk(e){return typeof e=="function"?zk(e):(e instanceof IDBTransaction&&bk(e),Fk(e,Mk())?new Proxy(e,xh):e)}function ir(e){if(e instanceof IDBRequest)return Vk(e);if(lc.has(e))return lc.get(e);const t=jk(e);return t!==e&&(lc.set(e,t),sf.set(t,e)),t}const uc=e=>sf.get(e);function Hk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ir(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ir(o.result),l.oldVersion,l.newVersion,ir(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const qk=["get","getKey","getAll","getAllKeys","count"],Wk=["put","add","delete","clear"],cc=new Map;function $m(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cc.get(t))return cc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Wk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qk.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cc.set(t,s),s}Bk(e=>({...e,get:(t,n,r)=>$m(t,n)||e.get(t,n,r),has:(t,n)=>!!$m(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Gk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dh="@firebase/app",Lm="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new f0("@firebase/app"),Qk="@firebase/app-compat",Yk="@firebase/analytics-compat",Xk="@firebase/analytics",Jk="@firebase/app-check-compat",Zk="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",rC="@firebase/database-compat",iC="@firebase/functions",sC="@firebase/functions-compat",oC="@firebase/installations",aC="@firebase/installations-compat",lC="@firebase/messaging",uC="@firebase/messaging-compat",cC="@firebase/performance",hC="@firebase/performance-compat",dC="@firebase/remote-config",fC="@firebase/remote-config-compat",pC="@firebase/storage",mC="@firebase/storage-compat",gC="@firebase/firestore",yC="@firebase/firestore-compat",vC="firebase",wC="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="[DEFAULT]",EC={[Dh]:"fire-core",[Qk]:"fire-core-compat",[Xk]:"fire-analytics",[Yk]:"fire-analytics-compat",[Zk]:"fire-app-check",[Jk]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[rC]:"fire-rtdb-compat",[iC]:"fire-fn",[sC]:"fire-fn-compat",[oC]:"fire-iid",[aC]:"fire-iid-compat",[lC]:"fire-fcm",[uC]:"fire-fcm-compat",[cC]:"fire-perf",[hC]:"fire-perf-compat",[dC]:"fire-rc",[fC]:"fire-rc-compat",[pC]:"fire-gcs",[mC]:"fire-gcs-compat",[gC]:"fire-fst",[yC]:"fire-fst-compat","fire-js":"fire-js",[vC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new Map,Ah=new Map;function _C(e,t){try{e.container.addComponent(t)}catch(n){zr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Js(e){const t=e.name;if(Ah.has(t))return zr.debug(`There were multiple attempts to register component ${t}.`),!1;Ah.set(t,e);for(const n of ul.values())_C(n,e);return!0}function g0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sr=new d0("app","Firebase",SC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=wC;function v0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Nh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=Ek()),!n)throw sr.create("no-options");const s=ul.get(i);if(s){if(Th(n,s.options)&&Th(r,s.config))return s;throw sr.create("duplicate-app",{appName:i})}const o=new Rk(i);for(const l of Ah.values())o.addComponent(l);const a=new kC(n,r,o);return ul.set(i,a),a}function w0(e=Nh){const t=ul.get(e);if(!t&&e===Nh)return v0();if(!t)throw sr.create("no-app",{appName:e});return t}function or(e,t,n){var r;let i=(r=EC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}Js(new $i(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",TC=1,Zs="firebase-heartbeat-store";let hc=null;function E0(){return hc||(hc=Hk(CC,TC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Zs)}}}).catch(e=>{throw sr.create("idb-open",{originalErrorMessage:e.message})})),hc}async function IC(e){try{return(await E0()).transaction(Zs).objectStore(Zs).get(_0(e))}catch(t){if(t instanceof Gr)zr.warn(t.message);else{const n=sr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zr.warn(n.message)}}}async function Om(e,t){try{const r=(await E0()).transaction(Zs,"readwrite");return await r.objectStore(Zs).put(t,_0(e)),r.done}catch(n){if(n instanceof Gr)zr.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function _0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1024,DC=30*24*60*60*1e3;class NC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=DC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Fm(),{heartbeatsToSend:n,unsentEntries:r}=AC(this._heartbeatsCache.heartbeats),i=ll(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Fm(){return new Date().toISOString().substring(0,10)}function AC(e,t=xC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kk()?Ck().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await IC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Om(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Om(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Mm(e){return ll(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(e){Js(new $i("platform-logger",t=>new Kk(t),"PRIVATE")),Js(new $i("heartbeat",t=>new NC(t),"PRIVATE")),or(Dh,Lm,e),or(Dh,Lm,"esm2017"),or("fire-js","")}PC("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firebasestorage.googleapis.com",k0="storageBucket",$C=2*60*1e3,LC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De extends Gr{constructor(t,n,r=0){super(dc(t),`Firebase Storage: ${n} (${dc(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dc(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ie;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ie||(Ie={}));function dc(e){return"storage/"+e}function of(){const e="An unknown error occurred, please check the error payload for server response.";return new De(Ie.UNKNOWN,e)}function OC(e){return new De(Ie.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function FC(e){return new De(Ie.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MC(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new De(Ie.UNAUTHENTICATED,e)}function UC(){return new De(Ie.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function VC(e){return new De(Ie.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function bC(){return new De(Ie.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BC(){return new De(Ie.CANCELED,"User canceled the upload/download.")}function zC(e){return new De(Ie.INVALID_URL,"Invalid URL '"+e+"'.")}function jC(e){return new De(Ie.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function HC(){return new De(Ie.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k0+"' property when initializing the app?")}function qC(){return new De(Ie.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WC(){return new De(Ie.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KC(e){return new De(Ie.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rh(e){return new De(Ie.INVALID_ARGUMENT,e)}function C0(){return new De(Ie.APP_DELETED,"The Firebase app was deleted.")}function GC(e){return new De(Ie.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ds(e,t){return new De(Ie.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function us(e){throw new De(Ie.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ot.makeFromUrl(t,n)}catch{return new Ot(t,"")}if(r.path==="")return r;throw jC(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},w=n===S0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",p=new RegExp(`^https?://${w}/${i}/${_}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<m.length;E++){const T=m[E],R=T.regex.exec(t);if(R){const P=R[T.indices.bucket];let $=R[T.indices.path];$||($=""),r=new Ot(P,$),T.postModify(r);break}}if(r==null)throw zC(t);return r}}class QC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,t.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,e(g,l())},_)}function h(){s&&clearTimeout(s)}function g(_,...p){if(u){h();return}if(_){h(),c.call(null,_,...p);return}if(l()||o){h(),c.call(null,_,...p);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,d(m)}let v=!1;function w(_){v||(v=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function XC(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(e){return e!==void 0}function ZC(e){return typeof e=="object"&&!Array.isArray(e)}function af(e){return typeof e=="string"||e instanceof String}function Um(e){return lf()&&e instanceof Blob}function lf(){return typeof Blob<"u"&&!Sk()}function Vm(e,t,n,r){if(r<t)throw Rh(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Rh(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function T0(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Lr||(Lr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new ra(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Lr.NO_ERROR,l=s.getStatus();if(!a||eT(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Lr.ABORT;r(!1,new ra(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ra(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());JC(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=of();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?C0():BC();o(l)}else{const l=bC();o(l)}};this.canceled_?n(!1,new ra(!1,null,!0)):this.backoffId_=YC(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&XC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ra{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function nT(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function rT(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function iT(e,t){t&&(e["X-Firebase-GMPID"]=t)}function sT(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function oT(e,t,n,r,i,s,o=!0){const a=T0(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return iT(u,t),nT(u,n),rT(u,s),sT(u,r),new tT(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lT(...e){const t=aT();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(lf())return new Blob(e);throw new De(Ie.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uT(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(e){if(typeof atob>"u")throw KC("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fc{constructor(t,n){this.data=t,this.contentType=n||null}}function hT(e,t){switch(e){case fn.RAW:return new fc(I0(t));case fn.BASE64:case fn.BASE64URL:return new fc(x0(e,t));case fn.DATA_URL:return new fc(fT(t),pT(t))}throw of()}function I0(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function dT(e){let t;try{t=decodeURIComponent(e)}catch{throw Ds(fn.DATA_URL,"Malformed data URL.")}return I0(t)}function x0(e,t){switch(e){case fn.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Ds(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fn.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Ds(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cT(t)}catch(i){throw i.message.includes("polyfill")?i:Ds(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class D0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ds(fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mT(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function fT(e){const t=new D0(e);return t.base64?x0(fn.BASE64,t.rest):dT(t.rest)}function pT(e){return new D0(e).contentType}function mT(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,n){let r=0,i="";Um(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Um(this.data_)){const r=this.data_,i=uT(r,t,n);return i===null?null:new jn(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new jn(r,!0)}}static getBlob(...t){if(lf()){const n=t.map(r=>r instanceof jn?r.data_:r);return new jn(lT.apply(null,n))}else{const n=t.map(o=>af(o)?hT(fn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new jn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(e){let t;try{t=JSON.parse(e)}catch{return null}return ZC(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function yT(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function A0(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(e,t){return t}class vt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||vT}}let ia=null;function wT(e){return!af(e)||e.length<2?e:A0(e)}function R0(){if(ia)return ia;const e=[];e.push(new vt("bucket")),e.push(new vt("generation")),e.push(new vt("metageneration")),e.push(new vt("name","fullPath",!0));function t(s,o){return wT(o)}const n=new vt("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new vt("size");return i.xform=r,e.push(i),e.push(new vt("timeCreated")),e.push(new vt("updated")),e.push(new vt("md5Hash",null,!0)),e.push(new vt("cacheControl",null,!0)),e.push(new vt("contentDisposition",null,!0)),e.push(new vt("contentEncoding",null,!0)),e.push(new vt("contentLanguage",null,!0)),e.push(new vt("contentType",null,!0)),e.push(new vt("metadata","customMetadata",!0)),ia=e,ia}function ET(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Ot(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function _T(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return ET(r,e),r}function P0(e,t,n){const r=N0(t);return r===null?null:_T(e,r,n)}function ST(e,t,n,r){const i=N0(t);if(i===null||!af(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,d=e.fullPath,h="/b/"+o(c)+"/o/"+o(d),g=uf(h,n,r),v=T0({alt:"media",token:u});return g+v})[0]}function kT(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class $0{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(e){if(!e)throw of()}function CT(e,t){function n(r,i){const s=P0(e,i,t);return L0(s!==null),s}return n}function TT(e,t){function n(r,i){const s=P0(e,i,t);return L0(s!==null),ST(s,i,e.host,e._protocol)}return n}function O0(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=UC():i=MC():n.getStatus()===402?i=FC(e.bucket):n.getStatus()===403?i=VC(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function IT(e){const t=O0(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=OC(e.path)),s.serverResponse=i.serverResponse,s}return n}function xT(e,t,n){const r=t.fullServerUrl(),i=uf(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new $0(i,s,TT(e,n),o);return a.errorHandler=IT(t),a}function DT(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function NT(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=DT(null,t)),r}function AT(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let m="";for(let E=0;E<2;E++)m=m+Math.random().toString().slice(2);return m}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=NT(t,r,i),c=kT(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",g=jn.getBlob(d,r,h);if(g===null)throw qC();const v={name:u.fullPath},w=uf(s,e.host,e._protocol),_="POST",p=e.maxUploadRetryTime,f=new $0(w,_,CT(e,n),p);return f.urlParams=v,f.headers=o,f.body=g.uploadData(),f.errorHandler=O0(t),f}class RT{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw us("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw us("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw us("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw us("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw us("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class PT extends RT{initXhr(){this.xhr_.responseType="text"}}function F0(){return new PT}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,n){this._service=t,n instanceof Ot?this._location=n:this._location=Ot.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new jr(t,n)}get root(){const t=new Ot(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A0(this._location.path)}get storage(){return this._service}get parent(){const t=gT(this._location.path);if(t===null)return null;const n=new Ot(this._location.bucket,t);return new jr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw GC(t)}}function $T(e,t,n){e._throwIfRoot("uploadBytes");const r=AT(e.storage,e._location,R0(),new jn(t,!0),n);return e.storage.makeRequestWithTokens(r,F0).then(i=>({metadata:i,ref:e}))}function LT(e){e._throwIfRoot("getDownloadURL");const t=xT(e.storage,e._location,R0());return e.storage.makeRequestWithTokens(t,F0).then(n=>{if(n===null)throw WC();return n})}function OT(e,t){const n=yT(e._location.path,t),r=new Ot(e._location.bucket,n);return new jr(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(e){return/^[A-Za-z]+:\/\//.test(e)}function MT(e,t){return new jr(e,t)}function M0(e,t){if(e instanceof cf){const n=e;if(n._bucket==null)throw HC();const r=new jr(n,n._bucket);return t!=null?M0(r,t):r}else return t!==void 0?OT(e,t):e}function UT(e,t){if(t&&FT(t)){if(e instanceof cf)return MT(e,t);throw Rh("To use ref(service, url), the first argument must be a Storage instance.")}else return M0(e,t)}function bm(e,t){const n=t==null?void 0:t[k0];return n==null?null:Ot.makeFromBucketSpec(n,e)}function VT(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:h0(i,e.app.options.projectId))}class cf{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=S0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$C,this._maxUploadRetryTime=LC,this._requests=new Set,i!=null?this._bucket=Ot.makeFromBucketSpec(i,this._host):this._bucket=bm(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ot.makeFromBucketSpec(this._url,t):this._bucket=bm(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Vm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Vm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jr(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new QC(C0());{const o=oT(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Bm="@firebase/storage",zm="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="storage";function bT(e,t,n){return e=Yt(e),$T(e,t,n)}function BT(e){return e=Yt(e),LT(e)}function V0(e,t){return e=Yt(e),UT(e,t)}function zT(e=w0(),t){e=Yt(e);const r=g0(e,U0).getImmediate({identifier:t}),i=c0("storage");return i&&jT(r,...i),r}function jT(e,t,n,r={}){VT(e,t,n,r)}function HT(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new cf(n,r,i,t,y0)}function qT(){Js(new $i(U0,HT,"PUBLIC").setMultipleInstances(!0)),or(Bm,zm,""),or(Bm,zm,"esm2017")}qT();var WT="firebase",KT="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(WT,KT,"app");var GT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,hf=hf||{},Q=GT||self;function cl(){}function Wl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function So(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function QT(e){return Object.prototype.hasOwnProperty.call(e,pc)&&e[pc]||(e[pc]=++YT)}var pc="closure_uid_"+(1e9*Math.random()>>>0),YT=0;function XT(e,t,n){return e.call.apply(e.bind,arguments)}function JT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=XT:pt=JT,pt.apply(null,arguments)}function sa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function it(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function vr(){this.s=this.s,this.o=this.o}var ZT=0;vr.prototype.s=!1;vr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ZT!=0)&&QT(this)};vr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function df(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function jm(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wl(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function mt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var eI=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Q.addEventListener("test",cl,t),Q.removeEventListener("test",cl,t)}catch{}return e}();function hl(e){return/^[\s\xa0]*$/.test(e)}var Hm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function mc(e,t){return e<t?-1:e>t?1:0}function Kl(){var e=Q.navigator;return e&&(e=e.userAgent)?e:""}function hn(e){return Kl().indexOf(e)!=-1}function ff(e){return ff[" "](e),e}ff[" "]=cl;function tI(e){var t=iI;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var nI=hn("Opera"),Li=hn("Trident")||hn("MSIE"),B0=hn("Edge"),Ph=B0||Li,z0=hn("Gecko")&&!(Kl().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),rI=Kl().toLowerCase().indexOf("webkit")!=-1&&!hn("Edge");function j0(){var e=Q.document;return e?e.documentMode:void 0}var dl;e:{var gc="",yc=function(){var e=Kl();if(z0)return/rv:([^\);]+)(\)|;)/.exec(e);if(B0)return/Edge\/([\d\.]+)/.exec(e);if(Li)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(rI)return/WebKit\/(\S+)/.exec(e);if(nI)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(yc&&(gc=yc?yc[1]:""),Li){var vc=j0();if(vc!=null&&vc>parseFloat(gc)){dl=String(vc);break e}}dl=gc}var iI={};function sI(){return tI(function(){let e=0;const t=Hm(String(dl)).split("."),n=Hm("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=mc(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||mc(i[2].length==0,s[2].length==0)||mc(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var $h;if(Q.document&&Li){var qm=j0();$h=qm||parseInt(dl,10)||void 0}else $h=void 0;var oI=$h;function eo(e,t){if(mt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(z0){e:{try{ff(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:aI[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&eo.X.h.call(this)}}it(eo,mt);var aI={2:"touch",3:"pen",4:"mouse"};eo.prototype.h=function(){eo.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ko="closure_listenable_"+(1e6*Math.random()|0),lI=0;function uI(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++lI,this.ba=this.ea=!1}function Gl(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function pf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function H0(e){const t={};for(const n in e)t[n]=e[n];return t}const Wm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q0(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Wm.length;s++)n=Wm[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ql(e){this.src=e,this.g={},this.h=0}Ql.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Oh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new uI(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function Lh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=b0(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Gl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Oh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var mf="closure_lm_"+(1e6*Math.random()|0),wc={};function W0(e,t,n,r,i){if(r&&r.once)return G0(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W0(e,t[s],n,r,i);return null}return n=vf(n),e&&e[ko]?e.N(t,n,So(r)?!!r.capture:!!r,i):K0(e,t,n,!1,r,i)}function K0(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=So(i)?!!i.capture:!!i,a=yf(e);if(a||(e[mf]=a=new Ql(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=cI(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)eI||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cI(){function e(n){return t.call(e.src,e.listener,n)}const t=hI;return e}function G0(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G0(e,t[s],n,r,i);return null}return n=vf(n),e&&e[ko]?e.O(t,n,So(r)?!!r.capture:!!r,i):K0(e,t,n,!0,r,i)}function Q0(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q0(e,t[s],n,r,i);else r=So(r)?!!r.capture:!!r,n=vf(n),e&&e[ko]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Oh(s,n,r,i),-1<n&&(Gl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=yf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oh(t,n,r,i)),(n=-1<e?t[e]:null)&&gf(n))}function gf(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[ko])Lh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yf(t))?(Lh(n,e),n.h==0&&(n.src=null,t[mf]=null)):Gl(e)}}}function Y0(e){return e in wc?wc[e]:wc[e]="on"+e}function hI(e,t){if(e.ba)e=!0;else{t=new eo(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&gf(e),e=n.call(r,t)}return e}function yf(e){return e=e[mf],e instanceof Ql?e:null}var Ec="__closure_events_fn_"+(1e9*Math.random()>>>0);function vf(e){return typeof e=="function"?e:(e[Ec]||(e[Ec]=function(t){return e.handleEvent(t)}),e[Ec])}function Qe(){vr.call(this),this.i=new Ql(this),this.P=this,this.I=null}it(Qe,vr);Qe.prototype[ko]=!0;Qe.prototype.removeEventListener=function(e,t,n,r){Q0(this,e,t,n,r)};function nt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new mt(t,e);else if(t instanceof mt)t.target=t.target||e;else{var i=t;t=new mt(r,e),q0(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oa(o,r,!0,t)&&i}if(o=t.g=e,i=oa(o,r,!0,t)&&i,i=oa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=oa(o,r,!1,t)&&i}Qe.prototype.M=function(){if(Qe.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Gl(n[r]);delete e.g[t],e.h--}}this.I=null};Qe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Qe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function oa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Lh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var wf=Q.JSON.stringify;function dI(){var e=Z0;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class fI{constructor(){this.h=this.g=null}add(t,n){const r=X0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var X0=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pI,e=>e.reset());class pI{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function mI(e){Q.setTimeout(()=>{throw e},0)}function J0(e,t){Fh||gI(),Mh||(Fh(),Mh=!0),Z0.add(e,t)}var Fh;function gI(){var e=Q.Promise.resolve(void 0);Fh=function(){e.then(yI)}}var Mh=!1,Z0=new fI;function yI(){for(var e;e=dI();){try{e.h.call(e.g)}catch(n){mI(n)}var t=X0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mh=!1}function Yl(e,t){Qe.call(this),this.h=e||1,this.g=t||Q,this.j=pt(this.lb,this),this.l=Date.now()}it(Yl,Qe);M=Yl.prototype;M.ca=!1;M.R=null;M.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),nt(this,"tick"),this.ca&&(Ef(this),this.start()))}};M.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ef(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}M.M=function(){Yl.X.M.call(this),Ef(this),delete this.g};function _f(e,t,n){if(typeof e=="function")n&&(e=pt(e,n));else if(e&&typeof e.handleEvent=="function")e=pt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Q.setTimeout(e,t||0)}function e1(e){e.g=_f(()=>{e.g=null,e.i&&(e.i=!1,e1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class vI extends vr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:e1(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(e){vr.call(this),this.h=e,this.g={}}it(to,vr);var Km=[];function t1(e,t,n,r){Array.isArray(n)||(n&&(Km[0]=n.toString()),n=Km);for(var i=0;i<n.length;i++){var s=W0(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function n1(e){pf(e.g,function(t,n){this.g.hasOwnProperty(n)&&gf(t)},e),e.g={}}to.prototype.M=function(){to.X.M.call(this),n1(this)};to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xl(){this.g=!0}Xl.prototype.Aa=function(){this.g=!1};function wI(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function EI(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function gi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+SI(e,n)+(r?" "+r:"")})}function _I(e,t){e.info(function(){return"TIMEOUT: "+t})}Xl.prototype.info=function(){};function SI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return wf(n)}catch{return t}}var Qr={},Gm=null;function Jl(){return Gm=Gm||new Qe}Qr.Pa="serverreachability";function r1(e){mt.call(this,Qr.Pa,e)}it(r1,mt);function no(e){const t=Jl();nt(t,new r1(t))}Qr.STAT_EVENT="statevent";function i1(e,t){mt.call(this,Qr.STAT_EVENT,e),this.stat=t}it(i1,mt);function _t(e){const t=Jl();nt(t,new i1(t,e))}Qr.Qa="timingevent";function s1(e,t){mt.call(this,Qr.Qa,e),this.size=t}it(s1,mt);function Co(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){e()},t)}var Zl={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},o1={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sf(){}Sf.prototype.h=null;function Qm(e){return e.h||(e.h=e.i())}function a1(){}var To={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function kf(){mt.call(this,"d")}it(kf,mt);function Cf(){mt.call(this,"c")}it(Cf,mt);var Uh;function eu(){}it(eu,Sf);eu.prototype.g=function(){return new XMLHttpRequest};eu.prototype.i=function(){return{}};Uh=new eu;function Io(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new to(this),this.O=kI,e=Ph?125:void 0,this.T=new Yl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new l1}function l1(){this.i=null,this.g="",this.h=!1}var kI=45e3,Vh={},fl={};M=Io.prototype;M.setTimeout=function(e){this.O=e};function bh(e,t,n){e.K=1,e.v=nu($n(t)),e.s=n,e.P=!0,u1(e,null)}function u1(e,t){e.F=Date.now(),xo(e),e.A=$n(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),y1(n.i,"t",r),e.C=0,n=e.l.H,e.h=new l1,e.g=U1(e.l,n?t:null,!e.s),0<e.N&&(e.L=new vI(pt(e.La,e,e.g),e.N)),t1(e.S,e.g,"readystatechange",e.ib),t=e.H?H0(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),no(),wI(e.j,e.u,e.A,e.m,e.U,e.s)}M.ib=function(e){e=e.target;const t=this.L;t&&xn(e)==3?t.l():this.La(e)};M.La=function(e){try{if(e==this.g)e:{const c=xn(this.g);var t=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Ph||this.g&&(this.h.h||this.g.fa()||Zm(this.g)))){this.I||c!=4||t==7||(t==8||0>=d?no(3):no(2)),tu(this);var n=this.g.aa();this.Y=n;t:if(c1(this)){var r=Zm(this.g);e="";var i=r.length,s=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Ns(this);var o="";break t}this.h.i=new Q.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,EI(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hl(a)){var u=a;break t}}u=null}if(n=u)gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bh(this,n);else{this.i=!1,this.o=3,_t(12),Nr(this),Ns(this);break e}}this.P?(h1(this,c,o),Ph&&this.i&&c==3&&(t1(this.S,this.T,"tick",this.hb),this.T.start())):(gi(this.j,this.m,o,null),Bh(this,o)),c==4&&Nr(this),this.i&&!this.I&&(c==4?L1(this.l,this):(this.i=!1,xo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,_t(12)):(this.o=0,_t(13)),Nr(this),Ns(this)}}}catch{}finally{}};function c1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function h1(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=CI(e,n),i==fl){t==4&&(e.o=4,_t(14),r=!1),gi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Vh){e.o=4,_t(15),gi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else gi(e.j,e.m,i,null),Bh(e,i);c1(e)&&i!=fl&&i!=Vh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,_t(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rf(t),t.K=!0,_t(11))):(gi(e.j,e.m,n,"[Invalid Chunked Response]"),Nr(e),Ns(e))}M.hb=function(){if(this.g){var e=xn(this.g),t=this.g.fa();this.C<t.length&&(tu(this),h1(this,e,t),this.i&&e!=4&&xo(this))}};function CI(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?fl:(n=Number(t.substring(n,r)),isNaN(n)?Vh:(r+=1,r+n>t.length?fl:(t=t.substr(r,n),e.C=r+n,t)))}M.cancel=function(){this.I=!0,Nr(this)};function xo(e){e.V=Date.now()+e.O,d1(e,e.O)}function d1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Co(pt(e.gb,e),t)}function tu(e){e.B&&(Q.clearTimeout(e.B),e.B=null)}M.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(_I(this.j,this.A),this.K!=2&&(no(),_t(17)),Nr(this),this.o=2,Ns(this)):d1(this,this.V-e)};function Ns(e){e.l.G==0||e.I||L1(e.l,e)}function Nr(e){tu(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Ef(e.T),n1(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bh(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||zh(n.h,e))){if(!e.J&&zh(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)gl(n),su(n);else break e;Af(n),_t(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Co(pt(n.cb,n),6e3));if(1>=E1(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ar(n,11)}else if((e.J||n.g==e)&&gl(n),!hl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Tf(s,s.h),s.h=null))}if(r.D){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,ye(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=M1(r,r.H?r.ka:null,r.V),o.J){_1(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(tu(a),xo(a)),r.g=o}else P1(r);0<n.i.length&&ou(n)}else u[0]!="stop"&&u[0]!="close"||Ar(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ar(n,7):Nf(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}no(4)}catch{}}function TI(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Wl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function II(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Wl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function f1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Wl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=II(e),r=TI(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var p1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Or(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Or){this.h=t!==void 0?t:e.h,pl(this,e.j),this.s=e.s,this.g=e.g,ml(this,e.m),this.l=e.l,t=e.i;var n=new ro;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ym(this,n),this.o=e.o}else e&&(n=String(e).match(p1))?(this.h=!!t,pl(this,n[1]||"",!0),this.s=ms(n[2]||""),this.g=ms(n[3]||"",!0),ml(this,n[4]),this.l=ms(n[5]||"",!0),Ym(this,n[6]||"",!0),this.o=ms(n[7]||"")):(this.h=!!t,this.i=new ro(null,this.h))}Or.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gs(t,Xm,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(gs(t,Xm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(gs(n,n.charAt(0)=="/"?AI:NI,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gs(n,PI)),e.join("")};function $n(e){return new Or(e)}function pl(e,t,n){e.j=n?ms(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ml(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ym(e,t,n){t instanceof ro?(e.i=t,$I(e.i,e.h)):(n||(t=gs(t,RI)),e.i=new ro(t,e.h))}function ye(e,t,n){e.i.set(t,n)}function nu(e){return ye(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ms(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gs(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,DI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function DI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Xm=/[#\/\?@]/g,NI=/[#\?:]/g,AI=/[#\?]/g,RI=/[#\?@]/g,PI=/#/g;function ro(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wr(e){e.g||(e.g=new Map,e.h=0,e.i&&xI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}M=ro.prototype;M.add=function(e,t){wr(this),this.i=null,e=Wi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function m1(e,t){wr(e),t=Wi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function g1(e,t){return wr(e),t=Wi(e,t),e.g.has(t)}M.forEach=function(e,t){wr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};M.oa=function(){wr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};M.W=function(e){wr(this);let t=[];if(typeof e=="string")g1(this,e)&&(t=t.concat(this.g.get(Wi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};M.set=function(e,t){return wr(this),this.i=null,e=Wi(this,e),g1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};M.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function y1(e,t,n){m1(e,t),0<n.length&&(e.i=null,e.g.set(Wi(e,t),df(n)),e.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Wi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function $I(e,t){t&&!e.j&&(wr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(m1(this,r),y1(this,i,n))},e)),e.j=t}var LI=class{constructor(t,n){this.h=t,this.g=n}};function v1(e){this.l=e||OI,Q.PerformanceNavigationTiming?(e=Q.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OI=10;function w1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function E1(e){return e.h?1:e.g?e.g.size:0}function zh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Tf(e,t){e.g?e.g.add(t):e.h=t}function _1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}v1.prototype.cancel=function(){if(this.i=S1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function S1(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return df(e.i)}function If(){}If.prototype.stringify=function(e){return Q.JSON.stringify(e,void 0)};If.prototype.parse=function(e){return Q.JSON.parse(e,void 0)};function FI(){this.g=new If}function MI(e,t,n){const r=n||"";try{f1(e,function(i,s){let o=i;So(i)&&(o=wf(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function UI(e,t){const n=new Xl;if(Q.Image){const r=new Image;r.onload=sa(aa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sa(aa,n,r,"TestLoadImage: error",!1,t),r.onabort=sa(aa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sa(aa,n,r,"TestLoadImage: timeout",!1,t),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function aa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Do(e){this.l=e.ac||null,this.j=e.jb||!1}it(Do,Sf);Do.prototype.g=function(){return new ru(this.l,this.j)};Do.prototype.i=function(e){return function(){return e}}({});function ru(e,t){Qe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(ru,Qe);var xf=0;M=ru.prototype;M.open=function(e,t){if(this.readyState!=xf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,io(this)};M.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Q).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=xf};M.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k1(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function k1(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}M.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?No(this):io(this),this.readyState==3&&k1(this)}};M.Va=function(e){this.g&&(this.response=this.responseText=e,No(this))};M.Ua=function(e){this.g&&(this.response=e,No(this))};M.ga=function(){this.g&&No(this)};function No(e){e.readyState=4,e.l=null,e.j=null,e.A=null,io(e)}M.setRequestHeader=function(e,t){this.v.append(e,t)};M.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function io(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var VI=Q.JSON.parse;function xe(e){Qe.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=C1,this.K=this.L=!1}it(xe,Qe);var C1="",bI=/^https?$/i,BI=["POST","PUT"];M=xe.prototype;M.Ka=function(e){this.L=e};M.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Uh.g(),this.C=this.u?Qm(this.u):Qm(Uh),this.g.onreadystatechange=pt(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){Jm(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&e instanceof Q.FormData,!(0<=b0(BI,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{x1(this),0<this.B&&((this.K=zI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.qa,this)):this.A=_f(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Jm(this,s)}};function zI(e){return Li&&sI()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}M.qa=function(){typeof hf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nt(this,"timeout"),this.abort(8))};function Jm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,T1(e),iu(e)}function T1(e){e.D||(e.D=!0,nt(e,"complete"),nt(e,"error"))}M.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nt(this,"complete"),nt(this,"abort"),iu(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iu(this,!0)),xe.X.M.call(this)};M.Ha=function(){this.s||(this.F||this.v||this.l?I1(this):this.fb())};M.fb=function(){I1(this)};function I1(e){if(e.h&&typeof hf<"u"&&(!e.C[1]||xn(e)!=4||e.aa()!=2)){if(e.v&&xn(e)==4)_f(e.Ha,0,e);else if(nt(e,"readystatechange"),xn(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(p1)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!bI.test(i?i.toLowerCase():"")}n=r}if(n)nt(e,"complete"),nt(e,"success");else{e.m=6;try{var o=2<xn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",T1(e)}}finally{iu(e)}}}}function iu(e,t){if(e.g){x1(e);const n=e.g,r=e.C[0]?cl:null;e.g=null,e.C=null,t||nt(e,"ready");try{n.onreadystatechange=r}catch{}}}function x1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Q.clearTimeout(e.A),e.A=null)}function xn(e){return e.g?e.g.readyState:0}M.aa=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}};M.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),VI(t)}};function Zm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case C1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ea=function(){return this.m};M.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function D1(e){let t="";return pf(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Df(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=D1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ye(e,t,n))}function cs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function N1(e){this.Ca=0,this.i=[],this.j=new Xl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=cs("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=cs("baseRetryDelayMs",5e3,e),this.bb=cs("retryDelaySeedMs",1e4,e),this.$a=cs("forwardChannelMaxRetries",2,e),this.ta=cs("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new v1(e&&e.concurrentRequestLimit),this.Fa=new FI,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}M=N1.prototype;M.ma=8;M.G=1;function Nf(e){if(A1(e),e.G==3){var t=e.U++,n=$n(e.F);ye(n,"SID",e.I),ye(n,"RID",t),ye(n,"TYPE","terminate"),Ao(e,n),t=new Io(e,e.j,t,void 0),t.K=2,t.v=nu($n(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(t.v.toString(),"")),!n&&Q.Image&&(new Image().src=t.v,n=!0),n||(t.g=U1(t.l,null),t.g.da(t.v)),t.F=Date.now(),xo(t)}F1(e)}function su(e){e.g&&(Rf(e),e.g.cancel(),e.g=null)}function A1(e){su(e),e.u&&(Q.clearTimeout(e.u),e.u=null),gl(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&Q.clearTimeout(e.m),e.m=null)}function ou(e){w1(e.h)||e.m||(e.m=!0,J0(e.Ja,e),e.C=0)}function jI(e,t){return E1(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Co(pt(e.Ja,e,t),O1(e,e.C)),e.C++,!0)}M.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Io(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=H0(s),q0(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=R1(this,i,t),n=$n(this.F),ye(n,"RID",e),ye(n,"CVER",22),this.D&&ye(n,"X-HTTP-Session-Id",this.D),Ao(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(D1(s)))+"&"+t:this.o&&Df(n,this.o,s)),Tf(this.h,i),this.Ya&&ye(n,"TYPE","init"),this.O?(ye(n,"$req",t),ye(n,"SID","null"),i.Z=!0,bh(i,n,null)):bh(i,n,t),this.G=2}}else this.G==3&&(e?eg(this,e):this.i.length==0||w1(this.h)||eg(this))};function eg(e,t){var n;t?n=t.m:n=e.U++;const r=$n(e.F);ye(r,"SID",e.I),ye(r,"RID",n),ye(r,"AID",e.T),Ao(e,r),e.o&&e.s&&Df(r,e.o,e.s),n=new Io(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=R1(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Tf(e.h,n),bh(n,r,t)}function Ao(e,t){e.ia&&pf(e.ia,function(n,r){ye(t,r,n)}),e.l&&f1({},function(n,r){ye(t,r,n)})}function R1(e,t,n){n=Math.min(e.i.length,n);var r=e.l?pt(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{MI(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function P1(e){e.g||e.u||(e.Z=1,J0(e.Ia,e),e.A=0)}function Af(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Co(pt(e.Ia,e),O1(e,e.A)),e.A++,!0)}M.Ia=function(){if(this.u=null,$1(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Co(pt(this.eb,this),e)}};M.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,_t(10),su(this),$1(this))};function Rf(e){e.B!=null&&(Q.clearTimeout(e.B),e.B=null)}function $1(e){e.g=new Io(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=$n(e.sa);ye(t,"RID","rpc"),ye(t,"SID",e.I),ye(t,"CI",e.L?"0":"1"),ye(t,"AID",e.T),ye(t,"TYPE","xmlhttp"),Ao(e,t),e.o&&e.s&&Df(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=nu($n(t)),n.s=null,n.P=!0,u1(n,e)}M.cb=function(){this.v!=null&&(this.v=null,su(this),Af(this),_t(19))};function gl(e){e.v!=null&&(Q.clearTimeout(e.v),e.v=null)}function L1(e,t){var n=null;if(e.g==t){gl(e),Rf(e),e.g=null;var r=2}else if(zh(e.h,t))n=t.D,_1(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Jl(),nt(r,new s1(r,n)),ou(e)}else P1(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&jI(e,t)||r==2&&Af(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ar(e,5);break;case 4:Ar(e,10);break;case 3:Ar(e,6);break;default:Ar(e,2)}}}function O1(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ar(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=pt(e.kb,e);n||(n=new Or("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||pl(n,"https"),nu(n)),UI(n.toString(),r)}else _t(2);e.G=0,e.l&&e.l.va(t),F1(e),A1(e)}M.kb=function(e){e?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function F1(e){if(e.G=0,e.la=[],e.l){const t=S1(e.h);(t.length!=0||e.i.length!=0)&&(jm(e.la,t),jm(e.la,e.i),e.h.i.length=0,df(e.i),e.i.length=0),e.l.ua()}}function M1(e,t,n){var r=n instanceof Or?$n(n):new Or(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),ml(r,r.m);else{var i=Q.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Or(null,void 0);r&&pl(s,r),t&&(s.g=t),i&&ml(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&ye(r,n,t),ye(r,"VER",e.ma),Ao(e,r),r}function U1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new xe(new Do({jb:!0})):new xe(e.ra),t.Ka(e.H),t}function V1(){}M=V1.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Ra=function(){};function yl(){if(Li&&!(10<=Number(oI)))throw Error("Environmental error: no available transport.")}yl.prototype.g=function(e,t){return new Vt(e,t)};function Vt(e,t){Qe.call(this),this.g=new N1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!hl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ki(this)}it(Vt,Qe);Vt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;_t(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=M1(e,null,e.V),ou(e)};Vt.prototype.close=function(){Nf(this.g)};Vt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=wf(e),e=n);t.i.push(new LI(t.ab++,e)),t.G==3&&ou(t)};Vt.prototype.M=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,Vt.X.M.call(this)};function b1(e){kf.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}it(b1,kf);function B1(){Cf.call(this),this.status=1}it(B1,Cf);function Ki(e){this.g=e}it(Ki,V1);Ki.prototype.xa=function(){nt(this.g,"a")};Ki.prototype.wa=function(e){nt(this.g,new b1(e))};Ki.prototype.va=function(e){nt(this.g,new B1)};Ki.prototype.ua=function(){nt(this.g,"b")};yl.prototype.createWebChannel=yl.prototype.g;Vt.prototype.send=Vt.prototype.u;Vt.prototype.open=Vt.prototype.m;Vt.prototype.close=Vt.prototype.close;Zl.NO_ERROR=0;Zl.TIMEOUT=8;Zl.HTTP_ERROR=6;o1.COMPLETE="complete";a1.EventType=To;To.OPEN="a";To.CLOSE="b";To.ERROR="c";To.MESSAGE="d";Qe.prototype.listen=Qe.prototype.N;xe.prototype.listenOnce=xe.prototype.O;xe.prototype.getLastError=xe.prototype.Oa;xe.prototype.getLastErrorCode=xe.prototype.Ea;xe.prototype.getStatus=xe.prototype.aa;xe.prototype.getResponseJson=xe.prototype.Sa;xe.prototype.getResponseText=xe.prototype.fa;xe.prototype.send=xe.prototype.da;xe.prototype.setWithCredentials=xe.prototype.Ka;var HI=function(){return new yl},qI=function(){return Jl()},_c=Zl,WI=o1,KI=Qr,tg={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},GI=Do,la=a1,QI=xe;const ng="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gi="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new f0("@firebase/firestore");function rg(){return Hr.logLevel}function b(e,...t){if(Hr.logLevel<=oe.DEBUG){const n=t.map(Pf);Hr.debug(`Firestore (${Gi}): ${e}`,...n)}}function Ln(e,...t){if(Hr.logLevel<=oe.ERROR){const n=t.map(Pf);Hr.error(`Firestore (${Gi}): ${e}`,...n)}}function vl(e,...t){if(Hr.logLevel<=oe.WARN){const n=t.map(Pf);Hr.warn(`Firestore (${Gi}): ${e}`,...n)}}function Pf(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e="Unexpected state"){const t=`FIRESTORE (${Gi}) INTERNAL ASSERTION FAILED: `+e;throw Ln(t),new Error(t)}function pe(e,t){e||G()}function J(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Gr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class XI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JI{constructor(t){this.t=t,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ar,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ar)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return pe(t===null||typeof t=="string"),new ct(t)}}class ZI{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ex{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new ZI(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nx{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(pe(typeof n.token=="string"),this.T=n.token,new tx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=rx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ae(e,t){return e<t?-1:e>t?1:0}function Oi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.timestamp=t}static fromTimestamp(t){return new X(t)}static min(){return new X(new Ve(0,0))}static max(){return new X(new Ve(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,n,r){n===void 0?n=0:n>t.length&&G(),r===void 0?r=t.length-n:r>t.length-n&&G(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return so.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof so?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ve extends so{construct(t,n,r){return new ve(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new q(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const ix=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends so{construct(t,n,r){return new ft(t,n,r)}static isValidIdentifier(t){return ix.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new q(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.path=t}static fromPath(t){return new H(ve.fromString(t))}static fromName(t){return new H(ve.fromString(t).popFirst(5))}static empty(){return new H(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ve.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new H(new ve(t.slice()))}}function sx(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new dr(i,H.empty(),t)}function ox(e){return new dr(e.readTime,e.key,-1)}class dr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(X.min(),H.empty(),-1)}static max(){return new dr(X.max(),H.empty(),-1)}}function ax(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=H.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ux{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==lx)throw e;b("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Po(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}$f.ct=-1;function au(e){return e==null}function wl(e){return e===0&&1/e==-1/0}function cx(e){return typeof e=="number"&&Number.isInteger(e)&&!wl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function H1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,n){this.comparator=t,this.root=n||et.EMPTY}insert(t,n){return new je(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(t){return new je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,et.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ua(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ua(this.root,t,this.comparator,!1)}getReverseIterator(){return new ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ua(this.root,t,this.comparator,!0)}}class ua{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class et{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=s??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new et(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const t=this.left.check();if(t!==this.right.check())throw G();return t+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,t,n,r,i){return this}insert(e,t,n){return new et(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new sg(this.data.getIterator())}getIteratorFrom(t){return new sg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new be(this.comparator);return n.data=t,n}}class sg{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.fields=t,t.sort(ft.comparator)}static empty(){return new Ft([])}unionWith(t){let n=new be(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ft(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hx("Invalid base64 string: "+i):i}}(t);return new yt(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new yt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(e){if(pe(!!e),typeof e=="string"){let t=0;const n=dx.exec(e);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Le(e.seconds),nanos:Le(e.nanos)}}function Le(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fi(e){return typeof e=="string"?yt.fromBase64String(e):yt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function W1(e){const t=e.mapValue.fields.__previous_value__;return q1(t)?W1(t):t}function oo(e){const t=fr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n,r,i,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ao{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ao&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?q1(e)?4:px(e)?9007199254740991:10:G()}function vn(e,t){if(e===t)return!0;const n=qr(e);if(n!==qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oo(e).isEqual(oo(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=fr(r.timestampValue),o=fr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Fi(r.bytesValue).isEqual(Fi(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Le(r.geoPointValue.latitude)===Le(i.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Le(r.integerValue)===Le(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Le(r.doubleValue),o=Le(i.doubleValue);return s===o?wl(s)===wl(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Oi(e.arrayValue.values||[],t.arrayValue.values||[],vn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ig(s)!==ig(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!vn(s[a],o[a])))return!1;return!0}(e,t);default:return G()}}function lo(e,t){return(e.values||[]).find(n=>vn(n,t))!==void 0}function Mi(e,t){if(e===t)return 0;const n=qr(e),r=qr(t);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Le(i.integerValue||i.doubleValue),a=Le(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return og(e.timestampValue,t.timestampValue);case 4:return og(oo(e),oo(t));case 5:return ae(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Fi(i),a=Fi(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ae(o[l],a[l]);if(u!==0)return u}return ae(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=ae(Le(i.latitude),Le(s.latitude));return o!==0?o:ae(Le(i.longitude),Le(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Mi(o[l],a[l]);if(u)return u}return ae(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===ca.mapValue&&s===ca.mapValue)return 0;if(i===ca.mapValue)return 1;if(s===ca.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ae(a[c],u[c]);if(d!==0)return d;const h=Mi(o[a[c]],l[u[c]]);if(h!==0)return h}return ae(a.length,u.length)}(e.mapValue,t.mapValue);default:throw G()}}function og(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=fr(e),r=fr(t),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Ui(e){return jh(e)}function jh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=fr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,H.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jh(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jh(r.fields[a])}`;return s+"}"}(e.mapValue):G();var t,n}function Hh(e){return!!e&&"integerValue"in e}function Lf(e){return!!e&&"arrayValue"in e}function ag(e){return!!e&&"nullValue"in e}function lg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Na(e){return!!e&&"mapValue"in e}function As(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=As(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=As(e.arrayValue.values[n]);return t}return Object.assign({},e)}function px(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.value=t}static empty(){return new xt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Na(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=As(n)}setAll(t){let n=ft.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=As(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Na(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Na(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Yr(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new xt(As(this.value))}}function K1(e){const t=[];return Yr(e.fields,(n,r)=>{const i=new ft([n]);if(Na(r)){const s=K1(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Ft(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new dt(t,0,X.min(),X.min(),X.min(),xt.empty(),0)}static newFoundDocument(t,n,r,i){return new dt(t,1,n,X.min(),r,i,0)}static newNoDocument(t,n){return new dt(t,2,n,X.min(),X.min(),xt.empty(),0)}static newUnknownDocument(t,n){return new dt(t,3,n,X.min(),X.min(),xt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,n){this.position=t,this.inclusive=n}}function ug(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Mi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n="asc"){this.field=t,this.dir=n}}function mx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class Me extends G1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new yx(t,n,r):n==="array-contains"?new Ex(t,r):n==="in"?new _x(t,r):n==="not-in"?new Sx(t,r):n==="array-contains-any"?new kx(t,r):new Me(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new vx(t,r):new wx(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mi(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Mi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends G1{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new wn(t,n)}matches(t){return Q1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function Q1(e){return e.op==="and"}function Y1(e){return gx(e)&&Q1(e)}function gx(e){for(const t of e.filters)if(t instanceof wn)return!1;return!0}function qh(e){if(e instanceof Me)return e.field.canonicalString()+e.op.toString()+Ui(e.value);if(Y1(e))return e.filters.map(t=>qh(t)).join(",");{const t=e.filters.map(n=>qh(n)).join(",");return`${e.op}(${t})`}}function X1(e,t){return e instanceof Me?function(n,r){return r instanceof Me&&n.op===r.op&&n.field.isEqual(r.field)&&vn(n.value,r.value)}(e,t):e instanceof wn?function(n,r){return r instanceof wn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&X1(s,r.filters[o]),!0):!1}(e,t):void G()}function J1(e){return e instanceof Me?function(t){return`${t.field.canonicalString()} ${t.op} ${Ui(t.value)}`}(e):e instanceof wn?function(t){return t.op.toString()+" {"+t.getFilters().map(J1).join(" ,")+"}"}(e):"Filter"}class yx extends Me{constructor(t,n,r){super(t,n,r),this.key=H.fromName(r.referenceValue)}matches(t){const n=H.comparator(t.key,this.key);return this.matchesComparison(n)}}class vx extends Me{constructor(t,n){super(t,"in",n),this.keys=Z1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class wx extends Me{constructor(t,n){super(t,"not-in",n),this.keys=Z1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Z1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class Ex extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lf(n)&&lo(n.arrayValue,this.value)}}class _x extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lo(this.value.arrayValue,n)}}class Sx extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!lo(this.value.arrayValue,n)}}class kx extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function hg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Cx(e,t,n,r,i,s,o)}function Of(e){const t=J(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>qh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),au(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ui(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ui(r)).join(",")),t.ft=n}return t.ft}function Ff(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!X1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cg(e.startAt,t.startAt)&&cg(e.endAt,t.endAt)}function Wh(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function Tx(e,t,n,r,i,s,o,a){return new lu(e,t,n,r,i,s,o,a)}function ew(e){return new lu(e)}function dg(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ix(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xx(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function Dx(e){return e.collectionGroup!==null}function Ci(e){const t=J(e);if(t.dt===null){t.dt=[];const n=xx(t),r=Ix(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new Rs(n)),t.dt.push(new Rs(ft.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Rs(ft.keyField(),s))}}}return t.dt}function On(e){const t=J(e);if(!t.wt)if(t.limitType==="F")t.wt=hg(t.path,t.collectionGroup,Ci(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Ci(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Rs(s.field,o))}const r=t.endAt?new El(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new El(t.startAt.position,t.startAt.inclusive):null;t.wt=hg(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.wt}function Kh(e,t,n){return new lu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uu(e,t){return Ff(On(e),On(t))&&e.limitType===t.limitType}function tw(e){return`${Of(On(e))}|lt:${e.limitType}`}function Gh(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>J1(r)).join(", ")}]`),au(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ui(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ui(r)).join(",")),`Target(${n})`}(On(e))}; limitType=${e.limitType})`}function cu(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):H.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Ci(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=ug(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ci(n),r)||n.endAt&&!function(i,s,o){const a=ug(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ci(n),r))}(e,t)}function Nx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nw(e){return(t,n)=>{let r=!1;for(const i of Ci(e)){const s=Ax(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ax(e,t,n){const r=e.field.isKeyField()?H.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Mi(a,l):G()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new je(H.comparator);function Fn(){return Rx}const rw=new je(H.comparator);function ys(...e){let t=rw;for(const n of e)t=t.insert(n.key,n);return t}function iw(e){let t=rw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Rr(){return Ps()}function sw(){return Ps()}function Ps(){return new Qi(e=>e.toString(),(e,t)=>e.isEqual(t))}const Px=new je(H.comparator),$x=new be(H.comparator);function te(...e){let t=$x;for(const n of e)t=t.add(n);return t}const Lx=new be(ae);function ow(){return Lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(t)?"-0":t}}function lw(e){return{integerValue:""+e}}function Ox(e,t){return cx(t)?lw(t):aw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this._=void 0}}function Fx(e,t,n){return e instanceof _l?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof uo?cw(e,t):e instanceof co?hw(e,t):function(r,i){const s=uw(r,i),o=fg(s)+fg(r._t);return Hh(s)&&Hh(r._t)?lw(o):aw(r.serializer,o)}(e,t)}function Mx(e,t,n){return e instanceof uo?cw(e,t):e instanceof co?hw(e,t):n}function uw(e,t){return e instanceof Sl?Hh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class _l extends hu{}class uo extends hu{constructor(t){super(),this.elements=t}}function cw(e,t){const n=dw(t);for(const r of e.elements)n.some(i=>vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class co extends hu{constructor(t){super(),this.elements=t}}function hw(e,t){let n=dw(t);for(const r of e.elements)n=n.filter(i=>!vn(i,r));return{arrayValue:{values:n}}}class Sl extends hu{constructor(t,n){super(),this.serializer=t,this._t=n}}function fg(e){return Le(e.integerValue||e.doubleValue)}function dw(e){return Lf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Ux(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof uo&&r instanceof uo||n instanceof co&&r instanceof co?Oi(n.elements,r.elements,vn):n instanceof Sl&&r instanceof Sl?vn(n._t,r._t):n instanceof _l&&r instanceof _l}(e.transform,t.transform)}class Vx{constructor(t,n){this.version=t,this.transformResults=n}}class gn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gn}static exists(t){return new gn(void 0,t)}static updateTime(t){return new gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Aa(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class du{}function fw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mw(e.key,gn.none()):new $o(e.key,e.data,gn.none());{const n=e.data,r=xt.empty();let i=new be(ft.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Er(e.key,r,new Ft(i.toArray()),gn.none())}}function bx(e,t,n){e instanceof $o?function(r,i,s){const o=r.value.clone(),a=mg(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Er?function(r,i,s){if(!Aa(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=mg(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(pw(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function $s(e,t,n,r){return e instanceof $o?function(i,s,o,a){if(!Aa(i.precondition,s))return o;const l=i.value.clone(),u=gg(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Er?function(i,s,o,a){if(!Aa(i.precondition,s))return o;const l=gg(i.fieldTransforms,a,s),u=s.data;return u.setAll(pw(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Aa(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function Bx(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=uw(r.transform,i||null);s!=null&&(n===null&&(n=xt.empty()),n.set(r.field,s))}return n||null}function pg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Oi(n,r,(i,s)=>Ux(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $o extends du{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Er extends du{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function mg(e,t,n){const r=new Map;pe(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Mx(o,a,n[i]))}return r}function gg(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Fx(s,o,t))}return r}class mw extends du{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zx extends du{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&bx(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=$s(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=$s(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=sw();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=fw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),te())}isEqual(t){return this.batchId===t.batchId&&Oi(this.mutations,t.mutations,(n,r)=>pg(n,r))&&Oi(this.baseMutations,t.baseMutations,(n,r)=>pg(n,r))}}class Mf{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){pe(t.mutations.length===r.length);let i=Px;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Mf(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,re;function Wx(e){switch(e){default:return G();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function gw(e){if(e===void 0)return Ln("GRPC error has no .code"),x.UNKNOWN;switch(e){case Pe.OK:return x.OK;case Pe.CANCELLED:return x.CANCELLED;case Pe.UNKNOWN:return x.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return x.INTERNAL;case Pe.UNAVAILABLE:return x.UNAVAILABLE;case Pe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Pe.NOT_FOUND:return x.NOT_FOUND;case Pe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Pe.ABORTED:return x.ABORTED;case Pe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Pe.DATA_LOSS:return x.DATA_LOSS;default:return G()}}(re=Pe||(Pe={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ha}static getOrCreateInstance(){return ha===null&&(ha=new Uf),ha}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let ha=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Lo.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fu(X.min(),i,ow(),Fn(),te())}}class Lo{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Lo(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class yw{constructor(t,n){this.targetId=t,this.Et=n}}class vw{constructor(t,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yg{constructor(){this.At=0,this.Rt=wg(),this.vt=yt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=te(),n=te(),r=te();return this.Rt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Lo(this.vt,this.bt,t,n,r)}xt(){this.Pt=!1,this.Rt=wg()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Kx{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=Fn(),this.qt=vg(),this.Ut=new be(ae)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const r=this.jt(n);switch(t.state){case 0:this.Wt(n)&&r.Dt(t.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:G()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(t){var n;const r=t.targetId,i=t.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Wh(o))if(i===0){const a=new H(o.path);this.Qt(r,a,dt.newNoDocument(a,X.min()))}else pe(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Uf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Wh(a.target)){const l=new H(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,dt.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=te();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const i=new fu(t,n,this.Ut,this.Lt,r);return this.Lt=Fn(),this.qt=vg(),this.Ut=new be(ae),i}Gt(t,n){if(!this.Wt(t))return;const r=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new yg,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new be(ae),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||b("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new yg),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function vg(){return new je(H.comparator)}function wg(){return new je(H.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Qx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Yx=(()=>({and:"AND",or:"OR"}))();class Xx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function kl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ww(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Jx(e,t){return kl(e,t.toTimestamp())}function yn(e){return pe(!!e),X.fromTimestamp(function(t){const n=fr(t);return new Ve(n.seconds,n.nanos)}(e))}function Vf(e,t){return function(n){return new ve(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Ew(e){const t=ve.fromString(e);return pe(Cw(t)),t}function Qh(e,t){return Vf(e.databaseId,t.path)}function Sc(e,t){const n=Ew(t);if(n.get(1)!==e.databaseId.projectId)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(_w(n))}function Yh(e,t){return Vf(e.databaseId,t)}function Zx(e){const t=Ew(e);return t.length===4?ve.emptyPath():_w(t)}function Xh(e){return new ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _w(e){return pe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Eg(e,t,n){return{name:Qh(e,t),fields:n.value.mapValue.fields}}function eD(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(pe(u===void 0||typeof u=="string"),yt.fromBase64String(u||"")):(pe(u===void 0||u instanceof Uint8Array),yt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?x.UNKNOWN:gw(l.code);return new q(u,l.message||"")}(o);n=new vw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sc(e,r.document.name),s=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):X.min(),a=new xt({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ra(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Sc(e,r.document),s=r.readTime?yn(r.readTime):X.min(),o=dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ra([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Sc(e,r.document),s=r.removedTargetIds||[];n=new Ra([],s,i,null)}else{if(!("filter"in t))return G();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new qx(i),o=r.targetId;n=new yw(o,s)}}return n}function tD(e,t){let n;if(t instanceof $o)n={update:Eg(e,t.key,t.value)};else if(t instanceof mw)n={delete:Qh(e,t.key)};else if(t instanceof Er)n={update:Eg(e,t.key,t.data),updateMask:cD(t.fieldMask)};else{if(!(t instanceof zx))return G();n={verify:Qh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof _l)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sl)return{fieldPath:s.field.canonicalString(),increment:o._t};throw G()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Jx(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:G()}(e,t.precondition)),n}function nD(e,t){return e&&e.length>0?(pe(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?yn(r.updateTime):yn(i);return s.isEqual(X.min())&&(s=yn(i)),new Vx(s,r.transformResults||[])}(n,t))):[]}function rD(e,t){return{documents:[Yh(e,t.path)]}}function iD(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Yh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Yh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return kw(wn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:ti(c.field),direction:aD(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||au(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function sD(e){let t=Zx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=Sw(c);return d instanceof wn&&Y1(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Rs(ni(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,au(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new El(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new El(h,d)}(n.endAt)),Tx(t,i,o,s,a,"F",l,u)}function oD(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return G()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function Sw(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ni(t.unaryFilter.field);return Me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ni(t.unaryFilter.field);return Me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ni(t.unaryFilter.field);return Me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ni(t.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(e):e.fieldFilter!==void 0?function(t){return Me.create(ni(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return wn.create(t.compositeFilter.filters.map(n=>Sw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return G()}}(t.compositeFilter.op))}(e):G()}function aD(e){return Gx[e]}function lD(e){return Qx[e]}function uD(e){return Yx[e]}function ti(e){return{fieldPath:e.canonicalString()}}function ni(e){return ft.fromServerFormat(e.fieldPath)}function kw(e){return e instanceof Me?function(t){if(t.op==="=="){if(lg(t.value))return{unaryFilter:{field:ti(t.field),op:"IS_NAN"}};if(ag(t.value))return{unaryFilter:{field:ti(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lg(t.value))return{unaryFilter:{field:ti(t.field),op:"IS_NOT_NAN"}};if(ag(t.value))return{unaryFilter:{field:ti(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(t.field),op:lD(t.op),value:t.value}}}(e):e instanceof wn?function(t){const n=t.getFilters().map(r=>kw(r));return n.length===1?n[0]:{compositeFilter:{op:uD(t.op),filters:n}}}(e):G()}function cD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Cw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,n,r,i,s=X.min(),o=X.min(),a=yt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.se=t}}function dD(e){const t=sD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.He=new pD}addToCollectionParentIndex(t,n){return this.He.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(dr.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class pD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new be(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new be(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Vi(0)}static bn(){return new Vi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.changes=new Qi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,dt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&$s(r.mutation,i,Ft.empty(),Ve.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,te()).next(()=>r))}getLocalViewOfDocuments(t,n,r=te()){const i=Rr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=ys();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Rr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,te()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Fn();const o=Ps(),a=Ps();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Er)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),$s(c.mutation,u,c.mutation.getFieldMask(),Ve.now())):o.set(u.key,Ft.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new gD(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ps();let i=new je((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ft.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||te()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=sw();c.forEach(h=>{if(!s.has(h)){const g=fw(n.get(h),r.get(h));g!==null&&d.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return H.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Dx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):N.resolve(Rr());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,te())).next(c=>({batchId:a,changes:iw(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new H(n)).next(r=>{let i=ys();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=ys();return this.indexManager.getCollectionParents(t,i).next(o=>N.forEach(o,a=>{const l=function(u,c){return new lu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,dt.newInvalidDocument(u)))});let o=ys();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&$s(u.mutation,l,Ft.empty(),Ve.now()),cu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return N.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:yn(r.createTime)}),N.resolve()}getNamedQuery(t,n){return N.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:dD(r.bundledQuery),readTime:yn(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.overlays=new je(H.comparator),this.ts=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Rr();return N.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.re(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=Rr(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Rr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Rr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}re(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hx(n,r));let s=this.ts.get(n);s===void 0&&(s=te(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.es=new be(We.ns),this.ss=new be(We.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const r=new We(t,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.us(new We(t,n))}cs(t,n){t.forEach(r=>this.removeReference(r,n))}hs(t){const n=new H(new ve([])),r=new We(n,t),i=new We(n,t+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new H(new ve([])),r=new We(n,t),i=new We(n,t+1);let s=te();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new We(t,0),r=this.es.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class We{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return H.comparator(t.key,n.key)||ae(t.ds,n.ds)}static rs(t,n){return ae(t.ds,n.ds)||H.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new be(We.ns)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jx(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new We(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new be(ae);return n.forEach(i=>{const s=new We(i,0),o=new We(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),N.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new We(new H(s),0);let a=new be(ae);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),N.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){pe(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return N.forEach(n.mutations,i=>{const s=new We(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=r})}En(t){}containsKey(t,n){const r=new We(n,0),i=this._s.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.Ts=t,this.docs=new je(H.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(t,n){let r=Fn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Fn();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ax(ox(c),r)<=0||(i.has(c.key)||cu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(t,n,r,i){G()}Es(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new SD(this)}getSize(t){return N.resolve(this.size)}}class SD extends mD{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.persistence=t,this.As=new Qi(n=>Of(n),Ff),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Rs=0,this.vs=new bf,this.targetCount=0,this.bs=Vi.vn()}forEachTarget(t,n){return this.As.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),N.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new Vi(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Sn(n),N.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.As.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.vs.os(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.vs.fs(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new $f(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new kD(this),this.indexManager=new fD,this.remoteDocumentCache=function(r){return new _D(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new hD(n),this.xs=new vD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ps[t.toKey()];return r||(r=new ED(n,this.referenceDelegate),this.Ps[t.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,r){b("MemoryPersistence","Starting transaction:",t);const i=new TD(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(t,n){return N.or(Object.values(this.Ps).map(r=>()=>r.containsKey(t,n)))}}class TD extends ux{constructor(t){super(),this.currentSequenceNumber=t}}class Bf{constructor(t){this.persistence=t,this.$s=new bf,this.Ms=null}static Fs(t){return new Bf(t)}get Bs(){if(this.Ms)return this.Ms;throw G()}addReference(t,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),N.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Bs,r=>{const i=H.fromPath(r);return this.Ls(t,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return N.or([()=>N.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}static Di(t,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zf(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ni(t,n).next(s=>s||this.ki(t,n,i,r)).next(s=>s||this.Oi(t,n))}Ni(t,n){if(dg(n))return N.resolve(null);let r=On(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kh(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=te(...s);return this.xi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(t,Kh(n,null,"F")):this.Fi(t,u,n,l)}))})))}ki(t,n,r,i){return dg(n)||i.isEqual(X.min())?this.Oi(t,n):this.xi.getDocuments(t,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(t,n):(rg()<=oe.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gh(n)),this.Fi(t,o,n,sx(i,-1)))})}$i(t,n){let r=new be(nw(t));return n.forEach((i,s)=>{cu(t,s)&&(r=r.add(s))}),r}Mi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(t,n){return rg()<=oe.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Gh(n)),this.xi.getDocumentsMatchingQuery(t,n,dr.min())}Fi(t,n,r,i){return this.xi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n,r,i){this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new je(ae),this.qi=new Qi(s=>Of(s),Ff),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yD(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function DD(e,t,n,r){return new xD(e,t,n,r)}async function Tw(e,t){const n=J(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=te();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function ND(e,t){const n=J(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=N.resolve();return d.forEach(g=>{h=h.next(()=>u.getEntry(a,g)).next(v=>{const w=l.docVersions.get(g);pe(w!==null),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=te();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Iw(e){const t=J(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function AD(e,t){const n=J(e),r=t.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,d)));let g=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(d)?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(d,g),function(v,w,_){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,g,c)&&a.push(n.Ds.updateTargetData(s,g))});let l=Fn(),u=te();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(RD(s,o,t.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(X.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(d=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function RD(e,t,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Fn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function PD(e,t){const n=J(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function $D(e,t){const n=J(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,t).next(s=>s?(i=s,N.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Fr(t,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(t,r.targetId)),r})}async function Jh(e,t,n){const r=J(e),i=r.Li.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Po(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Li=r.Li.remove(t),r.qi.delete(i.target)}function _g(e,t,n){const r=J(e);let i=X.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=J(a),d=c.qi.get(u);return d!==void 0?N.resolve(c.Li.get(d)):c.Ds.getTargetData(l,u)}(r,o,On(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,t,n?i:X.min(),n?s:te())).next(a=>(LD(r,Nx(t),a),{documents:a,Wi:s})))}function LD(e,t,n){let r=e.Ui.get(t)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ui.set(t,r)}class Sg{constructor(){this.activeTargetIds=ow()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OD{constructor(){this.Br=new Sg,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,r){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new Sg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da=null;function kc(){return da===null?da=268435456+Math.round(2147483648*Math.random()):da++,"0x"+da.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class VD extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,r,i,s){const o=kc(),a=this.ao(t,n);b("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(t,a,l,r).then(u=>(b("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw vl("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(t,n,r,i,s,o){return this.co(t,n,r,i,s)}ho(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ao(t,n){const r=MD[t];return`${this.ro}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,r,i){const s=kc();return new Promise((o,a)=>{const l=new QI;l.setWithCredentials(!0),l.listenOnce(WI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _c.NO_ERROR:const c=l.getResponseJson();b(ut,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case _c.TIMEOUT:b(ut,`RPC '${t}' ${s} timed out`),a(new q(x.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const d=l.getStatus();if(b(ut,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(_)>=0?_:x.UNKNOWN}(g.status);a(new q(v,g.message))}else a(new q(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(x.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{b(ut,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);b(ut,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=kc(),s=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=HI(),a=qI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new GI({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");b(ut,`Creating RPC '${t}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let d=!1,h=!1;const g=new UD({Wr:w=>{h?b(ut,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(d||(b(ut,`Opening RPC '${t}' stream ${i} transport.`),c.open(),d=!0),b(ut,`RPC '${t}' stream ${i} sending:`,w),c.send(w))},Hr:()=>c.close()}),v=(w,_,p)=>{w.listen(_,f=>{try{p(f)}catch(m){setTimeout(()=>{throw m},0)}})};return v(c,la.EventType.OPEN,()=>{h||b(ut,`RPC '${t}' stream ${i} transport opened.`)}),v(c,la.EventType.CLOSE,()=>{h||(h=!0,b(ut,`RPC '${t}' stream ${i} transport closed`),g.so())}),v(c,la.EventType.ERROR,w=>{h||(h=!0,vl(ut,`RPC '${t}' stream ${i} transport errored:`,w),g.so(new q(x.UNAVAILABLE,"The operation could not be completed")))}),v(c,la.EventType.MESSAGE,w=>{var _;if(!h){const p=w.data[0];pe(!!p);const f=p,m=f.error||((_=f[0])===null||_===void 0?void 0:_.error);if(m){b(ut,`RPC '${t}' stream ${i} received error:`,m);const E=m.status;let T=function(P){const $=Pe[P];if($!==void 0)return gw($)}(E),R=m.message;T===void 0&&(T=x.INTERNAL,R="Unknown error status: "+E+" with message "+m.message),h=!0,g.so(new q(T,R)),c.close()}else b(ut,`RPC '${t}' stream ${i} received:`,p),g.io(p)}}),v(a,KI.STAT_EVENT,w=>{w.stat===tg.PROXY?b(ut,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===tg.NOPROXY&&b(ut,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.no()},0),g}}function Cc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(e){return new Xx(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n,r,i,s,o,a,l){this.Ws=t,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new xw(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{t(()=>{const i=new q(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(t,n){const r=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return b("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bD extends Dw{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=eD(this.serializer,t),r=function(i){if(!("targetChange"in i))return X.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?yn(s.readTime):X.min()}(t);return this.listener.zo(n,r)}jo(t){const n={};n.database=Xh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Wh(a)?{documents:rD(i,a)}:{query:iD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=ww(i,s.resumeToken):s.snapshotVersion.compareTo(X.min())>0&&(o.readTime=kl(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,t);const r=oD(this.serializer,t);r&&(n.labels=r),this.Fo(n)}Wo(t){const n={};n.database=Xh(this.serializer),n.removeTarget=t,this.Fo(n)}}class BD extends Dw{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(pe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const n=nD(t.writeResults,t.commitTime),r=yn(t.commitTime);return this.listener.Zo(r,n)}return pe(!t.writeResults||t.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=Xh(this.serializer),this.Fo(t)}Yo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>tD(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(x.UNKNOWN,i.toString())})}fo(t,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(x.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class jD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Ln(n),this.ru=!1):b("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Xr(this)&&(b("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=J(a);l.du.add(4),await Oo(l),l.mu.set("Unknown"),l.du.delete(4),await mu(l)}(this))})}),this.mu=new jD(r,i)}}async function mu(e){if(Xr(e))for(const t of e.wu)await t(!0)}async function Oo(e){for(const t of e.wu)await t(!1)}function Nw(e,t){const n=J(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),qf(n)?Hf(n):Yi(n).No()&&jf(n,t))}function Aw(e,t){const n=J(e),r=Yi(n);n.fu.delete(t),r.No()&&Rw(n,t),n.fu.size===0&&(r.No()?r.$o():Xr(n)&&n.mu.set("Unknown"))}function jf(e,t){e.gu.Ot(t.targetId),Yi(e).jo(t)}function Rw(e,t){e.gu.Ot(t),Yi(e).Wo(t)}function Hf(e){e.gu=new Kx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),Yi(e).start(),e.mu.ou()}function qf(e){return Xr(e)&&!Yi(e).xo()&&e.fu.size>0}function Xr(e){return J(e).du.size===0}function Pw(e){e.gu=void 0}async function qD(e){e.fu.forEach((t,n)=>{jf(e,t)})}async function WD(e,t){Pw(e),qf(e)?(e.mu.au(t),Hf(e)):e.mu.set("Unknown")}async function KD(e,t,n){if(e.mu.set("Online"),t instanceof vw&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(e,t)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Cl(e,r)}else if(t instanceof Ra?e.gu.Kt(t):t instanceof yw?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(X.min()))try{const r=await Iw(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(yt.EMPTY_BYTE_STRING,l.snapshotVersion)),Rw(i,a);const u=new Fr(l.target,a,1,l.sequenceNumber);jf(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){b("RemoteStore","Failed to raise snapshot:",r),await Cl(e,r)}}async function Cl(e,t,n){if(!Po(t))throw t;e.du.add(1),await Oo(e),e.mu.set("Offline"),n||(n=()=>Iw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{b("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await mu(e)})}function $w(e,t){return t().catch(n=>Cl(e,n,t))}async function gu(e){const t=J(e),n=pr(t);let r=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;GD(t);)try{const i=await PD(t.localStore,r);if(i===null){t.lu.length===0&&n.$o();break}r=i.batchId,QD(t,i)}catch(i){await Cl(t,i)}Lw(t)&&Ow(t)}function GD(e){return Xr(e)&&e.lu.length<10}function QD(e,t){e.lu.push(t);const n=pr(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Lw(e){return Xr(e)&&!pr(e).xo()&&e.lu.length>0}function Ow(e){pr(e).start()}async function YD(e){pr(e).tu()}async function XD(e){const t=pr(e);for(const n of e.lu)t.Yo(n.mutations)}async function JD(e,t,n){const r=e.lu.shift(),i=Mf.from(r,t,n);await $w(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await gu(e)}async function ZD(e,t){t&&pr(e).Jo&&await async function(n,r){if(i=r.code,Wx(i)&&i!==x.ABORTED){const s=n.lu.shift();pr(n).Oo(),await $w(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await gu(n)}var i}(e,t),Lw(e)&&Ow(e)}async function Cg(e,t){const n=J(e);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Xr(n);n.du.add(3),await Oo(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await mu(n)}async function eN(e,t){const n=J(e);t?(n.du.delete(2),await mu(n)):t||(n.du.add(2),await Oo(n),n.mu.set("Unknown"))}function Yi(e){return e.yu||(e.yu=function(t,n,r){const i=J(t);return i.nu(),new bD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:qD.bind(null,e),Zr:WD.bind(null,e),zo:KD.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),qf(e)?Hf(e):e.mu.set("Unknown")):(await e.yu.stop(),Pw(e))})),e.yu}function pr(e){return e.pu||(e.pu=function(t,n,r){const i=J(t);return i.nu(),new BD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:YD.bind(null,e),Zr:ZD.bind(null,e),Xo:XD.bind(null,e),Zo:JD.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Oo(),await gu(e)):(await e.pu.stop(),e.lu.length>0&&(b("RemoteStore",`Stopping write stream with ${e.lu.length} pending writes`),e.lu=[]))})),e.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Wf(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kf(e,t){if(Ln("AsyncQueue",`${t}: ${e}`),Po(e))return new q(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this.comparator=t?(n,r)=>t(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=ys(),this.sortedSet=new je(this.comparator)}static emptySet(t){return new Ti(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ti)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ti;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.Iu=new je(H.comparator)}track(t){const n=t.doc.key,r=this.Iu.get(n);r?t.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Iu=this.Iu.remove(n):t.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):G():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,r)=>{t.push(r)}),t}}class bi{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bi(t,n,Ti.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Eu=void 0,this.listeners=[]}}class nN{constructor(){this.queries=new Qi(t=>tw(t),uu),this.onlineState="Unknown",this.Au=new Set}}async function rN(e,t){const n=J(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new tN),i)try{s.Eu=await n.onListen(r)}catch(o){const a=Kf(o,`Initialization of query '${Gh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Ru(n.onlineState),s.Eu&&t.vu(s.Eu)&&Gf(n)}async function iN(e,t){const n=J(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sN(e,t){const n=J(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&Gf(n)}function oN(e,t,n){const r=J(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Gf(e){e.Au.forEach(t=>{t.next()})}class aN{constructor(t,n,r){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new bi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=bi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.key=t}}class Mw{constructor(t){this.key=t}}class lN{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=te(),this.mutatedKeys=te(),this.Ku=nw(t),this.Gu=new Ti(this.Ku)}get Qu(){return this.Lu}zu(t,n){const r=n?n.ju:new Tg,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),g=cu(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;h&&g?h.data.isEqual(g.data)?v!==w&&(r.track({type:3,doc:g}),_=!0):this.Wu(h,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Ku(g,l)>0||u&&this.Ku(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),_=!0):h&&!g&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(g?(o=o.add(g),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.ju.Tu();s.sort((u,c)=>function(d,h){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return g(d)-g(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new bi(this.query,t.Gu,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Tg,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=te(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return t.forEach(r=>{this.Uu.has(r)||n.push(new Mw(r))}),this.Uu.forEach(r=>{t.has(r)||n.push(new Fw(r))}),n}Xu(t){this.Lu=t.Wi,this.Uu=te();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return bi.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class uN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class cN{constructor(t){this.key=t,this.ec=!1}}class hN{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Qi(a=>tw(a),uu),this.ic=new Map,this.rc=new Set,this.oc=new je(H.comparator),this.uc=new Map,this.cc=new bf,this.ac={},this.hc=new Map,this.lc=Vi.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function dN(e,t){const n=SN(e);let r,i;const s=n.sc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await $D(n.localStore,On(t));n.isPrimaryClient&&Nw(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await fN(n,t,r,a==="current",o.resumeToken)}return i}async function fN(e,t,n,r,i){e.dc=(d,h,g)=>async function(v,w,_,p){let f=w.view.zu(_);f.Mi&&(f=await _g(v.localStore,w.query,!1).then(({documents:T})=>w.view.zu(T,f)));const m=p&&p.targetChanges.get(w.targetId),E=w.view.applyChanges(f,v.isPrimaryClient,m);return xg(v,w.targetId,E.Yu),E.snapshot}(e,d,h,g);const s=await _g(e.localStore,t,!0),o=new lN(t,s.Wi),a=o.zu(s.documents),l=Lo.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);xg(e,n,u.Yu);const c=new uN(t,n,o);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function pN(e,t){const n=J(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!uu(s,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Aw(n.remoteStore,r.targetId),Zh(n,r.targetId)}).catch(Ro)):(Zh(n,r.targetId),await Jh(n.localStore,r.targetId,!0))}async function mN(e,t,n){const r=kN(e);try{const i=await function(s,o){const a=J(s),l=Ve.now(),u=o.reduce((h,g)=>h.add(g.key),te());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Fn(),v=te();return a.Ki.getEntries(h,u).next(w=>{g=w,g.forEach((_,p)=>{p.isValidDocument()||(v=v.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,g)).next(w=>{c=w;const _=[];for(const p of o){const f=Bx(p,c.get(p.key).overlayedDocument);f!=null&&_.push(new Er(p.key,f,K1(f.value.mapValue),gn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(w=>{d=w;const _=w.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(h,w.batchId,_)})}).then(()=>({batchId:d.batchId,changes:iw(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new je(ae)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Fo(r,i.changes),await gu(r.remoteStore)}catch(i){const s=Kf(i,"Failed to persist write");n.reject(s)}}async function Uw(e,t){const n=J(e);try{const r=await AD(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?pe(o.ec):i.removedDocuments.size>0&&(pe(o.ec),o.ec=!1))}),await Fo(n,r,t)}catch(r){await Ro(r)}}function Ig(e,t,n){const r=J(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=J(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Ru(o)&&(l=!0)}),l&&Gf(a)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gN(e,t,n){const r=J(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),s=i&&i.key;if(s){let o=new je(H.comparator);o=o.insert(s,dt.newNoDocument(s,X.min()));const a=te().add(s),l=new fu(X.min(),new Map,new be(ae),o,a);await Uw(r,l),r.oc=r.oc.remove(s),r.uc.delete(t),Qf(r)}else await Jh(r.localStore,t,!1).then(()=>Zh(r,t,n)).catch(Ro)}async function yN(e,t){const n=J(e),r=t.batch.batchId;try{const i=await ND(n.localStore,t);bw(n,r,null),Vw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fo(n,i)}catch(i){await Ro(i)}}async function vN(e,t,n){const r=J(e);try{const i=await function(s,o){const a=J(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(pe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);bw(r,t,n),Vw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Fo(r,i)}catch(i){await Ro(i)}}function Vw(e,t){(e.hc.get(t)||[]).forEach(n=>{n.resolve()}),e.hc.delete(t)}function bw(e,t,n){const r=J(e);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Zh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc.wc(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(r=>{e.cc.containsKey(r)||Bw(e,r)})}function Bw(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(Aw(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Qf(e))}function xg(e,t,n){for(const r of n)r instanceof Fw?(e.cc.addReference(r.key,t),wN(e,r)):r instanceof Mw?(b("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||Bw(e,r.key)):G()}function wN(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(b("SyncEngine","New document in limbo: "+n),e.rc.add(r),Qf(e))}function Qf(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new H(ve.fromString(t)),r=e.lc.next();e.uc.set(r,new cN(n)),e.oc=e.oc.insert(n,r),Nw(e.remoteStore,new Fr(On(ew(n.path)),r,2,$f.ct))}}async function Fo(e,t,n){const r=J(e),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=zf.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=J(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,d=>N.forEach(d.Vi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>N.forEach(d.Si,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Po(c))throw c;b("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Li.get(d),g=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(g);u.Li=u.Li.insert(d,v)}}}(r.localStore,s))}async function EN(e,t){const n=J(e);if(!n.currentUser.isEqual(t)){b("SyncEngine","User change. New user:",t.toKey());const r=await Tw(n.localStore,t);n.currentUser=t,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new q(x.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fo(n,r.Qi)}}function _N(e,t){const n=J(e),r=n.uc.get(t);if(r&&r.ec)return te().add(r.key);{let i=te();const s=n.ic.get(t);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function SN(e){const t=J(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_N.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gN.bind(null,t),t.nc.zo=sN.bind(null,t.eventManager),t.nc.wc=oN.bind(null,t.eventManager),t}function kN(e){const t=J(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,t),t}class Dg{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=pu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return DD(this.persistence,new ID,t.initialUser,this.serializer)}createPersistence(t){return new CD(Bf.Fs,this.serializer)}createSharedClientState(t){return new OD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ig(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new nN}createDatastore(t){const n=pu(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new VD(i));var i;return function(s,o,a,l){return new zD(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>Ig(this.syncEngine,a,0),o=kg.D()?new kg:new FD,new HD(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new hN(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=J(t);b("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Oo(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Ln("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=j1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{b("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(b("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Kf(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Tc(e,t){e.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Tw(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ng(e,t){e.asyncQueue.verifyOperationInProgress();const n=await DN(e);b("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Cg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Cg(t.remoteStore,s)),e._onlineComponents=t}function xN(e){return e.name==="FirebaseError"?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function DN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!xN(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await Tc(e,new Dg)}}else b("FirestoreClient","Using default OfflineComponentProvider"),await Tc(e,new Dg);return e._offlineComponents}async function zw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),await Ng(e,e._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),await Ng(e,new CN))),e._onlineComponents}function NN(e){return zw(e).then(t=>t.syncEngine)}async function AN(e){const t=await zw(e),n=t.eventManager;return n.onListen=dN.bind(null,t.syncEngine),n.onUnlisten=pN.bind(null,t.syncEngine),n}function RN(e,t,n={}){const r=new ar;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new TN({next:d=>{s.enqueueAndForget(()=>iN(i,c)),d.fromCache&&a.source==="server"?l.reject(new q(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new aN(o,u,{includeMetadataChanges:!0,xu:!0});return rN(i,c)}(await AN(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(e,t,n){if(!n)throw new q(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PN(e,t,n,r){if(t===!0&&r===!0)throw new q(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Rg(e){if(!H.isDocumentKey(e))throw new q(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pg(e){if(H.isDocumentKey(e))throw new q(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":G()}function Bi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yf(e);throw new q(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new q(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,PN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $g({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new q(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $g(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new YI;switch(n.type){case"firstParty":return new ex(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Ag.get(t);n&&(b("ComponentProvider","Removing Datastore"),Ag.delete(t),n.terminate())}(this),Promise.resolve()}}function $N(e,t,n,r={}){var i;const s=(e=Bi(e,yu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=ct.MOCK_USER;else{o=h0(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new q(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ct(l)}e._authCredentials=new XI(new z1(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kt(this.firestore,t,this._key)}}class vu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new vu(this.firestore,t,this._query)}}class lr extends vu{constructor(t,n,r){super(t,n,ew(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kt(this.firestore,null,new H(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function Hw(e,t,...n){if(e=Yt(e),jw("collection","path",t),e instanceof yu){const r=ve.fromString(t,...n);return Pg(r),new lr(e,null,r)}{if(!(e instanceof Kt||e instanceof lr))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ve.fromString(t,...n));return Pg(r),new lr(e.firestore,null,r)}}function Xf(e,t,...n){if(e=Yt(e),arguments.length===1&&(t=j1.A()),jw("doc","path",t),e instanceof yu){const r=ve.fromString(t,...n);return Rg(r),new Kt(e,null,new H(r))}{if(!(e instanceof Kt||e instanceof lr))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ve.fromString(t,...n));return Rg(r),new Kt(e.firestore,e instanceof lr?e.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new xw(this,"async_queue_retry"),this.qc=()=>{const n=Cc();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=Cc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=Cc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ar;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!Po(t))throw t;b("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Ln("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=Wf.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&G()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}class wu extends yu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new LN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ww(this),this._firestoreClient.terminate()}}function ON(e,t){const n=typeof e=="object"?e:w0(),r=typeof e=="string"?e:t||"(default)",i=g0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=c0("firestore");s&&$N(i,...s)}return i}function qw(e){return e._firestoreClient||Ww(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ww(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new fx(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new IN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zi(yt.fromBase64String(t))}catch(n){throw new q(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zi(yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/^__.*__$/;class MN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,n,this.fieldTransforms):new $o(t,this.data,n,this.fieldTransforms)}}class Kw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Er(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class ep{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new ep(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.ea(t),i}na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return Tl(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(Gw(this.Yc)&&FN.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class UN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||pu(t)}ua(t,n,r,i=!1){return new ep({Yc:t,methodName:n,oa:r,path:ft.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qw(e){const t=e._freezeSettings(),n=pu(e._databaseId);return new UN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VN(e,t,n,r,i,s={}){const o=e.ua(s.merge||s.mergeFields?2:0,t,n,i);tp("Data must be an object, but it was:",o,r);const a=Yw(r,o);let l,u;if(s.merge)l=new Ft(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=ed(t,d,n);if(!o.contains(h))throw new q(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Jw(c,h)||c.push(h)}l=new Ft(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new MN(new xt(a),l,u)}class _u extends Jf{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _u}}function bN(e,t,n,r){const i=e.ua(1,t,n);tp("Data must be an object, but it was:",i,r);const s=[],o=xt.empty();Yr(r,(l,u)=>{const c=np(t,l,n);u=Yt(u);const d=i.na(c);if(u instanceof _u)s.push(c);else{const h=Su(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Ft(s);return new Kw(o,a,i.fieldTransforms)}function BN(e,t,n,r,i,s){const o=e.ua(1,t,n),a=[ed(t,r,n)],l=[i];if(s.length%2!=0)throw new q(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(ed(t,s[h])),l.push(s[h+1]);const u=[],c=xt.empty();for(let h=a.length-1;h>=0;--h)if(!Jw(u,a[h])){const g=a[h];let v=l[h];v=Yt(v);const w=o.na(g);if(v instanceof _u)u.push(g);else{const _=Su(v,w);_!=null&&(u.push(g),c.set(g,_))}}const d=new Ft(u);return new Kw(c,d,o.fieldTransforms)}function Su(e,t){if(Xw(e=Yt(e)))return tp("Unsupported field value:",t,e),Yw(e,t);if(e instanceof Jf)return function(n,r){if(!Gw(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Su(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Ox(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:kl(r.serializer,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kl(r.serializer,i)}}if(n instanceof Zf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zi)return{bytesValue:ww(r.serializer,n._byteString)};if(n instanceof Kt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Yf(n)}`)}(e,t)}function Yw(e,t){const n={};return H1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(e,(r,i)=>{const s=Su(i,t.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Xw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof Zf||e instanceof zi||e instanceof Kt||e instanceof Jf)}function tp(e,t,n){if(!Xw(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Yf(n);throw r==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function ed(e,t,n){if((t=Yt(t))instanceof Eu)return t._internalPath;if(typeof t=="string")return np(e,t);throw Tl("Field path arguments must be of type string or ",e,!1,void 0,n)}const zN=new RegExp("[~\\*/\\[\\]]");function np(e,t,n){if(t.search(zN)>=0)throw Tl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Eu(...t.split("."))._internalPath}catch{throw Tl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tl(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(x.INVALID_ARGUMENT,a+e+l)}function Jw(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jN extends Zw{data(){return super.data()}}function eE(e,t){return typeof t=="string"?np(e,t):t instanceof Eu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qN{convertValue(t,n="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw G()}}convertObject(t,n){const r={};return Yr(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Zf(Le(t.latitude),Le(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=W1(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oo(t));default:return null}}convertTimestamp(t){const n=fr(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ve.fromString(t);pe(Cw(r));const i=new ao(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Ln(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class KN extends Zw{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(eE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pa extends KN{data(t={}){return super.data(t)}}class GN{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Pa(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Pa(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Pa(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:QN(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class YN extends qN{constructor(t){super(),this.firestore=t}convertBytes(t){return new zi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function XN(e){e=Bi(e,vu);const t=Bi(e.firestore,wu),n=qw(t),r=new YN(t);return HN(e._query),RN(n,e._query).then(i=>new GN(t,r,e,i))}function tE(e,t,n,...r){e=Bi(e,Kt);const i=Bi(e.firestore,wu),s=Qw(i);let o;return o=typeof(t=Yt(t))=="string"||t instanceof Eu?BN(s,"updateDoc",e._key,t,n,r):bN(s,"updateDoc",e._key,t),nE(i,[o.toMutation(e._key,gn.exists(!0))])}function JN(e,t){const n=Bi(e.firestore,wu),r=Xf(e),i=WN(e.converter,t);return nE(n,[VN(Qw(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}function nE(e,t){return function(n,r){const i=new ar;return n.asyncQueue.enqueueAndForget(async()=>mN(await NN(n),r,i)),i.promise}(qw(e),t)}(function(e,t=!0){(function(n){Gi=n})(y0),Js(new $i("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new wu(new JI(n.getProvider("auth-internal")),new nx(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),or(ng,"3.10.0",e),or(ng,"3.10.0","esm2017")})();const ZN={apiKey:"AIzaSyCh7Q3NOEeK7mk1R4u2yrwAykSOkvvpAM8",authDomain:"e-commerce-store-ea136.firebaseapp.com",projectId:"e-commerce-store-ea136",storageBucket:"e-commerce-store-ea136.appspot.com",messagingSenderId:"402830661063",appId:"1:402830661063:web:66304dfebee785a47a75e2"},rE=v0(ZN),ku=ON(rE),iE=zT(rE),eA="attire-images",rp="attire-stock",tA=async e=>{const{variants:t,...n}=e;for(let s=0;s<t.length;s++){const o=Array.from(t[s].images),a=nA(e.name,t[s].color,o),l=await Promise.all(a),u=iA(l),c=await Promise.all(u);t[s].images=c}const i=(await oA(e))._key.path.segments[1];await aA(i)},nA=(e,t,n)=>n.reduce((r,i)=>rA(r,i,e,t),[]),rA=(e,t,n,r)=>{const i=V0(iE,`/${eA}/${n}/${r}/${t.name}`),s=bT(i,t);return e.push(s),e},iA=e=>e.reduce(sA,[]),sA=(e,t)=>{const n=t.metadata.fullPath;return e.push(BT(V0(iE,n))),e},oA=async e=>await JN(Hw(ku,rp),e),aA=async e=>{await tE(Xf(ku,rp,`${e}`),{id:e})},lA=async(e,t)=>{const r=t.map(i=>uA(i,e)).map(i=>tE(Xf(ku,rp,i.id),{...i}));await Promise.all(r)},uA=(e,t)=>{const{variants:n,...r}=e,i=t.find(o=>e.id===o.id);return i?{variants:e.variants.map(o=>cA(o,i)),...r}:e},cA=(e,t)=>{const{sizes:n,...r}=e;return e.color===t.color?{sizes:e.sizes.map(o=>hA(o,t)),...r}:e},hA=(e,t)=>e.size===t.size?{quantity:e.quantity-t.quantity,...rest}:e,dA=({number:e,register:t,errors:n,index:r})=>Y(un,{children:[I(Gn,{label:"Item Size",name:`variants[${e}][sizes][${r}][size]`,type:"string",register:t,errors:n}),I(Gn,{label:"Item Quantity",name:`variants[${e}][sizes][${r}][quantity]`,type:"number",register:t,errors:n})]},e),fA=({number:e,register:t,errors:n})=>{const[r,i]=C.useState(1),s=o=>{const a=[];for(let l=0;l<o;l++)a.push(I(dA,{number:e,index:l,register:t,errors:n},l));return a.map(l=>l)};return Y(un,{children:[I(Gn,{label:"Item Variant",name:`variants[${e}][color]`,type:"string",register:t,errors:n}),s(r),I(un,{children:I(Gn,{label:"Images",name:`variants[${e}][images]`,type:"file",accept:" image/png, image/jpeg",multiple:!0,register:t,errors:n})}),Y(un,{children:[I("button",{type:"button",onClick:()=>{i(r+1)},children:"Add Additional Size Field"}),I("button",{type:"button",onClick:()=>{i(r-1)},children:"Remove Field"})]})]},e)},pA=()=>{const{register:e,handleSubmit:t,reset:n,formState:{errors:r}}=ck(),[i,s]=C.useState(1),[o,a]=C.useState(!1),l=async d=>{a(!0),await tA(d),n(),a(!1)},u=d=>{const h=[];for(let g=0;g<d;g++)h.push(I(fA,{number:g,register:e,additionalColorInput:i,setAdditionalColorInput:s,errors:r},g));return h.map(g=>g)},c=Y("form",{onSubmit:t(l),children:[I(un,{children:I(Gn,{label:"Item Name",name:"name",type:"text",register:e,errors:r})}),u(i),Y(un,{children:[I("button",{type:"button",onClick:()=>{s(i+1)},children:"Additional Color Info"}),I("button",{type:"button",onClick:()=>{s(i-1)},children:"Remove Color Field"})]}),I(un,{children:I(Gn,{label:"Price",name:"price",type:"text",register:e,errors:r})}),I(un,{children:I(Gn,{label:"Category",name:"category",type:"string",register:e,errors:r})}),I(un,{children:I(Gn,{label:"Description",name:"description",type:"string",register:e,errors:r})}),I(un,{children:I("button",{type:"submit",children:"Submit"})})]});return Y(Al,{children:[o&&I("p",{children:"Updating database dont go anywhere, it will take a minute"}),!o&&c]})},mA=()=>I("div",{children:"HomePage"});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const Lg="popstate";function gA(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return td("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Il(i)}return vA(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ip(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yA(){return Math.random().toString(36).substr(2,8)}function Og(e,t){return{usr:e.state,key:e.key,idx:t}}function td(e,t,n,r){return n===void 0&&(n=null),ho({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xi(t):t,{state:n,key:t&&t.key||r||yA()})}function Il(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ho({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Qn.Pop;let _=c(),p=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:p})}function h(_,p){a=Qn.Push;let f=td(w.location,_,p);n&&n(f,_),u=c()+1;let m=Og(f,u),E=w.createHref(f);try{o.pushState(m,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function g(_,p){a=Qn.Replace;let f=td(w.location,_,p);n&&n(f,_),u=c();let m=Og(f,u),E=w.createHref(f);o.replaceState(m,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function v(_){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof _=="string"?_:Il(_);return Be(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let w={get action(){return a},get location(){return e(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lg,d),l=_,()=>{i.removeEventListener(Lg,d),l=null}},createHref(_){return t(i,_)},createURL:v,encodeLocation(_){let p=v(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(_){return o.go(_)}};return w}var Fg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fg||(Fg={}));function wA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Xi(t):t,i=sp(r.pathname||"/",n);if(i==null)return null;let s=sE(e);EA(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=NA(s[a],PA(i));return o}function sE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ur([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sE(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:xA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of oE(s.path))i(s,o,l)}),t}function oE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=oE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function EA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:DA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _A=/^:\w+$/,SA=3,kA=2,CA=1,TA=10,IA=-2,Mg=e=>e==="*";function xA(e,t){let n=e.split("/"),r=n.length;return n.some(Mg)&&(r+=IA),t&&(r+=kA),n.filter(i=>!Mg(i)).reduce((i,s)=>i+(_A.test(s)?SA:s===""?CA:TA),r)}function DA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function NA(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=AA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ur([i,c.pathname]),pathnameBase:FA(ur([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ur([i,c.pathnameBase]))}return s}function AA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=RA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=$A(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function RA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ip(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function PA(e){try{return decodeURI(e)}catch(t){return ip(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $A(e,t){try{return decodeURIComponent(e)}catch(n){return ip(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function sp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function LA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Xi(e):e;return{pathname:n?n.startsWith("/")?n:OA(n,t):t,search:MA(r),hash:UA(i)}}function OA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ic(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Xi(e):(i=ho({},e),Be(!i.pathname||!i.pathname.includes("?"),Ic("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),Ic("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),Ic("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=LA(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ur=e=>e.join("/").replace(/\/\/+/g,"/"),FA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const BA=typeof Object.is=="function"?Object.is:bA,{useState:zA,useEffect:jA,useLayoutEffect:HA,useDebugValue:qA}=Dc;function WA(e,t,n){const r=t(),[{inst:i},s]=zA({inst:{value:r,getSnapshot:t}});return HA(()=>{i.value=r,i.getSnapshot=t,xc(i)&&s({inst:i})},[e,r,t]),jA(()=>(xc(i)&&s({inst:i}),e(()=>{xc(i)&&s({inst:i})})),[e]),qA(r),r}function xc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!BA(n,r)}catch{return!0}}function KA(e,t,n){return t()}const GA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QA=!GA,YA=QA?KA:WA;"useSyncExternalStore"in Dc&&(e=>e.useSyncExternalStore)(Dc);const uE=C.createContext(null),op=C.createContext(null),Ji=C.createContext(null),Cu=C.createContext(null),Zi=C.createContext({outlet:null,matches:[]}),cE=C.createContext(null);function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}function XA(e,t){let{relative:n}=t===void 0?{}:t;Mo()||Be(!1);let{basename:r,navigator:i}=C.useContext(Ji),{hash:s,pathname:o,search:a}=ap(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ur([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Mo(){return C.useContext(Cu)!=null}function Uo(){return Mo()||Be(!1),C.useContext(Cu).location}function JA(){Mo()||Be(!1);let{basename:e,navigator:t}=C.useContext(Ji),{matches:n}=C.useContext(Zi),{pathname:r}=Uo(),i=JSON.stringify(aE(n).map(a=>a.pathnameBase)),s=C.useRef(!1);return C.useEffect(()=>{s.current=!0}),C.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let u=lE(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:ur([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}function ap(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=C.useContext(Zi),{pathname:i}=Uo(),s=JSON.stringify(aE(r).map(o=>o.pathnameBase));return C.useMemo(()=>lE(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function ZA(e,t){Mo()||Be(!1);let{navigator:n}=C.useContext(Ji),r=C.useContext(op),{matches:i}=C.useContext(Zi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Uo(),u;if(t){var c;let w=typeof t=="string"?Xi(t):t;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||Be(!1),u=w}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",g=wA(e,{pathname:h}),v=rR(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ur([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:ur([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return t&&v?C.createElement(Cu.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qn.Pop}},v):v}function eR(){let e=aR(),t=VA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:i},n):null,s)}class tR extends C.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?C.createElement(Zi.Provider,{value:this.props.routeContext},C.createElement(cE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nR(e){let{routeContext:t,match:n,children:r}=e,i=C.useContext(uE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Zi.Provider,{value:t},r)}function rR(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Be(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=C.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=C.createElement(eR,null));let c=t.concat(r.slice(0,a+1)),d=()=>{let h=s;return l?h=u:o.route.Component?h=C.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),C.createElement(nR,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?C.createElement(tR,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var Ug;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Ug||(Ug={}));var xl;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(xl||(xl={}));function iR(e){let t=C.useContext(op);return t||Be(!1),t}function sR(e){let t=C.useContext(Zi);return t||Be(!1),t}function oR(e){let t=sR(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function aR(){var e;let t=C.useContext(cE),n=iR(xl.UseRouteError),r=oR(xl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function an(e){Be(!1)}function lR(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:s,static:o=!1}=e;Mo()&&Be(!1);let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Xi(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:g="default"}=r,v=C.useMemo(()=>{let w=sp(u,a);return w==null?null:{location:{pathname:w,search:c,hash:d,state:h,key:g},navigationType:i}},[a,u,c,d,h,g,i]);return v==null?null:C.createElement(Ji.Provider,{value:l},C.createElement(Cu.Provider,{children:n,value:v}))}function uR(e){let{children:t,location:n}=e,r=C.useContext(uE),i=r&&!t?r.router.routes:rd(t);return ZA(i,n)}var Vg;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Vg||(Vg={}));new Promise(()=>{});function rd(e,t){t===void 0&&(t=[]);let n=[];return C.Children.forEach(e,(r,i)=>{if(!C.isValidElement(r))return;let s=[...t,i];if(r.type===C.Fragment){n.push.apply(n,rd(r.props.children,s));return}r.type!==an&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}function hE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hR(e,t){return e.button===0&&(!t||t==="_self")&&!cR(e)}const dR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],fR=["aria-current","caseSensitive","className","end","style","to","children"];function pR(e){let{basename:t,children:n,window:r}=e,i=C.useRef();i.current==null&&(i.current=gA({window:r,v5Compat:!0}));let s=i.current,[o,a]=C.useState({action:s.action,location:s.location});return C.useLayoutEffect(()=>s.listen(a),[s]),C.createElement(lR,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}const mR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yR=C.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,d=hE(t,dR),{basename:h}=C.useContext(Ji),g,v=!1;if(typeof u=="string"&&gR.test(u)&&(g=u,mR)){let f=new URL(window.location.href),m=u.startsWith("//")?new URL(f.protocol+u):new URL(u),E=sp(m.pathname,h);m.origin===f.origin&&E!=null?u=E+m.search+m.hash:v=!0}let w=XA(u,{relative:i}),_=vR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function p(f){r&&r(f),f.defaultPrevented||_(f)}return C.createElement("a",Dl({},d,{href:g||w,onClick:v||s?r:p,ref:n,target:l}))}),vs=C.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=t,c=hE(t,fR),d=ap(l,{relative:c.relative}),h=Uo(),g=C.useContext(op),{navigator:v}=C.useContext(Ji),w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,_=h.pathname,p=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(_=_.toLowerCase(),p=p?p.toLowerCase():null,w=w.toLowerCase());let f=_===w||!o&&_.startsWith(w)&&_.charAt(w.length)==="/",m=p!=null&&(p===w||!o&&p.startsWith(w)&&p.charAt(w.length)==="/"),E=f?r:void 0,T;typeof s=="function"?T=s({isActive:f,isPending:m}):T=[s,f?"active":null,m?"pending":null].filter(Boolean).join(" ");let R=typeof a=="function"?a({isActive:f,isPending:m}):a;return C.createElement(yR,Dl({},c,{"aria-current":E,className:T,ref:n,style:R,to:l}),typeof u=="function"?u({isActive:f,isPending:m}):u)});var bg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(bg||(bg={}));var Bg;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bg||(Bg={}));function vR(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=JA(),l=Uo(),u=ap(e,{relative:o});return C.useCallback(c=>{if(hR(c,n)){c.preventDefault();let d=r!==void 0?r:Il(l)===Il(u);a(e,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,e,s,o])}const id=e=>e.replace(/[\W]/gi," ").split(" ").filter(t=>t).join("+").toLowerCase(),wR=(e,t)=>e.reduce((n,r)=>(r.id===t.id&&r.color===t.color&&r.size===t.size?n.push(t):n.push(r),[...n]),[]),ER=(e,t)=>e.find(r=>r.id===t.id&&r.color===t.color&&r.size===t.size)?wR(e,t):[...e,t],_R=e=>e.reduce((t,n)=>t+Number(n.price)*n.quantity,0),SR=(e,t)=>e.filter(n=>n.category===t.category&&n.id!==t.id),kR=e=>e.reduce((t,n)=>t+n.quantity*n.price,0),zg=e=>e.filter(t=>t.quantity!==0),fo={puzzleIcon:new URL("/attire/assets/puzzle-icon-86715c22.svg",self.location).href,emptyHeart:new URL("/attire/assets/empty-heart-6d4718f7.svg",self.location).href,fullHeart:new URL("/attire/assets/full-heart-0b20b439.svg",self.location).href,attireIcon:new URL("/attire/assets/icon-d574a536.svg",self.location).href,shoppingCart:new URL("/attire/assets/shopping-cart-8b5ecf33.svg",self.location).href,arrowLeft:new URL("/attire/assets/arrow-left-2b4cf727.svg",self.location).href,arrowRight:new URL("/attire/assets/arrow-right-240814c4.svg",self.location).href},Tu=C.createContext(),CR=({children:e})=>{const[t,n]=C.useState([]),s={favourites:t,setFavourites:n,checkIfInFavourites:(o,a,l,u,c)=>{if(o.find(h=>h.id===a)){const h=o.filter(g=>g.id!==a);u(h),c(!1)}else u(h=>[...h,l]),c(!0)},applyHeartSvg:o=>o?fo.fullHeart:fo.emptyHeart};return I(Tu.Provider,{value:s,children:e})},TR="_Display_Item_1k6xz_1",_n={Display_Item:TR,"Display_Item-images":"_Display_Item-images_1k6xz_7","Display_Item-images-preview":"_Display_Item-images-preview_1k6xz_12","Display_Item-images-heart":"_Display_Item-images-heart_1k6xz_15","Display_Item-item":"_Display_Item-item_1k6xz_23","Display_Item-item_name":"_Display_Item-item_name_1k6xz_26","Display_Item-low_stock_warning":"_Display_Item-low_stock_warning_1k6xz_29","low_stock_warning-visible":"_low_stock_warning-visible_1k6xz_43"},jg=({id:e,name:t,price:n,image:r,quantity:i,item:s})=>{const{favourites:o,setFavourites:a,checkIfInFavourites:l,applyHeartSvg:u}=C.useContext(Tu),c=25,[d,h]=C.useState(!1),[g,v]=C.useState(!1),w=o.find(P=>P.id===e),[_,p]=C.useState(!!w),f=P=>{P.preventDefault(),l(o,e,s,a,p)},m=()=>{v(!0)},E=()=>{v(!1)},T=g?r[0]:r[1],R=(Math.round(n*100)/100).toFixed(2);return C.useEffect(()=>{if(s.variants.reduce(($,ee)=>$+=ee.sizes.reduce((z,le)=>z+Number(le.quantity),0),0)<=c)return h(!0)},[]),I("div",{className:_n.Display_Item,onMouseEnter:m,onMouseLeave:E,children:Y(vs,{to:`/attire/catalogue/${id(t)}`,children:[d&&I("div",{className:`${_n["Display_Item-low_stock_warning"]} ${_n["low_stock_warning-visible"]}`,children:"Low Stock"}),Y("section",{children:[Y("div",{className:_n["Display_Item-images"],children:[I("img",{src:T,alt:t,className:_n["Display_Item-images-preview"]}),I("img",{src:u(_),alt:"heart",onClick:f,className:_n["Display_Item-images-heart"]})]}),Y("div",{className:_n["Display_Item-item"],children:[I("p",{className:_n["Display_Item-item_name"],children:t}),g?Y("p",{className:_n["Display_Item-item_price"],children:["$",R]}):""]})]})]})})},IR=({id:e,name:t,price:n,image:r,quantity:i,size:s,color:o,cart:a,setCart:l})=>{const u=(Math.round(i*n*100)/100).toFixed(2);return Y("div",{children:[I("img",{src:r,alt:t}),Y("h5",{children:[t," - ",s]}),Y("div",{children:[I("button",{type:"button",onClick:()=>{const h=a.map(g=>(g.id===e&&g.size===s&&g.color===o&&(g.quantity-=1),g));l(zg(h))},children:"-"}),I("p",{children:i}),I("button",{type:"button",onClick:()=>{const h=a.map(g=>(g.id===e&&g.size===s&&g.color===o&&g.quantity<10&&(g.quantity+=1),g));l(zg(h))},children:"+"})]}),Y("p",{children:["$",u]})]})},xR="_Item_List_8p9nu_1",DR={Item_List:xR},Vo=C.createContext(),NR=({children:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(0),s={cart:t,setCart:n,totalPrice:r};return C.useEffect(()=>{i(_R(t))},[t]),I(Vo.Provider,{value:s,children:e})};let pa;const AR=new Uint8Array(16);function RR(){if(!pa&&(pa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pa(AR)}const Xe=[];for(let e=0;e<256;++e)Xe.push((e+256).toString(16).slice(1));function PR(e,t=0){return(Xe[e[t+0]]+Xe[e[t+1]]+Xe[e[t+2]]+Xe[e[t+3]]+"-"+Xe[e[t+4]]+Xe[e[t+5]]+"-"+Xe[e[t+6]]+Xe[e[t+7]]+"-"+Xe[e[t+8]]+Xe[e[t+9]]+"-"+Xe[e[t+10]]+Xe[e[t+11]]+Xe[e[t+12]]+Xe[e[t+13]]+Xe[e[t+14]]+Xe[e[t+15]]).toLowerCase()}const $R=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hg={randomUUID:$R};function $a(e,t,n){if(Hg.randomUUID&&!t&&!e)return Hg.randomUUID();e=e||{};const r=e.random||(e.rng||RR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return PR(r)}const Iu=({stock:e,inCheckOutPage:t,inFavouritesPage:n})=>{const{cart:r,setCart:i}=C.useContext(Vo),{favourites:s,setFavourites:o}=C.useContext(Tu),a=e==null?void 0:e.map(c=>{const{id:d,name:h,price:g,description:v,variants:w}=c;return I(jg,{id:d,name:h,price:g,description:v,image:w[0].images,item:c},d+$a())}),l=r==null?void 0:r.map(c=>{const{id:d,name:h,price:g,quantity:v,size:w,color:_}=c;return I(IR,{id:d,name:h,price:g,quantity:v,setCart:i,cart:r,size:w,color:_},d+$a())}),u=s==null?void 0:s.map(c=>{const{id:d,name:h,price:g,description:v,variants:w}=c;return I(jg,{id:d,name:h,price:g,description:v,item:c,image:w[0].images},d+$a())});return Y("div",{className:DR.Item_List,children:[t?l:n?u:a,n&&s.length===0&&I("p",{children:"You don't have any favourite items, why not look for something you might like"}),t&&r.length===0&&I("p",{children:"You dont have any items in your cart, why not look for something you might like"})]})},LR=()=>I("div",{children:"NotFound"}),OR=async()=>{const e=await XN(Hw(ku,"attire-stock")),t=[];return e.forEach(n=>{t.push(n.data())}),t},po=C.createContext(),FR=({children:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(!1);C.useEffect(()=>{(async()=>{const a=await OR();console.log(a),n(a)})()},[r]);const s={currentStock:t,setCurrentStock:n,purchasedCart:r,setPurchasedCart:i};return I(po.Provider,{value:s,children:e})},MR=()=>{const{cart:e,setCart:t}=C.useContext(Vo),{purchasedCart:n,setPurchasedCart:r}=C.useContext(po),[i,s]=C.useState(!1),{currentStock:o}=C.useContext(po),a=(Math.round(kR(e)*100)/100).toFixed(2),l=c=>{if(c.preventDefault(),e.length===0)return s(!0);r(!0),lA(e,o),t([])};C.useEffect(()=>(e.length===0&&s(!0),r(!1)),[e]);const u=Y("section",{children:[Y("p",{children:["Total Price (inc. GST): $",a," "]}),I("form",{onSubmit:l,children:I("button",{disabled:i,children:"Check Out"})})]});return Y("div",{children:[I(Iu,{inCheckOutPage:!0}),n&&I("p",{children:"Thank you for your purchase"}),!n&&e.length>0&&u]})},UR=(e,t,n,r,i)=>{const s=o=>{t({type:"changeSize"}),n(o),r(!1),i(!1)};return e.sizes.map(o=>I("option",{type:"button",onClick:()=>{s(o)},children:o.size.replace(/(([X]*[L,M,S]){1})/i,a=>a.toUpperCase())},o.size))},VR=(e,t,n,r,i,s)=>{const o=a=>{s(a.images[0]),t(a),n({type:"changeColor"}),r(!1),i(!1)};return e.map(a=>I("option",{onClick:()=>{o(a)},children:a.color.replace(/[a-z]/i,l=>l.toUpperCase())},a.color))},bR=(e,t,n,r,i,s)=>{if(r.quantity===i)return t(!0);if(r.quantity===s.quantity)return n(!0);e({type:"increment"})},BR=(e,t,n)=>{t(!1),n(!1),e({type:"decrement"})},zR=(e,t,n,r)=>{const i=Number(e.target.value);n(i),r(!1),i>10&&(r(!0),n(10)),t({type:"onChange"})},jR=(e,t,n,r)=>{e(t(n,r))},HR=(e,t,n)=>{const{quantity:r}=e;return r>t?"":r<=t&&r>n?Y("p",{children:["Only ",r," remain "]}):I("p",{children:"Out of Stock"})},qR="_Add_To_Cart_Form_t2dkd_2",Sn={Add_To_Cart_Form:qR,"Add_To_Cart_Form-select":"_Add_To_Cart_Form-select_t2dkd_9","Add_To_Cart_Form-counter":"_Add_To_Cart_Form-counter_t2dkd_30","Add_To_Cart_Form-cart_button":"_Add_To_Cart_Form-cart_button_t2dkd_58","Add_To_Cart_Form-error_messages":"_Add_To_Cart_Form-error_messages_t2dkd_73"},qg=({name:e,className:t,selectContent:n})=>Y(Al,{children:[I("label",{htmlFor:e,children:e}),I("select",{name:e,className:t,children:n})]}),WR=({id:e,name:t,price:n,image:r,item:i,variants:s,currentColorVariant:o,setCurrentColorVariant:a,currentSelectedSize:l,setCurrentSelectedSize:u,setCurrentSelectedImage:c})=>{const v={quantity:1,id:e,name:t,price:n,image:r,color:o.color,size:l.size},[w,_]=C.useState(1),p=(Ne,Ye)=>{if(Ye.type==="increment"){const{quantity:ot,...ke}=Ne;return _(ot+1),{quantity:ot+1,...ke}}else if(Ye.type==="decrement"&&Ne.quantity===1){const{quantity:ot,...ke}=Ne;return _(1),{quantity:1,...ke}}else if(Ye.type==="decrement"&&Ne.quantity>1){const{quantity:ot,...ke}=Ne;return _(ot-1),{quantity:ot-1,...ke}}else if(Ye.type==="onChange"){const{quantity:ot,...ke}=Ne;return{quantity:w,...ke}}else if(Ye.type==="changeColor"){const{color:ot,quantity:ke,...Pt}=Ne;return _(1),{quantity:1,color:o.color,...Pt}}else if(Ye.type==="changeSize"){const{size:ot,quantity:ke,...Pt}=Ne;return _(1),{quantity:1,size:l.size,...Pt}}else if(Ye.type==="itemChange"){const{quantity:ot,image:ke,color:Pt,size:xu,...Du}=Ne;return _(1),{quantity:1,image:i.variants[0].images[0],color:i.variants[0].color,size:i.variants[0].sizes[0].size,...Du}}else return Ne},[f,m]=C.useReducer(p,v),{cart:E,setCart:T,setNewItemAnimation:R}=C.useContext(Vo),[P,$]=C.useState(!1),[ee,z]=C.useState(!1),[le,Z]=C.useState(!1),B=Math.round(n*f.quantity*100/100).toFixed(2),se=VR(s,a,m,$,z,c),He=UR(o,m,u,$,z),qe=Y("p",{children:["Only a maximum of ",10," per customer"]}),st=I("p",{children:"We are low on stock unfortunately you wont be able to purchase more"}),L=`ADD TO CART - $${B}`,W=Ne=>{Ne.preventDefault(),jR(T,ER,E,f)},K=()=>{bR(m,$,z,f,10,l),_(f.quantity)},ce=()=>{BR(m,$,z),_(f.quantity)},we=Ne=>{zR(Ne,m,_,$)};return C.useEffect(()=>{m({type:"itemChange"}),a(i.variants[0]),$(!1),z(!1)},[i]),C.useEffect(()=>{l.quantity>0?Z(!1):Z(!0)}),Y("form",{onSubmit:W,className:Sn.Add_To_Cart_Form,children:[Y("div",{className:Sn["Add_To_Cart_Form-select"],children:[I(qg,{name:"color",className:Sn["Add_To_Cart_Form-select_color"],selectContent:se}),I(qg,{name:"size",className:Sn["Add_To_Cart_Form-select_size"],selectContent:He})]}),Y("div",{className:Sn["Add_To_Cart_Form-counter"],children:[I("button",{type:"button",onClick:ce,disabled:le,className:Sn["counter-decrement"],children:"-"}),I("input",{value:w,onChange:we,max:10,min:1,type:"number"}),I("button",{type:"button",onClick:K,disabled:le,className:Sn["counter-increment"],children:"+"})]}),I("button",{type:"submit",disabled:le,className:Sn["Add_To_Cart_Form-cart_button"],children:L}),Y("div",{className:Sn["Add_To_Cart_Form-error_messages"],children:[P&&qe,ee&&st]})]})},Tt={"Dedicated_Item-product":"_Dedicated_Item-product_d4ub0_1","Dedicated_Item-product_arrows":"_Dedicated_Item-product_arrows_d4ub0_6","Dedicated_Item-product_previous_image":"_Dedicated_Item-product_previous_image_d4ub0_21","Dedicated_Item-product_next_image":"_Dedicated_Item-product_next_image_d4ub0_24","Dedicated_Item-product_current_image":"_Dedicated_Item-product_current_image_d4ub0_32","Dedicated_Item-product_image_carousel":"_Dedicated_Item-product_image_carousel_d4ub0_36","Dedicated_Item-product_information":"_Dedicated_Item-product_information_d4ub0_39","Dedicated_Item-product_information-details_header":"_Dedicated_Item-product_information-details_header_d4ub0_44","Dedicated_Item-product_information-details_header-heart":"_Dedicated_Item-product_information-details_header-heart_d4ub0_47","Dedicated_Item-product_information-description":"_Dedicated_Item-product_information-description_d4ub0_52"},KR=({id:e,name:t,price:n,description:r,item:i,variants:s})=>{const{currentStock:o}=C.useContext(po),{favourites:a,setFavourites:l,checkIfInFavourites:u,applyHeartSvg:c}=C.useContext(Tu),d=a.find(B=>B.id===e),[h,g]=C.useState(!!d),[v,w]=C.useState(i.variants[0]),[_,p]=C.useState(i.variants[0].sizes[0]),[f,m]=C.useState(i.variants[0].images[0]),[E,T]=C.useState(0),R=5,P=0,$=()=>{const B=E-1,se=Math.abs(B)%4;T(B),m(v.images[se])},ee=()=>{const B=E+1,se=Math.abs(B)%4;T(B),m(v.images[se])},z=()=>{u(a,e,i,l,g)},le=HR(_,R,P),Z=v.images.map(B=>I("img",{src:B,className:Tt["Dedicated_Item-product_image_carousel"],onClick:()=>{m(B)}},B));return C.useEffect(()=>{g(!!d)},[i]),Y("div",{className:Tt.Dedicated_Item,children:[Y("section",{className:Tt["Dedicated_Item-product"],children:[Y("div",{children:[Y("div",{className:Tt["Dedicated_Item-product_image_buttons"],children:[I("div",{className:` ${Tt["Dedicated_Item-product_arrows"]} ${Tt["Dedicated_Item-product_previous_image"]}`,onClick:$,children:I("img",{src:fo.arrowLeft,alt:"left arrow"})}),I("div",{className:` ${Tt["Dedicated_Item-product_arrows"]} ${Tt["Dedicated_Item-product_next_image"]}`,onClick:ee,children:I("img",{src:fo.arrowRight,alt:"right arrow"})})]}),I("img",{src:f,className:Tt["Dedicated_Item-product_current_image"]}),Z]}),Y("div",{className:Tt["Dedicated_Item-product_information"],children:[Y("section",{className:Tt["Dedicated_Item-product_information-details"],children:[I("div",{className:Tt["Dedicated_Item-product_information-details_header"],children:Y("h2",{children:[I("span",{onClick:z,children:I("img",{src:c(h),alt:"heart",className:Tt["Dedicated_Item-product_information-details_header-heart"]})}),t]})}),le]}),I(WR,{id:e,name:t,price:n,item:i,variants:s,currentColorVariant:v,currentSelectedSize:_,setCurrentColorVariant:w,setCurrentSelectedSize:p,setCurrentSelectedImage:m}),I("section",{className:Tt["Dedicated_Item-product_information-description"],children:r})]})]}),Y("section",{children:[I("h4",{children:"You may also like these..."}),I(Iu,{stock:SR(o,i)})]})]})},GR="_Navigation_Bar_3d2ix_1",ma={Navigation_Bar:GR,"Navigation_Bar-logo":"_Navigation_Bar-logo_3d2ix_6","Navigation_Bar-links":"_Navigation_Bar-links_3d2ix_19","Navigation_Bar-links-cart":"_Navigation_Bar-links-cart_3d2ix_30"},QR=()=>{const{totalPrice:e}=C.useContext(Vo),t=(Math.round(e*100)/100).toFixed(2);return Y("header",{className:ma.Navigation_Bar,children:[I(vs,{to:"/attire/",children:Y("div",{className:ma["Navigation_Bar-logo"],children:[I("img",{src:fo.attireIcon,alt:"attire logo"}),I("h1",{children:"attire"})]})}),Y("div",{className:ma["Navigation_Bar-links"],children:[I(vs,{to:"/attire/catalogue",children:"Catalogue"}),I(vs,{to:"/attire/favourites",children:"Favourites"}),I(vs,{to:"/attire/checkout",children:I("div",{className:ma["Navigation_Bar-links-cart"],children:Y("p",{children:["Your Cart"," ",e>0&&Y("span",{children:["$",t]})]})})})]})]})},YR=()=>I("div",{children:I(Iu,{inFavouritesPage:!0})}),XR="_App_1rho5_1",JR={App:XR},ZR=()=>{const{currentStock:e}=C.useContext(po),t=e.map(n=>{const{id:r,name:i,price:s,description:o,image:a,variants:l}=n,u=I(KR,{id:r,name:i,price:s,description:o,image:a,item:n,variants:l});return I(an,{path:`/attire/catalogue/${id(i)}`,element:u},`${id(i)+$a()}`)});return I(Al,{children:Y("div",{className:JR.App,children:[I(QR,{}),Y(uR,{children:[Y(an,{path:"attire",children:[I(an,{path:"",element:I(mA,{})}),Y(an,{path:"catalogue",children:[I(an,{path:"",element:I(Iu,{stock:e})}),t]}),I(an,{path:"favourites",element:I(YR,{})}),I(an,{path:"checkout",element:I(MR,{})}),I(an,{path:"adminAccess",element:I(pA,{})})]}),I(an,{path:"*",element:I(LR,{})})]})]})})};Nc.createRoot(document.getElementById("root")).render(I(pR,{children:I(FR,{children:I(CR,{children:I(NR,{children:I(ZR,{})})})})}));
