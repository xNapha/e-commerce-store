function I_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function x_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bs={},D_={get exports(){return bs},set exports(e){bs=e}},Fl={},k={},N_={get exports(){return k},set exports(e){k=e}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=Symbol.for("react.element"),A_=Symbol.for("react.portal"),R_=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),$_=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),F_=Symbol.for("react.forward_ref"),M_=Symbol.for("react.suspense"),U_=Symbol.for("react.memo"),V_=Symbol.for("react.lazy"),_p=Symbol.iterator;function B_(e){return e===null||typeof e!="object"?null:(e=_p&&e[_p]||e["@@iterator"],typeof e=="function"?e:null)}var ey={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ty=Object.assign,ny={};function Gi(e,t,n){this.props=e,this.context=t,this.refs=ny,this.updater=n||ey}Gi.prototype.isReactComponent={};Gi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ry(){}ry.prototype=Gi.prototype;function fd(e,t,n){this.props=e,this.context=t,this.refs=ny,this.updater=n||ey}var pd=fd.prototype=new ry;pd.constructor=fd;ty(pd,Gi.prototype);pd.isPureReactComponent=!0;var Ep=Array.isArray,iy=Object.prototype.hasOwnProperty,md={current:null},sy={key:!0,ref:!0,__self:!0,__source:!0};function oy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)iy.call(t,r)&&!sy.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_o,type:e,key:s,ref:o,props:i,_owner:md.current}}function b_(e,t){return{$$typeof:_o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gd(e){return typeof e=="object"&&e!==null&&e.$$typeof===_o}function z_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sp=/\/+/g;function Fu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z_(""+e.key):t.toString(36)}function Ca(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _o:case A_:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Fu(o,0):r,Ep(i)?(n="",e!=null&&(n=e.replace(Sp,"$&/")+"/"),Ca(i,t,n,"",function(u){return u})):i!=null&&(gd(i)&&(i=b_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sp,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Ep(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Fu(s,a);o+=Ca(s,t,n,l,i)}else if(l=B_(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Fu(s,a++),o+=Ca(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ko(e,t,n){if(e==null)return e;var r=[],i=0;return Ca(e,r,"","",function(s){return t.call(n,s,i++)}),r}function j_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wt={current:null},ka={transition:null},H_={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:ka,ReactCurrentOwner:md};ne.Children={map:Ko,forEach:function(e,t,n){Ko(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ko(e,function(){t++}),t},toArray:function(e){return Ko(e,function(t){return t})||[]},only:function(e){if(!gd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Gi;ne.Fragment=R_;ne.Profiler=$_;ne.PureComponent=fd;ne.StrictMode=P_;ne.Suspense=M_;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ty({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=md.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)iy.call(t,l)&&!sy.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:_o,type:e.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:O_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L_,_context:e},e.Consumer=e};ne.createElement=oy;ne.createFactory=function(e){var t=oy.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:F_,render:e}};ne.isValidElement=gd;ne.lazy=function(e){return{$$typeof:V_,_payload:{_status:-1,_result:e},_init:j_}};ne.memo=function(e,t){return{$$typeof:U_,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(e,t){return wt.current.useCallback(e,t)};ne.useContext=function(e){return wt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return wt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return wt.current.useEffect(e,t)};ne.useId=function(){return wt.current.useId()};ne.useImperativeHandle=function(e,t,n){return wt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return wt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return wt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return wt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return wt.current.useReducer(e,t,n)};ne.useRef=function(e){return wt.current.useRef(e)};ne.useState=function(e){return wt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return wt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return wt.current.useTransition()};ne.version="18.2.0";(function(e){e.exports=ne})(N_);const Hn=x_(k),Oc=I_({__proto__:null,default:Hn},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_=k,W_=Symbol.for("react.element"),K_=Symbol.for("react.fragment"),G_=Object.prototype.hasOwnProperty,Q_=q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y_={key:!0,ref:!0,__self:!0,__source:!0};function ay(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)G_.call(t,r)&&!Y_.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:W_,type:e,key:s,ref:o,props:i,_owner:Q_.current}}Fl.Fragment=K_;Fl.jsx=ay;Fl.jsxs=ay;(function(e){e.exports=Fl})(D_);const Eo=bs.Fragment,C=bs.jsx,K=bs.jsxs;var Fc={},Mc={},X_={get exports(){return Mc},set exports(e){Mc=e}},Ot={},Uc={},J_={get exports(){return Uc},set exports(e){Uc=e}},ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,b){var G=R.length;R.push(b);e:for(;0<G;){var ce=G-1>>>1,_e=R[ce];if(0<i(_e,b))R[ce]=b,R[G]=_e,G=ce;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var b=R[0],G=R.pop();if(G!==b){R[0]=G;e:for(var ce=0,_e=R.length,ti=_e>>>1;ce<ti;){var yn=2*(ce+1)-1,os=R[yn],Wt=yn+1,Mn=R[Wt];if(0>i(os,G))Wt<_e&&0>i(Mn,os)?(R[ce]=Mn,R[Wt]=G,ce=Wt):(R[ce]=os,R[yn]=G,ce=yn);else if(Wt<_e&&0>i(Mn,G))R[ce]=Mn,R[Wt]=G,ce=Wt;else break e}}return b}function i(R,b){var G=R.sortIndex-b.sortIndex;return G!==0?G:R.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=R)r(u),b.sortIndex=b.expirationTime,t(l,b);else break;b=n(u)}}function _(R){if(v=!1,g(R),!w)if(n(l)!==null)w=!0,se(T);else{var b=n(u);b!==null&&ke(_,b.startTime-R)}}function T(R,b){w=!1,v&&(v=!1,p(L),L=-1),m=!0;var G=h;try{for(g(b),f=n(l);f!==null&&(!(f.expirationTime>b)||R&&!de());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var _e=ce(f.expirationTime<=b);b=e.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),g(b)}else r(l);f=n(l)}if(f!==null)var ti=!0;else{var yn=n(u);yn!==null&&ke(_,yn.startTime-b),ti=!1}return ti}finally{f=null,h=G,m=!1}}var P=!1,$=null,L=-1,ee=5,W=-1;function de(){return!(e.unstable_now()-W<ee)}function Z(){if($!==null){var R=e.unstable_now();W=R;var b=!0;try{b=$(!0,R)}finally{b?z():(P=!1,$=null)}}else P=!1}var z;if(typeof d=="function")z=function(){d(Z)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,He=oe.port2;oe.port1.onmessage=Z,z=function(){He.postMessage(null)}}else z=function(){E(Z,0)};function se(R){$=R,P||(P=!0,z())}function ke(R,b){L=E(function(){R(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,se(T))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var G=h;h=b;try{return R()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,b){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return b()}finally{h=G}},e.unstable_scheduleCallback=function(R,b,G){var ce=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ce+G:ce):G=ce,R){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=G+_e,R={id:c++,callback:b,priorityLevel:R,startTime:G,expirationTime:_e,sortIndex:-1},G>ce?(R.sortIndex=G,t(u,R),n(l)===null&&R===n(u)&&(v?(p(L),L=-1):v=!0,ke(_,G-ce))):(R.sortIndex=_e,t(l,R),w||m||(w=!0,se(T))),R},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(R){var b=h;return function(){var G=h;h=b;try{return R.apply(this,arguments)}finally{h=G}}}})(ly);(function(e){e.exports=ly})(J_);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=k,$t=Uc;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cy=new Set,zs={};function Qr(e,t){Ri(e,t),Ri(e+"Capture",t)}function Ri(e,t){for(zs[e]=t,e=0;e<t.length;e++)cy.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=Object.prototype.hasOwnProperty,Z_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cp={},kp={};function eE(e){return Vc.call(kp,e)?!0:Vc.call(Cp,e)?!1:Z_.test(e)?kp[e]=!0:(Cp[e]=!0,!1)}function tE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nE(e,t,n,r){if(t===null||typeof t>"u"||tE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var yd=/[\-:]([a-z])/g;function vd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yd,vd);tt[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yd,vd);tt[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yd,vd);tt[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function wd(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nE(t,n,i,r)&&(n=null),r||i===null?eE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fn=uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Go=Symbol.for("react.element"),ai=Symbol.for("react.portal"),li=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),hy=Symbol.for("react.provider"),dy=Symbol.for("react.context"),Ed=Symbol.for("react.forward_ref"),bc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),fy=Symbol.for("react.offscreen"),Tp=Symbol.iterator;function as(e){return e===null||typeof e!="object"?null:(e=Tp&&e[Tp]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Mu;function ws(e){if(Mu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mu=t&&t[1]||""}return`
`+Mu+e}var Uu=!1;function Vu(e,t){if(!e||Uu)return"";Uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Uu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ws(e):""}function rE(e){switch(e.tag){case 5:return ws(e.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 2:case 15:return e=Vu(e.type,!1),e;case 11:return e=Vu(e.type.render,!1),e;case 1:return e=Vu(e.type,!0),e;default:return""}}function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case li:return"Fragment";case ai:return"Portal";case Bc:return"Profiler";case _d:return"StrictMode";case bc:return"Suspense";case zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dy:return(e.displayName||"Context")+".Consumer";case hy:return(e._context.displayName||"Context")+".Provider";case Ed:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sd:return t=e.displayName||null,t!==null?t:jc(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return jc(e(t))}catch{}}return null}function iE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jc(t);case 8:return t===_d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function py(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sE(e){var t=py(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qo(e){e._valueTracker||(e._valueTracker=sE(e))}function my(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=py(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hc(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ip(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gy(e,t){t=t.checked,t!=null&&wd(e,"checked",t,!1)}function qc(e,t){gy(e,t);var n=hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wc(e,t.type,hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wc(e,t,n){(t!=="number"||ba(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _s=Array.isArray;function Si(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(_s(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hr(n)}}function yy(e,t){var n=hr(t.value),r=hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Np(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yo,wy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oE=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){oE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function _y(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function Ey(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_y(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var aE=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qc(e,t){if(t){if(aE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Yc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=null;function Cd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jc=null,Ci=null,ki=null;function Ap(e){if(e=ko(e)){if(typeof Jc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=bl(t),Jc(e.stateNode,e.type,t))}}function Sy(e){Ci?ki?ki.push(e):ki=[e]:Ci=e}function Cy(){if(Ci){var e=Ci,t=ki;if(ki=Ci=null,Ap(e),t)for(e=0;e<t.length;e++)Ap(t[e])}}function ky(e,t){return e(t)}function Ty(){}var Bu=!1;function Iy(e,t,n){if(Bu)return e(t,n);Bu=!0;try{return ky(e,t,n)}finally{Bu=!1,(Ci!==null||ki!==null)&&(Ty(),Cy())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=bl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Zc=!1;if(xn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Zc=!1}function lE(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var xs=!1,za=null,ja=!1,eh=null,uE={onError:function(e){xs=!0,za=e}};function cE(e,t,n,r,i,s,o,a,l){xs=!1,za=null,lE.apply(uE,arguments)}function hE(e,t,n,r,i,s,o,a,l){if(cE.apply(this,arguments),xs){if(xs){var u=za;xs=!1,za=null}else throw Error(D(198));ja||(ja=!0,eh=u)}}function Yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rp(e){if(Yr(e)!==e)throw Error(D(188))}function dE(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Rp(i),e;if(s===r)return Rp(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Dy(e){return e=dE(e),e!==null?Ny(e):null}function Ny(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ny(e);if(t!==null)return t;e=e.sibling}return null}var Ay=$t.unstable_scheduleCallback,Pp=$t.unstable_cancelCallback,fE=$t.unstable_shouldYield,pE=$t.unstable_requestPaint,Re=$t.unstable_now,mE=$t.unstable_getCurrentPriorityLevel,kd=$t.unstable_ImmediatePriority,Ry=$t.unstable_UserBlockingPriority,Ha=$t.unstable_NormalPriority,gE=$t.unstable_LowPriority,Py=$t.unstable_IdlePriority,Ml=null,hn=null;function yE(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Ml,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:_E,vE=Math.log,wE=Math.LN2;function _E(e){return e>>>=0,e===0?32:31-(vE(e)/wE|0)|0}var Xo=64,Jo=4194304;function Es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Es(a):(s&=o,s!==0&&(r=Es(s)))}else o=n&~i,o!==0?r=Es(o):s!==0&&(r=Es(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jt(t),i=1<<n,r|=e[n],t&=~i;return r}function EE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=EE(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $y(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function So(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function CE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Td(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ue=0;function Ly(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oy,Id,Fy,My,Uy,nh=!1,Zo=[],Yn=null,Xn=null,Jn=null,qs=new Map,Ws=new Map,bn=[],kE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $p(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function us(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ko(t),t!==null&&Id(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function TE(e,t,n,r,i){switch(t){case"focusin":return Yn=us(Yn,e,t,n,r,i),!0;case"dragenter":return Xn=us(Xn,e,t,n,r,i),!0;case"mouseover":return Jn=us(Jn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qs.set(s,us(qs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ws.set(s,us(Ws.get(s)||null,e,t,n,r,i)),!0}return!1}function Vy(e){var t=xr(e.target);if(t!==null){var n=Yr(t);if(n!==null){if(t=n.tag,t===13){if(t=xy(n),t!==null){e.blockedOn=t,Uy(e.priority,function(){Fy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xc=r,n.target.dispatchEvent(r),Xc=null}else return t=ko(n),t!==null&&Id(t),e.blockedOn=n,!1;t.shift()}return!0}function Lp(e,t,n){Ta(e)&&n.delete(t)}function IE(){nh=!1,Yn!==null&&Ta(Yn)&&(Yn=null),Xn!==null&&Ta(Xn)&&(Xn=null),Jn!==null&&Ta(Jn)&&(Jn=null),qs.forEach(Lp),Ws.forEach(Lp)}function cs(e,t){e.blockedOn===t&&(e.blockedOn=null,nh||(nh=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,IE)))}function Ks(e){function t(i){return cs(i,e)}if(0<Zo.length){cs(Zo[0],e);for(var n=1;n<Zo.length;n++){var r=Zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yn!==null&&cs(Yn,e),Xn!==null&&cs(Xn,e),Jn!==null&&cs(Jn,e),qs.forEach(t),Ws.forEach(t),n=0;n<bn.length;n++)r=bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)Vy(n),n.blockedOn===null&&bn.shift()}var Ti=Fn.ReactCurrentBatchConfig,Wa=!0;function xE(e,t,n,r){var i=ue,s=Ti.transition;Ti.transition=null;try{ue=1,xd(e,t,n,r)}finally{ue=i,Ti.transition=s}}function DE(e,t,n,r){var i=ue,s=Ti.transition;Ti.transition=null;try{ue=4,xd(e,t,n,r)}finally{ue=i,Ti.transition=s}}function xd(e,t,n,r){if(Wa){var i=rh(e,t,n,r);if(i===null)Xu(e,t,r,Ka,n),$p(e,r);else if(TE(i,e,t,n,r))r.stopPropagation();else if($p(e,r),t&4&&-1<kE.indexOf(e)){for(;i!==null;){var s=ko(i);if(s!==null&&Oy(s),s=rh(e,t,n,r),s===null&&Xu(e,t,r,Ka,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xu(e,t,r,null,n)}}var Ka=null;function rh(e,t,n,r){if(Ka=null,e=Cd(r),e=xr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ka=e,null}function By(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mE()){case kd:return 1;case Ry:return 4;case Ha:case gE:return 16;case Py:return 536870912;default:return 16}default:return 16}}var qn=null,Dd=null,Ia=null;function by(){if(Ia)return Ia;var e,t=Dd,n=t.length,r,i="value"in qn?qn.value:qn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ia=i.slice(e,1<r?1-r:void 0)}function xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ea(){return!0}function Op(){return!1}function Ft(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ea:Op,this.isPropagationStopped=Op,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=Ft(Qi),Co=Ce({},Qi,{view:0,detail:0}),NE=Ft(Co),zu,ju,hs,Ul=Ce({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(zu=e.screenX-hs.screenX,ju=e.screenY-hs.screenY):ju=zu=0,hs=e),zu)},movementY:function(e){return"movementY"in e?e.movementY:ju}}),Fp=Ft(Ul),AE=Ce({},Ul,{dataTransfer:0}),RE=Ft(AE),PE=Ce({},Co,{relatedTarget:0}),Hu=Ft(PE),$E=Ce({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),LE=Ft($E),OE=Ce({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FE=Ft(OE),ME=Ce({},Qi,{data:0}),Mp=Ft(ME),UE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BE[e])?!!t[e]:!1}function Ad(){return bE}var zE=Ce({},Co,{key:function(e){if(e.key){var t=UE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jE=Ft(zE),HE=Ce({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=Ft(HE),qE=Ce({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),WE=Ft(qE),KE=Ce({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),GE=Ft(KE),QE=Ce({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=Ft(QE),XE=[9,13,27,32],Rd=xn&&"CompositionEvent"in window,Ds=null;xn&&"documentMode"in document&&(Ds=document.documentMode);var JE=xn&&"TextEvent"in window&&!Ds,zy=xn&&(!Rd||Ds&&8<Ds&&11>=Ds),Vp=String.fromCharCode(32),Bp=!1;function jy(e,t){switch(e){case"keyup":return XE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function ZE(e,t){switch(e){case"compositionend":return Hy(t);case"keypress":return t.which!==32?null:(Bp=!0,Vp);case"textInput":return e=t.data,e===Vp&&Bp?null:e;default:return null}}function eS(e,t){if(ui)return e==="compositionend"||!Rd&&jy(e,t)?(e=by(),Ia=Dd=qn=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zy&&t.locale!=="ko"?null:t.data;default:return null}}var tS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tS[e.type]:t==="textarea"}function qy(e,t,n,r){Sy(r),t=Ga(t,"onChange"),0<t.length&&(n=new Nd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ns=null,Gs=null;function nS(e){nv(e,0)}function Vl(e){var t=di(e);if(my(t))return e}function rS(e,t){if(e==="change")return t}var Wy=!1;if(xn){var qu;if(xn){var Wu="oninput"in document;if(!Wu){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),Wu=typeof zp.oninput=="function"}qu=Wu}else qu=!1;Wy=qu&&(!document.documentMode||9<document.documentMode)}function jp(){Ns&&(Ns.detachEvent("onpropertychange",Ky),Gs=Ns=null)}function Ky(e){if(e.propertyName==="value"&&Vl(Gs)){var t=[];qy(t,Gs,e,Cd(e)),Iy(nS,t)}}function iS(e,t,n){e==="focusin"?(jp(),Ns=t,Gs=n,Ns.attachEvent("onpropertychange",Ky)):e==="focusout"&&jp()}function sS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vl(Gs)}function oS(e,t){if(e==="click")return Vl(t)}function aS(e,t){if(e==="input"||e==="change")return Vl(t)}function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:lS;function Qs(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vc.call(t,i)||!en(e[i],t[i]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,t){var n=Hp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function Gy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qy(){for(var e=window,t=ba();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ba(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uS(e){var t=Qy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gy(n.ownerDocument.documentElement,n)){if(r!==null&&Pd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=qp(n,s);var o=qp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cS=xn&&"documentMode"in document&&11>=document.documentMode,ci=null,ih=null,As=null,sh=!1;function Wp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sh||ci==null||ci!==ba(r)||(r=ci,"selectionStart"in r&&Pd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Qs(As,r)||(As=r,r=Ga(ih,"onSelect"),0<r.length&&(t=new Nd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ci)))}function ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hi={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},Ku={},Yy={};xn&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Bl(e){if(Ku[e])return Ku[e];if(!hi[e])return e;var t=hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yy)return Ku[e]=t[n];return e}var Xy=Bl("animationend"),Jy=Bl("animationiteration"),Zy=Bl("animationstart"),ev=Bl("transitionend"),tv=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){tv.set(e,t),Qr(t,[e])}for(var Gu=0;Gu<Kp.length;Gu++){var Qu=Kp[Gu],hS=Qu.toLowerCase(),dS=Qu[0].toUpperCase()+Qu.slice(1);gr(hS,"on"+dS)}gr(Xy,"onAnimationEnd");gr(Jy,"onAnimationIteration");gr(Zy,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(ev,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function Gp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hE(r,t,void 0,e),e.currentTarget=null}function nv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Gp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Gp(i,a,u),s=l}}}if(ja)throw e=eh,ja=!1,eh=null,e}function fe(e,t){var n=t[ch];n===void 0&&(n=t[ch]=new Set);var r=e+"__bubble";n.has(r)||(rv(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),rv(n,e,r,t)}var na="_reactListening"+Math.random().toString(36).slice(2);function Ys(e){if(!e[na]){e[na]=!0,cy.forEach(function(n){n!=="selectionchange"&&(fS.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[na]||(t[na]=!0,Yu("selectionchange",!1,t))}}function rv(e,t,n,r){switch(By(t)){case 1:var i=xE;break;case 4:i=DE;break;default:i=xd}n=i.bind(null,t,n,e),i=void 0,!Zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Iy(function(){var u=s,c=Cd(n),f=[];e:{var h=tv.get(e);if(h!==void 0){var m=Nd,w=e;switch(e){case"keypress":if(xa(n)===0)break e;case"keydown":case"keyup":m=jE;break;case"focusin":w="focus",m=Hu;break;case"focusout":w="blur",m=Hu;break;case"beforeblur":case"afterblur":m=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WE;break;case Xy:case Jy:case Zy:m=LE;break;case ev:m=GE;break;case"scroll":m=NE;break;case"wheel":m=YE;break;case"copy":case"cut":case"paste":m=FE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Up}var v=(t&4)!==0,E=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var d=u,g;d!==null;){g=d;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=Hs(d,p),_!=null&&v.push(Xs(d,_,g)))),E)break;d=d.return}0<v.length&&(h=new m(h,w,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Xc&&(w=n.relatedTarget||n.fromElement)&&(xr(w)||w[Dn]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?xr(w):null,w!==null&&(E=Yr(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=Fp,_="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Up,_="onPointerLeave",p="onPointerEnter",d="pointer"),E=m==null?h:di(m),g=w==null?h:di(w),h=new v(_,d+"leave",m,n,c),h.target=E,h.relatedTarget=g,_=null,xr(c)===u&&(v=new v(p,d+"enter",w,n,c),v.target=g,v.relatedTarget=E,_=v),E=_,m&&w)t:{for(v=m,p=w,d=0,g=v;g;g=ri(g))d++;for(g=0,_=p;_;_=ri(_))g++;for(;0<d-g;)v=ri(v),d--;for(;0<g-d;)p=ri(p),g--;for(;d--;){if(v===p||p!==null&&v===p.alternate)break t;v=ri(v),p=ri(p)}v=null}else v=null;m!==null&&Qp(f,h,m,v,!1),w!==null&&E!==null&&Qp(f,E,w,v,!0)}}e:{if(h=u?di(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=rS;else if(bp(h))if(Wy)T=aS;else{T=sS;var P=iS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=oS);if(T&&(T=T(e,u))){qy(f,T,n,c);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Wc(h,"number",h.value)}switch(P=u?di(u):window,e){case"focusin":(bp(P)||P.contentEditable==="true")&&(ci=P,ih=u,As=null);break;case"focusout":As=ih=ci=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Wp(f,n,c);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":Wp(f,n,c)}var $;if(Rd)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ui?jy(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(zy&&n.locale!=="ko"&&(ui||L!=="onCompositionStart"?L==="onCompositionEnd"&&ui&&($=by()):(qn=c,Dd="value"in qn?qn.value:qn.textContent,ui=!0)),P=Ga(u,L),0<P.length&&(L=new Mp(L,e,null,n,c),f.push({event:L,listeners:P}),$?L.data=$:($=Hy(n),$!==null&&(L.data=$)))),($=JE?ZE(e,n):eS(e,n))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(c=new Mp("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=$))}nv(f,t)})}function Xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hs(e,n),s!=null&&r.unshift(Xs(e,s,i)),s=Hs(e,t),s!=null&&r.push(Xs(e,s,i))),e=e.return}return r}function ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Hs(n,s),l!=null&&o.unshift(Xs(n,l,a))):i||(l=Hs(n,s),l!=null&&o.push(Xs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function Yp(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(mS,"")}function ra(e,t,n){if(t=Yp(t),Yp(e)!==t&&n)throw Error(D(425))}function Qa(){}var oh=null,ah=null;function lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(vS)}:uh;function vS(e){setTimeout(function(){throw e})}function Ju(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ks(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ks(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),an="__reactFiber$"+Yi,Js="__reactProps$"+Yi,Dn="__reactContainer$"+Yi,ch="__reactEvents$"+Yi,wS="__reactListeners$"+Yi,_S="__reactHandles$"+Yi;function xr(e){var t=e[an];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[an]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jp(e);e!==null;){if(n=e[an])return n;e=Jp(e)}return t}e=n,n=e.parentNode}return null}function ko(e){return e=e[an]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function bl(e){return e[Js]||null}var hh=[],fi=-1;function yr(e){return{current:e}}function pe(e){0>fi||(e.current=hh[fi],hh[fi]=null,fi--)}function he(e,t){fi++,hh[fi]=e.current,e.current=t}var dr={},dt=yr(dr),Tt=yr(!1),Vr=dr;function Pi(e,t){var n=e.type.contextTypes;if(!n)return dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function It(e){return e=e.childContextTypes,e!=null}function Ya(){pe(Tt),pe(dt)}function Zp(e,t,n){if(dt.current!==dr)throw Error(D(168));he(dt,t),he(Tt,n)}function iv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,iE(e)||"Unknown",i));return Ce({},n,r)}function Xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Vr=dt.current,he(dt,e),he(Tt,Tt.current),!0}function em(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=iv(e,t,Vr),r.__reactInternalMemoizedMergedChildContext=e,pe(Tt),pe(dt),he(dt,e)):pe(Tt),he(Tt,n)}var Sn=null,zl=!1,Zu=!1;function sv(e){Sn===null?Sn=[e]:Sn.push(e)}function ES(e){zl=!0,sv(e)}function vr(){if(!Zu&&Sn!==null){Zu=!0;var e=0,t=ue;try{var n=Sn;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sn=null,zl=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(e+1)),Ay(kd,vr),i}finally{ue=t,Zu=!1}}return null}var pi=[],mi=0,Ja=null,Za=0,Ut=[],Vt=0,Br=null,Cn=1,kn="";function Cr(e,t){pi[mi++]=Za,pi[mi++]=Ja,Ja=e,Za=t}function ov(e,t,n){Ut[Vt++]=Cn,Ut[Vt++]=kn,Ut[Vt++]=Br,Br=e;var r=Cn;e=kn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-Jt(t)+i|n<<i|r,kn=s+e}else Cn=1<<s|n<<i|r,kn=e}function $d(e){e.return!==null&&(Cr(e,1),ov(e,1,0))}function Ld(e){for(;e===Ja;)Ja=pi[--mi],pi[mi]=null,Za=pi[--mi],pi[mi]=null;for(;e===Br;)Br=Ut[--Vt],Ut[Vt]=null,kn=Ut[--Vt],Ut[Vt]=null,Cn=Ut[--Vt],Ut[Vt]=null}var Pt=null,Nt=null,ye=!1,Yt=null;function av(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Nt=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Br!==null?{id:Cn,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,Nt=null,!0):!1;default:return!1}}function dh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fh(e){if(ye){var t=Nt;if(t){var n=t;if(!tm(e,t)){if(dh(e))throw Error(D(418));t=Zn(n.nextSibling);var r=Pt;t&&tm(e,t)?av(r,n):(e.flags=e.flags&-4097|2,ye=!1,Pt=e)}}else{if(dh(e))throw Error(D(418));e.flags=e.flags&-4097|2,ye=!1,Pt=e}}}function nm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function ia(e){if(e!==Pt)return!1;if(!ye)return nm(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lh(e.type,e.memoizedProps)),t&&(t=Nt)){if(dh(e))throw lv(),Error(D(418));for(;t;)av(e,t),t=Zn(t.nextSibling)}if(nm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=Zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=Pt?Zn(e.stateNode.nextSibling):null;return!0}function lv(){for(var e=Nt;e;)e=Zn(e.nextSibling)}function $i(){Nt=Pt=null,ye=!1}function Od(e){Yt===null?Yt=[e]:Yt.push(e)}var SS=Fn.ReactCurrentBatchConfig;function Gt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var el=yr(null),tl=null,gi=null,Fd=null;function Md(){Fd=gi=tl=null}function Ud(e){var t=el.current;pe(el),e._currentValue=t}function ph(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){tl=e,Fd=gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Fd!==e)if(e={context:e,memoizedValue:t,next:null},gi===null){if(tl===null)throw Error(D(308));gi=e,tl.dependencies={lanes:0,firstContext:e}}else gi=gi.next=e;return t}var Dr=null;function Vd(e){Dr===null?Dr=[e]:Dr.push(e)}function uv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Vd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Nn(e,r)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bn=!1;function Bd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Nn(e,n)}return i=r.interleaved,i===null?(t.next=t,Vd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Nn(e,n)}function Da(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Td(e,n)}}function rm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nl(e,t,n,r){var i=e.updateQueue;Bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(h=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=Ce({},f,h);break e;case 2:Bn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);zr|=o,e.lanes=o,e.memoizedState=f}}function im(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var hv=new uy.Component().refs;function mh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jl={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vt(),i=nr(e),s=In(r,i);s.payload=t,n!=null&&(s.callback=n),t=er(e,s,i),t!==null&&(Zt(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vt(),i=nr(e),s=In(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=er(e,s,i),t!==null&&(Zt(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),r=nr(e),i=In(n,r);i.tag=2,t!=null&&(i.callback=t),t=er(e,i,r),t!==null&&(Zt(t,e,r,n),Da(t,e,r))}};function sm(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Qs(n,r)||!Qs(i,s):!0}function dv(e,t,n){var r=!1,i=dr,s=t.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=It(t)?Vr:dt.current,r=t.contextTypes,s=(r=r!=null)?Pi(e,i):dr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function om(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jl.enqueueReplaceState(t,t.state,null)}function gh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=hv,Bd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=It(t)?Vr:dt.current,i.context=Pi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jl.enqueueReplaceState(i,i.state,null),nl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===hv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function am(e){var t=e._init;return t(e._payload)}function fv(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=rr(p,d),p.index=0,p.sibling=null,p}function s(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,g,_){return d===null||d.tag!==6?(d=oc(g,p.mode,_),d.return=p,d):(d=i(d,g),d.return=p,d)}function l(p,d,g,_){var T=g.type;return T===li?c(p,d,g.props.children,_,g.key):d!==null&&(d.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vn&&am(T)===d.type)?(_=i(d,g.props),_.ref=ds(p,d,g),_.return=p,_):(_=La(g.type,g.key,g.props,null,p.mode,_),_.ref=ds(p,d,g),_.return=p,_)}function u(p,d,g,_){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=ac(g,p.mode,_),d.return=p,d):(d=i(d,g.children||[]),d.return=p,d)}function c(p,d,g,_,T){return d===null||d.tag!==7?(d=Or(g,p.mode,_,T),d.return=p,d):(d=i(d,g),d.return=p,d)}function f(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=oc(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Go:return g=La(d.type,d.key,d.props,null,p.mode,g),g.ref=ds(p,null,d),g.return=p,g;case ai:return d=ac(d,p.mode,g),d.return=p,d;case Vn:var _=d._init;return f(p,_(d._payload),g)}if(_s(d)||as(d))return d=Or(d,p.mode,g,null),d.return=p,d;sa(p,d)}return null}function h(p,d,g,_){var T=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:a(p,d,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Go:return g.key===T?l(p,d,g,_):null;case ai:return g.key===T?u(p,d,g,_):null;case Vn:return T=g._init,h(p,d,T(g._payload),_)}if(_s(g)||as(g))return T!==null?null:c(p,d,g,_,null);sa(p,g)}return null}function m(p,d,g,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,a(d,p,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Go:return p=p.get(_.key===null?g:_.key)||null,l(d,p,_,T);case ai:return p=p.get(_.key===null?g:_.key)||null,u(d,p,_,T);case Vn:var P=_._init;return m(p,d,g,P(_._payload),T)}if(_s(_)||as(_))return p=p.get(g)||null,c(d,p,_,T,null);sa(d,_)}return null}function w(p,d,g,_){for(var T=null,P=null,$=d,L=d=0,ee=null;$!==null&&L<g.length;L++){$.index>L?(ee=$,$=null):ee=$.sibling;var W=h(p,$,g[L],_);if(W===null){$===null&&($=ee);break}e&&$&&W.alternate===null&&t(p,$),d=s(W,d,L),P===null?T=W:P.sibling=W,P=W,$=ee}if(L===g.length)return n(p,$),ye&&Cr(p,L),T;if($===null){for(;L<g.length;L++)$=f(p,g[L],_),$!==null&&(d=s($,d,L),P===null?T=$:P.sibling=$,P=$);return ye&&Cr(p,L),T}for($=r(p,$);L<g.length;L++)ee=m($,p,L,g[L],_),ee!==null&&(e&&ee.alternate!==null&&$.delete(ee.key===null?L:ee.key),d=s(ee,d,L),P===null?T=ee:P.sibling=ee,P=ee);return e&&$.forEach(function(de){return t(p,de)}),ye&&Cr(p,L),T}function v(p,d,g,_){var T=as(g);if(typeof T!="function")throw Error(D(150));if(g=T.call(g),g==null)throw Error(D(151));for(var P=T=null,$=d,L=d=0,ee=null,W=g.next();$!==null&&!W.done;L++,W=g.next()){$.index>L?(ee=$,$=null):ee=$.sibling;var de=h(p,$,W.value,_);if(de===null){$===null&&($=ee);break}e&&$&&de.alternate===null&&t(p,$),d=s(de,d,L),P===null?T=de:P.sibling=de,P=de,$=ee}if(W.done)return n(p,$),ye&&Cr(p,L),T;if($===null){for(;!W.done;L++,W=g.next())W=f(p,W.value,_),W!==null&&(d=s(W,d,L),P===null?T=W:P.sibling=W,P=W);return ye&&Cr(p,L),T}for($=r(p,$);!W.done;L++,W=g.next())W=m($,p,L,W.value,_),W!==null&&(e&&W.alternate!==null&&$.delete(W.key===null?L:W.key),d=s(W,d,L),P===null?T=W:P.sibling=W,P=W);return e&&$.forEach(function(Z){return t(p,Z)}),ye&&Cr(p,L),T}function E(p,d,g,_){if(typeof g=="object"&&g!==null&&g.type===li&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Go:e:{for(var T=g.key,P=d;P!==null;){if(P.key===T){if(T=g.type,T===li){if(P.tag===7){n(p,P.sibling),d=i(P,g.props.children),d.return=p,p=d;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vn&&am(T)===P.type){n(p,P.sibling),d=i(P,g.props),d.ref=ds(p,P,g),d.return=p,p=d;break e}n(p,P);break}else t(p,P);P=P.sibling}g.type===li?(d=Or(g.props.children,p.mode,_,g.key),d.return=p,p=d):(_=La(g.type,g.key,g.props,null,p.mode,_),_.ref=ds(p,d,g),_.return=p,p=_)}return o(p);case ai:e:{for(P=g.key;d!==null;){if(d.key===P)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=i(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=ac(g,p.mode,_),d.return=p,p=d}return o(p);case Vn:return P=g._init,E(p,d,P(g._payload),_)}if(_s(g))return w(p,d,g,_);if(as(g))return v(p,d,g,_);sa(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,g),d.return=p,p=d):(n(p,d),d=oc(g,p.mode,_),d.return=p,p=d),o(p)):n(p,d)}return E}var Li=fv(!0),pv=fv(!1),To={},dn=yr(To),Zs=yr(To),eo=yr(To);function Nr(e){if(e===To)throw Error(D(174));return e}function bd(e,t){switch(he(eo,t),he(Zs,e),he(dn,To),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gc(t,e)}pe(dn),he(dn,t)}function Oi(){pe(dn),pe(Zs),pe(eo)}function mv(e){Nr(eo.current);var t=Nr(dn.current),n=Gc(t,e.type);t!==n&&(he(Zs,e),he(dn,n))}function zd(e){Zs.current===e&&(pe(dn),pe(Zs))}var Ee=yr(0);function rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ec=[];function jd(){for(var e=0;e<ec.length;e++)ec[e]._workInProgressVersionPrimary=null;ec.length=0}var Na=Fn.ReactCurrentDispatcher,tc=Fn.ReactCurrentBatchConfig,br=0,Se=null,Fe=null,We=null,il=!1,Rs=!1,to=0,CS=0;function rt(){throw Error(D(321))}function Hd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function qd(e,t,n,r,i,s){if(br=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Na.current=e===null||e.memoizedState===null?xS:DS,e=n(r,i),Rs){s=0;do{if(Rs=!1,to=0,25<=s)throw Error(D(301));s+=1,We=Fe=null,t.updateQueue=null,Na.current=NS,e=n(r,i)}while(Rs)}if(Na.current=sl,t=Fe!==null&&Fe.next!==null,br=0,We=Fe=Se=null,il=!1,t)throw Error(D(300));return e}function Wd(){var e=to!==0;return to=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Se.memoizedState=We=e:We=We.next=e,We}function Ht(){if(Fe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=We===null?Se.memoizedState:We.next;if(t!==null)We=t,Fe=e;else{if(e===null)throw Error(D(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},We===null?Se.memoizedState=We=e:We=We.next=e}return We}function no(e,t){return typeof t=="function"?t(e):t}function nc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((br&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Se.lanes|=c,zr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,en(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Se.lanes|=s,zr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rc(e){var t=Ht(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);en(s,t.memoizedState)||(kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function gv(){}function yv(e,t){var n=Se,r=Ht(),i=t(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,kt=!0),r=r.queue,Kd(_v.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,ro(9,wv.bind(null,n,r,i,t),void 0,null),Ke===null)throw Error(D(349));br&30||vv(n,t,i)}return i}function vv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wv(e,t,n,r){t.value=n,t.getSnapshot=r,Ev(t)&&Sv(e)}function _v(e,t,n){return n(function(){Ev(t)&&Sv(e)})}function Ev(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function Sv(e){var t=Nn(e,1);t!==null&&Zt(t,e,1,-1)}function lm(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:e},t.queue=e,e=e.dispatch=IS.bind(null,Se,e),[t.memoizedState,e]}function ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cv(){return Ht().memoizedState}function Aa(e,t,n,r){var i=sn();Se.flags|=e,i.memoizedState=ro(1|t,n,void 0,r===void 0?null:r)}function Hl(e,t,n,r){var i=Ht();r=r===void 0?null:r;var s=void 0;if(Fe!==null){var o=Fe.memoizedState;if(s=o.destroy,r!==null&&Hd(r,o.deps)){i.memoizedState=ro(t,n,s,r);return}}Se.flags|=e,i.memoizedState=ro(1|t,n,s,r)}function um(e,t){return Aa(8390656,8,e,t)}function Kd(e,t){return Hl(2048,8,e,t)}function kv(e,t){return Hl(4,2,e,t)}function Tv(e,t){return Hl(4,4,e,t)}function Iv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xv(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4,4,Iv.bind(null,t,e),n)}function Gd(){}function Dv(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nv(e,t){var n=Ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Av(e,t,n){return br&21?(en(n,t)||(n=$y(),Se.lanes|=n,zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function kS(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=tc.transition;tc.transition={};try{e(!1),t()}finally{ue=n,tc.transition=r}}function Rv(){return Ht().memoizedState}function TS(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pv(e))$v(t,n);else if(n=uv(e,t,n,r),n!==null){var i=vt();Zt(n,e,r,i),Lv(n,t,r)}}function IS(e,t,n){var r=nr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pv(e))$v(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,en(a,o)){var l=t.interleaved;l===null?(i.next=i,Vd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=uv(e,t,i,r),n!==null&&(i=vt(),Zt(n,e,r,i),Lv(n,t,r))}}function Pv(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function $v(e,t){Rs=il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Td(e,n)}}var sl={readContext:jt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},xS={readContext:jt,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:um,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Aa(4194308,4,Iv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=TS.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:Gd,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=kS.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,i=sn();if(ye){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ke===null)throw Error(D(349));br&30||vv(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,um(_v.bind(null,r,s,e),[e]),r.flags|=2048,ro(9,wv.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sn(),t=Ke.identifierPrefix;if(ye){var n=kn,r=Cn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=to++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DS={readContext:jt,useCallback:Dv,useContext:jt,useEffect:Kd,useImperativeHandle:xv,useInsertionEffect:kv,useLayoutEffect:Tv,useMemo:Nv,useReducer:nc,useRef:Cv,useState:function(){return nc(no)},useDebugValue:Gd,useDeferredValue:function(e){var t=Ht();return Av(t,Fe.memoizedState,e)},useTransition:function(){var e=nc(no)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:gv,useSyncExternalStore:yv,useId:Rv,unstable_isNewReconciler:!1},NS={readContext:jt,useCallback:Dv,useContext:jt,useEffect:Kd,useImperativeHandle:xv,useInsertionEffect:kv,useLayoutEffect:Tv,useMemo:Nv,useReducer:rc,useRef:Cv,useState:function(){return rc(no)},useDebugValue:Gd,useDeferredValue:function(e){var t=Ht();return Fe===null?t.memoizedState=e:Av(t,Fe.memoizedState,e)},useTransition:function(){var e=rc(no)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:gv,useSyncExternalStore:yv,useId:Rv,unstable_isNewReconciler:!1};function Fi(e,t){try{var n="",r=t;do n+=rE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ic(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var AS=typeof WeakMap=="function"?WeakMap:Map;function Ov(e,t,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){al||(al=!0,xh=r),yh(e,t)},n}function Fv(e,t,n){n=In(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yh(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new AS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=HS.bind(null,e,t,n),t.then(e,e))}function hm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=In(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var RS=Fn.ReactCurrentOwner,kt=!1;function mt(e,t,n,r){t.child=e===null?pv(t,null,n,r):Li(t,e.child,n,r)}function fm(e,t,n,r,i){n=n.render;var s=t.ref;return Ii(t,i),r=qd(e,t,n,r,s,i),n=Wd(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,An(e,t,i)):(ye&&n&&$d(t),t.flags|=1,mt(e,t,r,i),t.child)}function pm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!nf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Mv(e,t,s,r,i)):(e=La(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(o,r)&&e.ref===t.ref)return An(e,t,i)}return t.flags|=1,e=rr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Mv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Qs(s,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,An(e,t,i)}return vh(e,t,n,r,i)}function Uv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(vi,Dt),Dt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(vi,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(vi,Dt),Dt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,he(vi,Dt),Dt|=r;return mt(e,t,i,n),t.child}function Vv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vh(e,t,n,r,i){var s=It(n)?Vr:dt.current;return s=Pi(t,s),Ii(t,i),n=qd(e,t,n,r,s,i),r=Wd(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,An(e,t,i)):(ye&&r&&$d(t),t.flags|=1,mt(e,t,n,i),t.child)}function mm(e,t,n,r,i){if(It(n)){var s=!0;Xa(t)}else s=!1;if(Ii(t,i),t.stateNode===null)Ra(e,t),dv(t,n,r),gh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=jt(u):(u=It(n)?Vr:dt.current,u=Pi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&om(t,o,r,u),Bn=!1;var h=t.memoizedState;o.state=h,nl(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Tt.current||Bn?(typeof c=="function"&&(mh(t,n,c,r),l=t.memoizedState),(a=Bn||sm(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,cv(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Gt(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=It(n)?Vr:dt.current,l=Pi(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&om(t,o,r,l),Bn=!1,h=t.memoizedState,o.state=h,nl(t,r,o,i);var w=t.memoizedState;a!==f||h!==w||Tt.current||Bn?(typeof m=="function"&&(mh(t,n,m,r),w=t.memoizedState),(u=Bn||sm(t,n,u,r,h,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return wh(e,t,n,r,s,i)}function wh(e,t,n,r,i,s){Vv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&em(t,n,!1),An(e,t,s);r=t.stateNode,RS.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Li(t,e.child,null,s),t.child=Li(t,null,a,s)):mt(e,t,a,s),t.memoizedState=r.state,i&&em(t,n,!0),t.child}function Bv(e){var t=e.stateNode;t.pendingContext?Zp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zp(e,t.context,!1),bd(e,t.containerInfo)}function gm(e,t,n,r,i){return $i(),Od(i),t.flags|=256,mt(e,t,n,r),t.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Eh(e){return{baseLanes:e,cachePool:null,transitions:null}}function bv(e,t,n){var r=t.pendingProps,i=Ee.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(Ee,i&1),e===null)return fh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kl(o,r,0,null),e=Or(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Eh(n),t.memoizedState=_h,e):Qd(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PS(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=rr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rr(a,s):(s=Or(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Eh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=_h,r}return s=e.child,e=s.sibling,r=rr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qd(e,t){return t=Kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,n,r){return r!==null&&Od(r),Li(t,e.child,null,n),e=Qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ic(Error(D(422))),oa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Kl({mode:"visible",children:r.children},i,0,null),s=Or(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Li(t,e.child,null,o),t.child.memoizedState=Eh(o),t.memoizedState=_h,s);if(!(t.mode&1))return oa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=ic(s,r,void 0),oa(e,t,o,r)}if(a=(o&e.childLanes)!==0,kt||a){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nn(e,i),Zt(r,e,i,-1))}return tf(),r=ic(Error(D(421))),oa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Nt=Zn(i.nextSibling),Pt=t,ye=!0,Yt=null,e!==null&&(Ut[Vt++]=Cn,Ut[Vt++]=kn,Ut[Vt++]=Br,Cn=e.id,kn=e.overflow,Br=t),t=Qd(t,r.children),t.flags|=4096,t)}function ym(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ph(e.return,t,n)}function sc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(mt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,n,t);else if(e.tag===19)ym(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sc(t,!0,n,null,s);break;case"together":sc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ra(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $S(e,t,n){switch(t.tag){case 3:Bv(t),$i();break;case 5:mv(t);break;case 1:It(t.type)&&Xa(t);break;case 4:bd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(el,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?bv(e,t,n):(he(Ee,Ee.current&1),e=An(e,t,n),e!==null?e.sibling:null);he(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Uv(e,t,n)}return An(e,t,n)}var jv,Sh,Hv,qv;jv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sh=function(){};Hv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Nr(dn.current);var s=null;switch(n){case"input":i=Hc(e,i),r=Hc(e,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=Kc(e,i),r=Kc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qa)}Qc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};qv=function(e,t,n,r){n!==r&&(t.flags|=4)};function fs(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function LS(e,t,n){var r=t.pendingProps;switch(Ld(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return It(t.type)&&Ya(),it(t),null;case 3:return r=t.stateNode,Oi(),pe(Tt),pe(dt),jd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(Ah(Yt),Yt=null))),Sh(e,t),it(t),null;case 5:zd(t);var i=Nr(eo.current);if(n=t.type,e!==null&&t.stateNode!=null)Hv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return it(t),null}if(e=Nr(dn.current),ia(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[an]=t,r[Js]=s,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<Ss.length;i++)fe(Ss[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Ip(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":Dp(r,s),fe("invalid",r)}Qc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ra(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ra(r.textContent,a,e),i=["children",""+a]):zs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":Qo(r),xp(r,s,!0);break;case"textarea":Qo(r),Np(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[an]=t,e[Js]=r,jv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yc(n,r),n){case"dialog":fe("cancel",e),fe("close",e),i=r;break;case"iframe":case"object":case"embed":fe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ss.length;i++)fe(Ss[i],e);i=r;break;case"source":fe("error",e),i=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),i=r;break;case"details":fe("toggle",e),i=r;break;case"input":Ip(e,r),i=Hc(e,r),fe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Dp(e,r),i=Kc(e,r),fe("invalid",e);break;default:i=r}Qc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ey(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&js(e,l):typeof l=="number"&&js(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fe("scroll",e):l!=null&&wd(e,s,l,o))}switch(n){case"input":Qo(e),xp(e,r,!1);break;case"textarea":Qo(e),Np(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Si(e,!!r.multiple,s,!1):r.defaultValue!=null&&Si(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)qv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Nr(eo.current),Nr(dn.current),ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[an]=t,(s=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:ra(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ra(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=t,t.stateNode=r}return it(t),null;case 13:if(pe(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&Nt!==null&&t.mode&1&&!(t.flags&128))lv(),$i(),t.flags|=98560,s=!1;else if(s=ia(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[an]=t}else $i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),s=!1}else Yt!==null&&(Ah(Yt),Yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Ue===0&&(Ue=3):tf())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Oi(),Sh(e,t),e===null&&Ys(t.stateNode.containerInfo),it(t),null;case 10:return Ud(t.type._context),it(t),null;case 17:return It(t.type)&&Ya(),it(t),null;case 19:if(pe(Ee),s=t.memoizedState,s===null)return it(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)fs(s,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rl(e),o!==null){for(t.flags|=128,fs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(Ee,Ee.current&1|2),t.child}e=e.sibling}s.tail!==null&&Re()>Mi&&(t.flags|=128,r=!0,fs(s,!1),t.lanes=4194304)}else{if(!r)if(e=rl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ye)return it(t),null}else 2*Re()-s.renderingStartTime>Mi&&n!==1073741824&&(t.flags|=128,r=!0,fs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Re(),t.sibling=null,n=Ee.current,he(Ee,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return ef(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function OS(e,t){switch(Ld(t),t.tag){case 1:return It(t.type)&&Ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oi(),pe(Tt),pe(dt),jd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zd(t),null;case 13:if(pe(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(Ee),null;case 4:return Oi(),null;case 10:return Ud(t.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var aa=!1,at=!1,FS=typeof WeakSet=="function"?WeakSet:Set,F=null;function yi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function Ch(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var vm=!1;function MS(e,t){if(oh=Wa,e=Qy(),Pd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ah={focusedElem:e,selectionRange:n},Wa=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Gt(t.type,v),E);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(_){Ie(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return w=vm,vm=!1,w}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ch(t,n,s)}i=i.next}while(i!==r)}}function ql(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wv(e){var t=e.alternate;t!==null&&(e.alternate=null,Wv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[Js],delete t[ch],delete t[wS],delete t[_S])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kv(e){return e.tag===5||e.tag===3||e.tag===4}function wm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Th(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qa));else if(r!==4&&(e=e.child,e!==null))for(Th(e,t,n),e=e.sibling;e!==null;)Th(e,t,n),e=e.sibling}function Ih(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ih(e,t,n),e=e.sibling;e!==null;)Ih(e,t,n),e=e.sibling}var Xe=null,Qt=!1;function Un(e,t,n){for(n=n.child;n!==null;)Gv(e,t,n),n=n.sibling}function Gv(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:at||yi(n,t);case 6:var r=Xe,i=Qt;Xe=null,Un(e,t,n),Xe=r,Qt=i,Xe!==null&&(Qt?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Qt?(e=Xe,n=n.stateNode,e.nodeType===8?Ju(e.parentNode,n):e.nodeType===1&&Ju(e,n),Ks(e)):Ju(Xe,n.stateNode));break;case 4:r=Xe,i=Qt,Xe=n.stateNode.containerInfo,Qt=!0,Un(e,t,n),Xe=r,Qt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ch(n,t,o),i=i.next}while(i!==r)}Un(e,t,n);break;case 1:if(!at&&(yi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,t,a)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Un(e,t,n),at=r):Un(e,t,n);break;default:Un(e,t,n)}}function _m(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FS),t.forEach(function(r){var i=WS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,Qt=!1;break e;case 3:Xe=a.stateNode.containerInfo,Qt=!0;break e;case 4:Xe=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(Xe===null)throw Error(D(160));Gv(s,o,i),Xe=null,Qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qv(t,e),t=t.sibling}function Qv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),tn(e),r&4){try{Ps(3,e,e.return),ql(3,e)}catch(v){Ie(e,e.return,v)}try{Ps(5,e,e.return)}catch(v){Ie(e,e.return,v)}}break;case 1:Kt(t,e),tn(e),r&512&&n!==null&&yi(n,n.return);break;case 5:if(Kt(t,e),tn(e),r&512&&n!==null&&yi(n,n.return),e.flags&32){var i=e.stateNode;try{js(i,"")}catch(v){Ie(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gy(i,s),Yc(a,o);var u=Yc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Ey(i,f):c==="dangerouslySetInnerHTML"?wy(i,f):c==="children"?js(i,f):wd(i,c,f,u)}switch(a){case"input":qc(i,s);break;case"textarea":yy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Si(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Si(i,!!s.multiple,s.defaultValue,!0):Si(i,!!s.multiple,s.multiple?[]:"",!1))}i[Js]=s}catch(v){Ie(e,e.return,v)}}break;case 6:if(Kt(t,e),tn(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Ie(e,e.return,v)}}break;case 3:if(Kt(t,e),tn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(v){Ie(e,e.return,v)}break;case 4:Kt(t,e),tn(e);break;case 13:Kt(t,e),tn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jd=Re())),r&4&&_m(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(at=(u=at)||c,Kt(t,e),at=u):Kt(t,e),tn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(f=F=c;F!==null;){switch(h=F,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ps(4,h,h.return);break;case 1:yi(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Ie(r,n,v)}}break;case 5:yi(h,h.return);break;case 22:if(h.memoizedState!==null){Sm(f);continue}}m!==null?(m.return=h,F=m):Sm(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_y("display",o))}catch(v){Ie(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ie(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kt(t,e),tn(e),r&4&&_m(e);break;case 21:break;default:Kt(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kv(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(js(i,""),r.flags&=-33);var s=wm(e);Ih(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wm(e);Th(e,a,o);break;default:throw Error(D(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function US(e,t,n){F=e,Yv(e)}function Yv(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||aa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||at;a=aa;var u=at;if(aa=o,(at=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Cm(i):l!==null?(l.return=o,F=l):Cm(i);for(;s!==null;)F=s,Yv(s),s=s.sibling;F=i,aa=a,at=u}Em(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Em(e)}}function Em(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||ql(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&im(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}im(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ks(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}at||t.flags&512&&kh(t)}catch(h){Ie(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Sm(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Cm(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ql(4,t)}catch(l){Ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ie(t,i,l)}}var s=t.return;try{kh(t)}catch(l){Ie(t,s,l)}break;case 5:var o=t.return;try{kh(t)}catch(l){Ie(t,o,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var VS=Math.ceil,ol=Fn.ReactCurrentDispatcher,Yd=Fn.ReactCurrentOwner,bt=Fn.ReactCurrentBatchConfig,ie=0,Ke=null,Oe=null,Ze=0,Dt=0,vi=yr(0),Ue=0,io=null,zr=0,Wl=0,Xd=0,$s=null,St=null,Jd=0,Mi=1/0,_n=null,al=!1,xh=null,tr=null,la=!1,Wn=null,ll=0,Ls=0,Dh=null,Pa=-1,$a=0;function vt(){return ie&6?Re():Pa!==-1?Pa:Pa=Re()}function nr(e){return e.mode&1?ie&2&&Ze!==0?Ze&-Ze:SS.transition!==null?($a===0&&($a=$y()),$a):(e=ue,e!==0||(e=window.event,e=e===void 0?16:By(e.type)),e):1}function Zt(e,t,n,r){if(50<Ls)throw Ls=0,Dh=null,Error(D(185));So(e,n,r),(!(ie&2)||e!==Ke)&&(e===Ke&&(!(ie&2)&&(Wl|=n),Ue===4&&zn(e,Ze)),xt(e,r),n===1&&ie===0&&!(t.mode&1)&&(Mi=Re()+500,zl&&vr()))}function xt(e,t){var n=e.callbackNode;SE(e,t);var r=qa(e,e===Ke?Ze:0);if(r===0)n!==null&&Pp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pp(n),t===1)e.tag===0?ES(km.bind(null,e)):sv(km.bind(null,e)),yS(function(){!(ie&6)&&vr()}),n=null;else{switch(Ly(r)){case 1:n=kd;break;case 4:n=Ry;break;case 16:n=Ha;break;case 536870912:n=Py;break;default:n=Ha}n=i0(n,Xv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xv(e,t){if(Pa=-1,$a=0,ie&6)throw Error(D(327));var n=e.callbackNode;if(xi()&&e.callbackNode!==n)return null;var r=qa(e,e===Ke?Ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ul(e,r);else{t=r;var i=ie;ie|=2;var s=Zv();(Ke!==e||Ze!==t)&&(_n=null,Mi=Re()+500,Lr(e,t));do try{zS();break}catch(a){Jv(e,a)}while(1);Md(),ol.current=s,ie=i,Oe!==null?t=0:(Ke=null,Ze=0,t=Ue)}if(t!==0){if(t===2&&(i=th(e),i!==0&&(r=i,t=Nh(e,i))),t===1)throw n=io,Lr(e,0),zn(e,r),xt(e,Re()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!BS(i)&&(t=ul(e,r),t===2&&(s=th(e),s!==0&&(r=s,t=Nh(e,s))),t===1))throw n=io,Lr(e,0),zn(e,r),xt(e,Re()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:kr(e,St,_n);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Jd+500-Re(),10<t)){if(qa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){vt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=uh(kr.bind(null,e,St,_n),t);break}kr(e,St,_n);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VS(r/1960))-r,10<r){e.timeoutHandle=uh(kr.bind(null,e,St,_n),r);break}kr(e,St,_n);break;case 5:kr(e,St,_n);break;default:throw Error(D(329))}}}return xt(e,Re()),e.callbackNode===n?Xv.bind(null,e):null}function Nh(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(Lr(e,t).flags|=256),e=ul(e,t),e!==2&&(t=St,St=n,t!==null&&Ah(t)),e}function Ah(e){St===null?St=e:St.push.apply(St,e)}function BS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Xd,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),r=1<<n;e[n]=-1,t&=~r}}function km(e){if(ie&6)throw Error(D(327));xi();var t=qa(e,0);if(!(t&1))return xt(e,Re()),null;var n=ul(e,t);if(e.tag!==0&&n===2){var r=th(e);r!==0&&(t=r,n=Nh(e,r))}if(n===1)throw n=io,Lr(e,0),zn(e,t),xt(e,Re()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,St,_n),xt(e,Re()),null}function Zd(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Mi=Re()+500,zl&&vr())}}function jr(e){Wn!==null&&Wn.tag===0&&!(ie&6)&&xi();var t=ie;ie|=1;var n=bt.transition,r=ue;try{if(bt.transition=null,ue=1,e)return e()}finally{ue=r,bt.transition=n,ie=t,!(ie&6)&&vr()}}function ef(){Dt=vi.current,pe(vi)}function Lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gS(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Ld(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ya();break;case 3:Oi(),pe(Tt),pe(dt),jd();break;case 5:zd(r);break;case 4:Oi();break;case 13:pe(Ee);break;case 19:pe(Ee);break;case 10:Ud(r.type._context);break;case 22:case 23:ef()}n=n.return}if(Ke=e,Oe=e=rr(e.current,null),Ze=Dt=t,Ue=0,io=null,Xd=Wl=zr=0,St=$s=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dr=null}return e}function Jv(e,t){do{var n=Oe;try{if(Md(),Na.current=sl,il){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}il=!1}if(br=0,We=Fe=Se=null,Rs=!1,to=0,Yd.current=null,n===null||n.return===null){Ue=1,io=t,Oe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=hm(o);if(m!==null){m.flags&=-257,dm(m,o,a,s,t),m.mode&1&&cm(s,u,t),t=m,l=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){cm(s,u,t),tf();break e}l=Error(D(426))}}else if(ye&&a.mode&1){var E=hm(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),dm(E,o,a,s,t),Od(Fi(l,a));break e}}s=l=Fi(l,a),Ue!==4&&(Ue=2),$s===null?$s=[s]:$s.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Ov(s,l,t);rm(s,p);break e;case 1:a=l;var d=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(tr===null||!tr.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Fv(s,a,t);rm(s,_);break e}}s=s.return}while(s!==null)}t0(n)}catch(T){t=T,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function Zv(){var e=ol.current;return ol.current=sl,e===null?sl:e}function tf(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ke===null||!(zr&268435455)&&!(Wl&268435455)||zn(Ke,Ze)}function ul(e,t){var n=ie;ie|=2;var r=Zv();(Ke!==e||Ze!==t)&&(_n=null,Lr(e,t));do try{bS();break}catch(i){Jv(e,i)}while(1);if(Md(),ie=n,ol.current=r,Oe!==null)throw Error(D(261));return Ke=null,Ze=0,Ue}function bS(){for(;Oe!==null;)e0(Oe)}function zS(){for(;Oe!==null&&!fE();)e0(Oe)}function e0(e){var t=r0(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?t0(e):Oe=t,Yd.current=null}function t0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=OS(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Oe=null;return}}else if(n=LS(n,t,Dt),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Ue===0&&(Ue=5)}function kr(e,t,n){var r=ue,i=bt.transition;try{bt.transition=null,ue=1,jS(e,t,n,r)}finally{bt.transition=i,ue=r}return null}function jS(e,t,n,r){do xi();while(Wn!==null);if(ie&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(CE(e,s),e===Ke&&(Oe=Ke=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||la||(la=!0,i0(Ha,function(){return xi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bt.transition,bt.transition=null;var o=ue;ue=1;var a=ie;ie|=4,Yd.current=null,MS(e,n),Qv(n,e),uS(ah),Wa=!!oh,ah=oh=null,e.current=n,US(n),pE(),ie=a,ue=o,bt.transition=s}else e.current=n;if(la&&(la=!1,Wn=e,ll=i),s=e.pendingLanes,s===0&&(tr=null),yE(n.stateNode),xt(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(al)throw al=!1,e=xh,xh=null,e;return ll&1&&e.tag!==0&&xi(),s=e.pendingLanes,s&1?e===Dh?Ls++:(Ls=0,Dh=e):Ls=0,vr(),null}function xi(){if(Wn!==null){var e=Ly(ll),t=bt.transition,n=ue;try{if(bt.transition=null,ue=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,ll=0,ie&6)throw Error(D(331));var i=ie;for(ie|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Ps(8,c,s)}var f=c.child;if(f!==null)f.return=c,F=f;else for(;F!==null;){c=F;var h=c.sibling,m=c.return;if(Wv(c),c===u){F=null;break}if(h!==null){h.return=m,F=h;break}F=m}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ps(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,F=p;break e}F=s.return}}var d=e.current;for(F=d;F!==null;){o=F;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,F=g;else e:for(o=d;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ql(9,a)}}catch(T){Ie(a,a.return,T)}if(a===o){F=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,F=_;break e}F=a.return}}if(ie=i,vr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Ml,e)}catch{}r=!0}return r}finally{ue=n,bt.transition=t}}return!1}function Tm(e,t,n){t=Fi(n,t),t=Ov(e,t,1),e=er(e,t,1),t=vt(),e!==null&&(So(e,1,t),xt(e,t))}function Ie(e,t,n){if(e.tag===3)Tm(e,e,n);else for(;t!==null;){if(t.tag===3){Tm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=Fi(n,e),e=Fv(t,e,1),t=er(t,e,1),e=vt(),t!==null&&(So(t,1,e),xt(t,e));break}}t=t.return}}function HS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Ze&n)===n&&(Ue===4||Ue===3&&(Ze&130023424)===Ze&&500>Re()-Jd?Lr(e,0):Xd|=n),xt(e,t)}function n0(e,t){t===0&&(e.mode&1?(t=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):t=1);var n=vt();e=Nn(e,t),e!==null&&(So(e,t,n),xt(e,n))}function qS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),n0(e,n)}function WS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),n0(e,n)}var r0;r0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,$S(e,t,n);kt=!!(e.flags&131072)}else kt=!1,ye&&t.flags&1048576&&ov(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ra(e,t),e=t.pendingProps;var i=Pi(t,dt.current);Ii(t,n),i=qd(null,t,r,e,i,n);var s=Wd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(r)?(s=!0,Xa(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bd(t),i.updater=jl,t.stateNode=i,i._reactInternals=t,gh(t,r,e,n),t=wh(null,t,r,!0,s,n)):(t.tag=0,ye&&s&&$d(t),mt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ra(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=GS(r),e=Gt(r,e),i){case 0:t=vh(null,t,r,e,n);break e;case 1:t=mm(null,t,r,e,n);break e;case 11:t=fm(null,t,r,e,n);break e;case 14:t=pm(null,t,r,Gt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),vh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),mm(e,t,r,i,n);case 3:e:{if(Bv(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,cv(e,t),nl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Fi(Error(D(423)),t),t=gm(e,t,r,n,i);break e}else if(r!==i){i=Fi(Error(D(424)),t),t=gm(e,t,r,n,i);break e}else for(Nt=Zn(t.stateNode.containerInfo.firstChild),Pt=t,ye=!0,Yt=null,n=pv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($i(),r===i){t=An(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return mv(t),e===null&&fh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,lh(r,i)?o=null:s!==null&&lh(r,s)&&(t.flags|=32),Vv(e,t),mt(e,t,o,n),t.child;case 6:return e===null&&fh(t),null;case 13:return bv(e,t,n);case 4:return bd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Li(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),fm(e,t,r,i,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,he(el,r._currentValue),r._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===i.children&&!Tt.current){t=An(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=In(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ph(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ph(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ii(t,n),i=jt(i),r=r(i),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,i=Gt(r,t.pendingProps),i=Gt(r.type,i),pm(e,t,r,i,n);case 15:return Mv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gt(r,i),Ra(e,t),t.tag=1,It(r)?(e=!0,Xa(t)):e=!1,Ii(t,n),dv(t,r,i),gh(t,r,i,n),wh(null,t,r,!0,e,n);case 19:return zv(e,t,n);case 22:return Uv(e,t,n)}throw Error(D(156,t.tag))};function i0(e,t){return Ay(e,t)}function KS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,r){return new KS(e,t,n,r)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GS(e){if(typeof e=="function")return nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ed)return 11;if(e===Sd)return 14}return 2}function rr(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function La(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")nf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case li:return Or(n.children,i,s,t);case _d:o=8,i|=8;break;case Bc:return e=Bt(12,n,t,i|2),e.elementType=Bc,e.lanes=s,e;case bc:return e=Bt(13,n,t,i),e.elementType=bc,e.lanes=s,e;case zc:return e=Bt(19,n,t,i),e.elementType=zc,e.lanes=s,e;case fy:return Kl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hy:o=10;break e;case dy:o=9;break e;case Ed:o=11;break e;case Sd:o=14;break e;case Vn:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Bt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Or(e,t,n,r){return e=Bt(7,e,r,t),e.lanes=n,e}function Kl(e,t,n,r){return e=Bt(22,e,r,t),e.elementType=fy,e.lanes=n,e.stateNode={isHidden:!1},e}function oc(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function ac(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rf(e,t,n,r,i,s,o,a,l){return e=new QS(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Bt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(s),e}function YS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function s0(e){if(!e)return dr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(It(n))return iv(e,n,t)}return t}function o0(e,t,n,r,i,s,o,a,l){return e=rf(n,r,!0,e,i,s,o,a,l),e.context=s0(null),n=e.current,r=vt(),i=nr(n),s=In(r,i),s.callback=t??null,er(n,s,i),e.current.lanes=i,So(e,i,r),xt(e,r),e}function Gl(e,t,n,r){var i=t.current,s=vt(),o=nr(i);return n=s0(n),t.context===null?t.context=n:t.pendingContext=n,t=In(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(i,t,o),e!==null&&(Zt(e,i,o,s),Da(e,i,o)),o}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sf(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function XS(){return null}var a0=typeof reportError=="function"?reportError:function(e){console.error(e)};function of(e){this._internalRoot=e}Ql.prototype.render=of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Gl(e,t,null,null)};Ql.prototype.unmount=of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){Gl(null,e,null,null)}),t[Dn]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=My();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bn.length&&t!==0&&t<bn[n].priority;n++);bn.splice(n,0,e),n===0&&Vy(e)}};function af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xm(){}function JS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=cl(o);s.call(u)}}var o=o0(t,r,e,0,null,!1,!1,"",xm);return e._reactRootContainer=o,e[Dn]=o.current,Ys(e.nodeType===8?e.parentNode:e),jr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=cl(l);a.call(u)}}var l=rf(e,0,!1,null,null,!1,!1,"",xm);return e._reactRootContainer=l,e[Dn]=l.current,Ys(e.nodeType===8?e.parentNode:e),jr(function(){Gl(t,l,n,r)}),l}function Xl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=cl(o);a.call(l)}}Gl(t,o,e,i)}else o=JS(n,t,e,i,r);return cl(o)}Oy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Es(t.pendingLanes);n!==0&&(Td(t,n|1),xt(t,Re()),!(ie&6)&&(Mi=Re()+500,vr()))}break;case 13:jr(function(){var r=Nn(e,1);if(r!==null){var i=vt();Zt(r,e,1,i)}}),sf(e,1)}};Id=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=vt();Zt(t,e,134217728,n)}sf(e,134217728)}};Fy=function(e){if(e.tag===13){var t=nr(e),n=Nn(e,t);if(n!==null){var r=vt();Zt(n,e,t,r)}sf(e,t)}};My=function(){return ue};Uy=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Jc=function(e,t,n){switch(t){case"input":if(qc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bl(r);if(!i)throw Error(D(90));my(r),qc(r,i)}}}break;case"textarea":yy(e,n);break;case"select":t=n.value,t!=null&&Si(e,!!n.multiple,t,!1)}};ky=Zd;Ty=jr;var ZS={usingClientEntryPoint:!1,Events:[ko,di,bl,Sy,Cy,Zd]},ps={findFiberByHostInstance:xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eC={bundleType:ps.bundleType,version:ps.version,rendererPackageName:ps.rendererPackageName,rendererConfig:ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dy(e),e===null?null:e.stateNode},findFiberByHostInstance:ps.findFiberByHostInstance||XS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{Ml=ua.inject(eC),hn=ua}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(t))throw Error(D(200));return YS(e,t,null,n)};Ot.createRoot=function(e,t){if(!af(e))throw Error(D(299));var n=!1,r="",i=a0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rf(e,1,!1,null,null,n,!1,r,i),e[Dn]=t.current,Ys(e.nodeType===8?e.parentNode:e),new of(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Dy(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return jr(e)};Ot.hydrate=function(e,t,n){if(!Yl(t))throw Error(D(200));return Xl(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!af(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=a0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=o0(t,null,e,1,n??null,i,!1,s,o),e[Dn]=t.current,Ys(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)};Ot.render=function(e,t,n){if(!Yl(t))throw Error(D(200));return Xl(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(D(40));return e._reactRootContainer?(jr(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Ot.unstable_batchedUpdates=Zd;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Xl(e,t,n,!1,r)};Ot.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Ot})(X_);var Dm=Mc;Fc.createRoot=Dm.createRoot,Fc.hydrateRoot=Dm.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},tC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[c],n[f],n[h],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new nC;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(e){const t=l0(e);return u0.encodeByteArray(t,!0)},hl=function(e){return rC(e).replace(/\./g,"")},iC=function(e){try{return u0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>sC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&iC(e[1]);return t&&JSON.parse(t)},lf=()=>{try{return oC()||aC()||lC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uC=e=>{var t,n;return(n=(t=lf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},c0=e=>{const t=uC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},cC=()=>{var e;return(e=lf())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[hl(JSON.stringify(n)),hl(JSON.stringify(o)),a].join(".")}function dC(){var e;const t=(e=lf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="FirebaseError";class Xr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=mC,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d0.prototype.create)}}class d0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?gC(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xr(i,a,r)}}function gC(e,t){return e.replace(yC,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const yC=/\{\$([^}]+)}/g;function Rh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Nm(s)&&Nm(o)){if(!Rh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e){return e&&e._delegate?e._delegate:e}class Ui{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new hC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_C(t))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tr){return this.instances.has(t)}getOptions(t=Tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Tr){return this.component?this.component.multipleInstances?t:Tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wC(e){return e===Tr?void 0:e}function _C(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new vC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ae||(ae={}));const SC={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},CC=ae.INFO,kC={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},TC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=kC[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class f0{constructor(t){this.name=t,this._logLevel=CC,this._logHandler=TC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const IC=(e,t)=>t.some(n=>e instanceof n);let Am,Rm;function xC(){return Am||(Am=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DC(){return Rm||(Rm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Ph=new WeakMap,m0=new WeakMap,lc=new WeakMap,uf=new WeakMap;function NC(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ir(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&p0.set(n,e)}).catch(()=>{}),uf.set(t,e),t}function AC(e){if(Ph.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ph.set(e,t)}let $h={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ph.get(e);if(t==="objectStoreNames")return e.objectStoreNames||m0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RC(e){$h=e($h)}function PC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(uc(this),t,...n);return m0.set(r,t.sort?t.sort():[t]),ir(r)}:DC().includes(e)?function(...t){return e.apply(uc(this),t),ir(p0.get(this))}:function(...t){return ir(e.apply(uc(this),t))}}function $C(e){return typeof e=="function"?PC(e):(e instanceof IDBTransaction&&AC(e),IC(e,xC())?new Proxy(e,$h):e)}function ir(e){if(e instanceof IDBRequest)return NC(e);if(lc.has(e))return lc.get(e);const t=$C(e);return t!==e&&(lc.set(e,t),uf.set(t,e)),t}const uc=e=>uf.get(e);function LC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ir(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ir(o.result),l.oldVersion,l.newVersion,ir(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const OC=["get","getKey","getAll","getAllKeys","count"],FC=["put","add","delete","clear"],cc=new Map;function Pm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cc.get(t))return cc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=FC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OC.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cc.set(t,s),s}RC(e=>({...e,get:(t,n,r)=>Pm(t,n)||e.get(t,n,r),has:(t,n)=>!!Pm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lh="@firebase/app",$m="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new f0("@firebase/app"),VC="@firebase/app-compat",BC="@firebase/analytics-compat",bC="@firebase/analytics",zC="@firebase/app-check-compat",jC="@firebase/app-check",HC="@firebase/auth",qC="@firebase/auth-compat",WC="@firebase/database",KC="@firebase/database-compat",GC="@firebase/functions",QC="@firebase/functions-compat",YC="@firebase/installations",XC="@firebase/installations-compat",JC="@firebase/messaging",ZC="@firebase/messaging-compat",ek="@firebase/performance",tk="@firebase/performance-compat",nk="@firebase/remote-config",rk="@firebase/remote-config-compat",ik="@firebase/storage",sk="@firebase/storage-compat",ok="@firebase/firestore",ak="@firebase/firestore-compat",lk="firebase",uk="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="[DEFAULT]",ck={[Lh]:"fire-core",[VC]:"fire-core-compat",[bC]:"fire-analytics",[BC]:"fire-analytics-compat",[jC]:"fire-app-check",[zC]:"fire-app-check-compat",[HC]:"fire-auth",[qC]:"fire-auth-compat",[WC]:"fire-rtdb",[KC]:"fire-rtdb-compat",[GC]:"fire-fn",[QC]:"fire-fn-compat",[YC]:"fire-iid",[XC]:"fire-iid-compat",[JC]:"fire-fcm",[ZC]:"fire-fcm-compat",[ek]:"fire-perf",[tk]:"fire-perf-compat",[nk]:"fire-rc",[rk]:"fire-rc-compat",[ik]:"fire-gcs",[sk]:"fire-gcs-compat",[ok]:"fire-fst",[ak]:"fire-fst-compat","fire-js":"fire-js",[lk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Map,Fh=new Map;function hk(e,t){try{e.container.addComponent(t)}catch(n){Hr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function so(e){const t=e.name;if(Fh.has(t))return Hr.debug(`There were multiple attempts to register component ${t}.`),!1;Fh.set(t,e);for(const n of dl.values())hk(n,e);return!0}function g0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sr=new d0("app","Firebase",dk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=uk;function v0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Oh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=cC()),!n)throw sr.create("no-options");const s=dl.get(i);if(s){if(Rh(n,s.options)&&Rh(r,s.config))return s;throw sr.create("duplicate-app",{appName:i})}const o=new EC(i);for(const l of Fh.values())o.addComponent(l);const a=new fk(n,r,o);return dl.set(i,a),a}function w0(e=Oh){const t=dl.get(e);if(!t&&e===Oh)return v0();if(!t)throw sr.create("no-app",{appName:e});return t}function or(e,t,n){var r;let i=(r=ck[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hr.warn(a.join(" "));return}so(new Ui(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebase-heartbeat-database",mk=1,oo="firebase-heartbeat-store";let hc=null;function _0(){return hc||(hc=LC(pk,mk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(oo)}}}).catch(e=>{throw sr.create("idb-open",{originalErrorMessage:e.message})})),hc}async function gk(e){try{return(await _0()).transaction(oo).objectStore(oo).get(E0(e))}catch(t){if(t instanceof Xr)Hr.warn(t.message);else{const n=sr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hr.warn(n.message)}}}async function Lm(e,t){try{const r=(await _0()).transaction(oo,"readwrite");return await r.objectStore(oo).put(t,E0(e)),r.done}catch(n){if(n instanceof Xr)Hr.warn(n.message);else{const r=sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function E0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=1024,vk=30*24*60*60*1e3;class wk{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ek(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Om();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=vk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Om(),{heartbeatsToSend:n,unsentEntries:r}=_k(this._heartbeatsCache.heartbeats),i=hl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Om(){return new Date().toISOString().substring(0,10)}function _k(e,t=yk){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Fm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ek{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fC()?pC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await gk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Fm(e){return hl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(e){so(new Ui("platform-logger",t=>new MC(t),"PRIVATE")),so(new Ui("heartbeat",t=>new wk(t),"PRIVATE")),or(Lh,$m,e),or(Lh,$m,"esm2017"),or("fire-js","")}Sk("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firebasestorage.googleapis.com",C0="storageBucket",Ck=2*60*1e3,kk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne extends Xr{constructor(t,n,r=0){super(dc(t),`Firebase Storage: ${n} (${dc(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ne.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dc(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xe;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xe||(xe={}));function dc(e){return"storage/"+e}function cf(){const e="An unknown error occurred, please check the error payload for server response.";return new Ne(xe.UNKNOWN,e)}function Tk(e){return new Ne(xe.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Ik(e){return new Ne(xe.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xk(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ne(xe.UNAUTHENTICATED,e)}function Dk(){return new Ne(xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Nk(e){return new Ne(xe.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Ak(){return new Ne(xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rk(){return new Ne(xe.CANCELED,"User canceled the upload/download.")}function Pk(e){return new Ne(xe.INVALID_URL,"Invalid URL '"+e+"'.")}function $k(e){return new Ne(xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Lk(){return new Ne(xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C0+"' property when initializing the app?")}function Ok(){return new Ne(xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fk(){return new Ne(xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mk(e){return new Ne(xe.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mh(e){return new Ne(xe.INVALID_ARGUMENT,e)}function k0(){return new Ne(xe.APP_DELETED,"The Firebase app was deleted.")}function Uk(e){return new Ne(xe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Os(e,t){return new Ne(xe.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ms(e){throw new Ne(xe.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=At.makeFromUrl(t,n)}catch{return new At(t,"")}if(r.path==="")return r;throw $k(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),w={bucket:1,path:3},v=n===S0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",p=new RegExp(`^https?://${v}/${i}/${E}`,"i"),g=[{regex:a,indices:l,postModify:s},{regex:m,indices:w,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<g.length;_++){const T=g[_],P=T.regex.exec(t);if(P){const $=P[T.indices.bucket];let L=P[T.indices.path];L||(L=""),r=new At($,L),T.postModify(r);break}}if(r==null)throw Pk(t);return r}}class Vk{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,t.apply(null,E))}function f(E){i=setTimeout(()=>{i=null,e(m,l())},E)}function h(){s&&clearTimeout(s)}function m(E,...p){if(u){h();return}if(E){h(),c.call(null,E,...p);return}if(l()||o){h(),c.call(null,E,...p);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,f(g)}let w=!1;function v(E){w||(w=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),f(0)):E||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function bk(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(e){return e!==void 0}function jk(e){return typeof e=="object"&&!Array.isArray(e)}function hf(e){return typeof e=="string"||e instanceof String}function Mm(e){return df()&&e instanceof Blob}function df(){return typeof Blob<"u"&&!dC()}function Um(e,t,n,r){if(r<t)throw Mh(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Mh(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function T0(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Fr||(Fr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,n,r,i,s,o,a,l,u,c,f,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,w)=>{this.resolve_=m,this.reject_=w,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new ca(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Fr.NO_ERROR,l=s.getStatus();if(!a||Hk(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Fr.ABORT;r(!1,new ca(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ca(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());zk(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=cf();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?k0():Rk();o(l)}else{const l=Ak();o(l)}};this.canceled_?n(!1,new ca(!1,null,!0)):this.backoffId_=Bk(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&bk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ca{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Wk(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Kk(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Gk(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Qk(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Yk(e,t,n,r,i,s,o=!0){const a=T0(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return Gk(u,t),Wk(u,n),Kk(u,s),Qk(u,r),new qk(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jk(...e){const t=Xk();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(df())return new Blob(e);throw new Ne(xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Zk(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e){if(typeof atob>"u")throw Mk("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fc{constructor(t,n){this.data=t,this.contentType=n||null}}function tT(e,t){switch(e){case un.RAW:return new fc(I0(t));case un.BASE64:case un.BASE64URL:return new fc(x0(e,t));case un.DATA_URL:return new fc(rT(t),iT(t))}throw cf()}function I0(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function nT(e){let t;try{t=decodeURIComponent(e)}catch{throw Os(un.DATA_URL,"Malformed data URL.")}return I0(t)}function x0(e,t){switch(e){case un.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Os(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case un.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Os(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=eT(t)}catch(i){throw i.message.includes("polyfill")?i:Os(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class D0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Os(un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sT(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function rT(e){const t=new D0(e);return t.base64?x0(un.BASE64,t.rest):nT(t.rest)}function iT(e){return new D0(e).contentType}function sT(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,n){let r=0,i="";Mm(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Mm(this.data_)){const r=this.data_,i=Zk(r,t,n);return i===null?null:new jn(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new jn(r,!0)}}static getBlob(...t){if(df()){const n=t.map(r=>r instanceof jn?r.data_:r);return new jn(Jk.apply(null,n))}else{const n=t.map(o=>hf(o)?tT(un.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new jn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(e){let t;try{t=JSON.parse(e)}catch{return null}return jk(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function aT(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function A0(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(e,t){return t}class pt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||lT}}let ha=null;function uT(e){return!hf(e)||e.length<2?e:A0(e)}function R0(){if(ha)return ha;const e=[];e.push(new pt("bucket")),e.push(new pt("generation")),e.push(new pt("metageneration")),e.push(new pt("name","fullPath",!0));function t(s,o){return uT(o)}const n=new pt("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new pt("size");return i.xform=r,e.push(i),e.push(new pt("timeCreated")),e.push(new pt("updated")),e.push(new pt("md5Hash",null,!0)),e.push(new pt("cacheControl",null,!0)),e.push(new pt("contentDisposition",null,!0)),e.push(new pt("contentEncoding",null,!0)),e.push(new pt("contentLanguage",null,!0)),e.push(new pt("contentType",null,!0)),e.push(new pt("metadata","customMetadata",!0)),ha=e,ha}function cT(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new At(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function hT(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return cT(r,e),r}function P0(e,t,n){const r=N0(t);return r===null?null:hT(e,r,n)}function dT(e,t,n,r){const i=N0(t);if(i===null||!hf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,f=e.fullPath,h="/b/"+o(c)+"/o/"+o(f),m=ff(h,n,r),w=T0({alt:"media",token:u});return m+w})[0]}function fT(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class $0{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(e){if(!e)throw cf()}function pT(e,t){function n(r,i){const s=P0(e,i,t);return L0(s!==null),s}return n}function mT(e,t){function n(r,i){const s=P0(e,i,t);return L0(s!==null),dT(s,i,e.host,e._protocol)}return n}function O0(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Dk():i=xk():n.getStatus()===402?i=Ik(e.bucket):n.getStatus()===403?i=Nk(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function gT(e){const t=O0(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=Tk(e.path)),s.serverResponse=i.serverResponse,s}return n}function yT(e,t,n){const r=t.fullServerUrl(),i=ff(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new $0(i,s,mT(e,n),o);return a.errorHandler=gT(t),a}function vT(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function wT(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=vT(null,t)),r}function _T(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let _=0;_<2;_++)g=g+Math.random().toString().slice(2);return g}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=wT(t,r,i),c=fT(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=jn.getBlob(f,r,h);if(m===null)throw Ok();const w={name:u.fullPath},v=ff(s,e.host,e._protocol),E="POST",p=e.maxUploadRetryTime,d=new $0(v,E,pT(e,n),p);return d.urlParams=w,d.headers=o,d.body=m.uploadData(),d.errorHandler=O0(t),d}class ET{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw ms("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ms("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ms("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ms("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ms("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class ST extends ET{initXhr(){this.xhr_.responseType="text"}}function F0(){return new ST}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n){this._service=t,n instanceof At?this._location=n:this._location=At.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new qr(t,n)}get root(){const t=new At(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A0(this._location.path)}get storage(){return this._service}get parent(){const t=oT(this._location.path);if(t===null)return null;const n=new At(this._location.bucket,t);return new qr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Uk(t)}}function CT(e,t,n){e._throwIfRoot("uploadBytes");const r=_T(e.storage,e._location,R0(),new jn(t,!0),n);return e.storage.makeRequestWithTokens(r,F0).then(i=>({metadata:i,ref:e}))}function kT(e){e._throwIfRoot("getDownloadURL");const t=yT(e.storage,e._location,R0());return e.storage.makeRequestWithTokens(t,F0).then(n=>{if(n===null)throw Fk();return n})}function TT(e,t){const n=aT(e._location.path,t),r=new At(e._location.bucket,n);return new qr(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){return/^[A-Za-z]+:\/\//.test(e)}function xT(e,t){return new qr(e,t)}function M0(e,t){if(e instanceof pf){const n=e;if(n._bucket==null)throw Lk();const r=new qr(n,n._bucket);return t!=null?M0(r,t):r}else return t!==void 0?TT(e,t):e}function DT(e,t){if(t&&IT(t)){if(e instanceof pf)return xT(e,t);throw Mh("To use ref(service, url), the first argument must be a Storage instance.")}else return M0(e,t)}function Vm(e,t){const n=t==null?void 0:t[C0];return n==null?null:At.makeFromBucketSpec(n,e)}function NT(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:h0(i,e.app.options.projectId))}class pf{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=S0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ck,this._maxUploadRetryTime=kk,this._requests=new Set,i!=null?this._bucket=At.makeFromBucketSpec(i,this._host):this._bucket=Vm(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=At.makeFromBucketSpec(this._url,t):this._bucket=Vm(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Um("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Um("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qr(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Vk(k0());{const o=Yk(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Bm="@firebase/storage",bm="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="storage";function AT(e,t,n){return e=qt(e),CT(e,t,n)}function RT(e){return e=qt(e),kT(e)}function V0(e,t){return e=qt(e),DT(e,t)}function PT(e=w0(),t){e=qt(e);const r=g0(e,U0).getImmediate({identifier:t}),i=c0("storage");return i&&$T(r,...i),r}function $T(e,t,n,r={}){NT(e,t,n,r)}function LT(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new pf(n,r,i,t,y0)}function OT(){so(new Ui(U0,LT,"PUBLIC").setMultipleInstances(!0)),or(Bm,bm,""),or(Bm,bm,"esm2017")}OT();var FT="firebase",MT="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(FT,MT,"app");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,mf=mf||{},Y=UT||self;function fl(){}function Jl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Io(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function VT(e){return Object.prototype.hasOwnProperty.call(e,pc)&&e[pc]||(e[pc]=++BT)}var pc="closure_uid_"+(1e9*Math.random()>>>0),BT=0;function bT(e,t,n){return e.call.apply(e.bind,arguments)}function zT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ct(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ct=bT:ct=zT,ct.apply(null,arguments)}function da(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function nt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function wr(){this.s=this.s,this.o=this.o}var jT=0;wr.prototype.s=!1;wr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),jT!=0)&&VT(this)};wr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function zm(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Jl(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ht(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var HT=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Y.addEventListener("test",fl,t),Y.removeEventListener("test",fl,t)}catch{}return e}();function pl(e){return/^[\s\xa0]*$/.test(e)}var jm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function mc(e,t){return e<t?-1:e>t?1:0}function Zl(){var e=Y.navigator;return e&&(e=e.userAgent)?e:""}function ln(e){return Zl().indexOf(e)!=-1}function yf(e){return yf[" "](e),e}yf[" "]=fl;function qT(e){var t=GT;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var WT=ln("Opera"),Vi=ln("Trident")||ln("MSIE"),b0=ln("Edge"),Uh=b0||Vi,z0=ln("Gecko")&&!(Zl().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge"))&&!(ln("Trident")||ln("MSIE"))&&!ln("Edge"),KT=Zl().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge");function j0(){var e=Y.document;return e?e.documentMode:void 0}var ml;e:{var gc="",yc=function(){var e=Zl();if(z0)return/rv:([^\);]+)(\)|;)/.exec(e);if(b0)return/Edge\/([\d\.]+)/.exec(e);if(Vi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(KT)return/WebKit\/(\S+)/.exec(e);if(WT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(yc&&(gc=yc?yc[1]:""),Vi){var vc=j0();if(vc!=null&&vc>parseFloat(gc)){ml=String(vc);break e}}ml=gc}var GT={};function QT(){return qT(function(){let e=0;const t=jm(String(ml)).split("."),n=jm("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=mc(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||mc(i[2].length==0,s[2].length==0)||mc(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var Vh;if(Y.document&&Vi){var Hm=j0();Vh=Hm||parseInt(ml,10)||void 0}else Vh=void 0;var YT=Vh;function ao(e,t){if(ht.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(z0){e:{try{yf(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:XT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ao.X.h.call(this)}}nt(ao,ht);var XT={2:"touch",3:"pen",4:"mouse"};ao.prototype.h=function(){ao.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),JT=0;function ZT(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++JT,this.ba=this.ea=!1}function eu(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function vf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function H0(e){const t={};for(const n in e)t[n]=e[n];return t}const qm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q0(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<qm.length;s++)n=qm[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function tu(e){this.src=e,this.g={},this.h=0}tu.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=bh(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new ZT(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function Bh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=B0(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(eu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function bh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var wf="closure_lm_"+(1e6*Math.random()|0),wc={};function W0(e,t,n,r,i){if(r&&r.once)return G0(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W0(e,t[s],n,r,i);return null}return n=Sf(n),e&&e[xo]?e.N(t,n,Io(r)?!!r.capture:!!r,i):K0(e,t,n,!1,r,i)}function K0(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Io(i)?!!i.capture:!!i,a=Ef(e);if(a||(e[wf]=a=new tu(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=eI(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)HT||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eI(){function e(n){return t.call(e.src,e.listener,n)}const t=tI;return e}function G0(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G0(e,t[s],n,r,i);return null}return n=Sf(n),e&&e[xo]?e.O(t,n,Io(r)?!!r.capture:!!r,i):K0(e,t,n,!0,r,i)}function Q0(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q0(e,t[s],n,r,i);else r=Io(r)?!!r.capture:!!r,n=Sf(n),e&&e[xo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=bh(s,n,r,i),-1<n&&(eu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ef(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bh(t,n,r,i)),(n=-1<e?t[e]:null)&&_f(n))}function _f(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[xo])Bh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ef(t))?(Bh(n,e),n.h==0&&(n.src=null,t[wf]=null)):eu(e)}}}function Y0(e){return e in wc?wc[e]:wc[e]="on"+e}function tI(e,t){if(e.ba)e=!0;else{t=new ao(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&_f(e),e=n.call(r,t)}return e}function Ef(e){return e=e[wf],e instanceof tu?e:null}var _c="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sf(e){return typeof e=="function"?e:(e[_c]||(e[_c]=function(t){return e.handleEvent(t)}),e[_c])}function Ge(){wr.call(this),this.i=new tu(this),this.P=this,this.I=null}nt(Ge,wr);Ge.prototype[xo]=!0;Ge.prototype.removeEventListener=function(e,t,n,r){Q0(this,e,t,n,r)};function et(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new ht(t,e);else if(t instanceof ht)t.target=t.target||e;else{var i=t;t=new ht(r,e),q0(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=fa(o,r,!0,t)&&i}if(o=t.g=e,i=fa(o,r,!0,t)&&i,i=fa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=fa(o,r,!1,t)&&i}Ge.prototype.M=function(){if(Ge.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)eu(n[r]);delete e.g[t],e.h--}}this.I=null};Ge.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ge.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function fa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Bh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cf=Y.JSON.stringify;function nI(){var e=Z0;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rI{constructor(){this.h=this.g=null}add(t,n){const r=X0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var X0=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iI,e=>e.reset());class iI{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sI(e){Y.setTimeout(()=>{throw e},0)}function J0(e,t){zh||oI(),jh||(zh(),jh=!0),Z0.add(e,t)}var zh;function oI(){var e=Y.Promise.resolve(void 0);zh=function(){e.then(aI)}}var jh=!1,Z0=new rI;function aI(){for(var e;e=nI();){try{e.h.call(e.g)}catch(n){sI(n)}var t=X0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jh=!1}function nu(e,t){Ge.call(this),this.h=e||1,this.g=t||Y,this.j=ct(this.lb,this),this.l=Date.now()}nt(nu,Ge);M=nu.prototype;M.ca=!1;M.R=null;M.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),et(this,"tick"),this.ca&&(kf(this),this.start()))}};M.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}M.M=function(){nu.X.M.call(this),kf(this),delete this.g};function Tf(e,t,n){if(typeof e=="function")n&&(e=ct(e,n));else if(e&&typeof e.handleEvent=="function")e=ct(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Y.setTimeout(e,t||0)}function e1(e){e.g=Tf(()=>{e.g=null,e.i&&(e.i=!1,e1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class lI extends wr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:e1(this)}M(){super.M(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(e){wr.call(this),this.h=e,this.g={}}nt(lo,wr);var Wm=[];function t1(e,t,n,r){Array.isArray(n)||(n&&(Wm[0]=n.toString()),n=Wm);for(var i=0;i<n.length;i++){var s=W0(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function n1(e){vf(e.g,function(t,n){this.g.hasOwnProperty(n)&&_f(t)},e),e.g={}}lo.prototype.M=function(){lo.X.M.call(this),n1(this)};lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ru(){this.g=!0}ru.prototype.Aa=function(){this.g=!1};function uI(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function cI(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function wi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+dI(e,n)+(r?" "+r:"")})}function hI(e,t){e.info(function(){return"TIMEOUT: "+t})}ru.prototype.info=function(){};function dI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cf(n)}catch{return t}}var Jr={},Km=null;function iu(){return Km=Km||new Ge}Jr.Pa="serverreachability";function r1(e){ht.call(this,Jr.Pa,e)}nt(r1,ht);function uo(e){const t=iu();et(t,new r1(t))}Jr.STAT_EVENT="statevent";function i1(e,t){ht.call(this,Jr.STAT_EVENT,e),this.stat=t}nt(i1,ht);function yt(e){const t=iu();et(t,new i1(t,e))}Jr.Qa="timingevent";function s1(e,t){ht.call(this,Jr.Qa,e),this.size=t}nt(s1,ht);function Do(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){e()},t)}var su={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},o1={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function If(){}If.prototype.h=null;function Gm(e){return e.h||(e.h=e.i())}function a1(){}var No={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xf(){ht.call(this,"d")}nt(xf,ht);function Df(){ht.call(this,"c")}nt(Df,ht);var Hh;function ou(){}nt(ou,If);ou.prototype.g=function(){return new XMLHttpRequest};ou.prototype.i=function(){return{}};Hh=new ou;function Ao(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new lo(this),this.O=fI,e=Uh?125:void 0,this.T=new nu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new l1}function l1(){this.i=null,this.g="",this.h=!1}var fI=45e3,qh={},gl={};M=Ao.prototype;M.setTimeout=function(e){this.O=e};function Wh(e,t,n){e.K=1,e.v=lu(Rn(t)),e.s=n,e.P=!0,u1(e,null)}function u1(e,t){e.F=Date.now(),Ro(e),e.A=Rn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),y1(n.i,"t",r),e.C=0,n=e.l.H,e.h=new l1,e.g=U1(e.l,n?t:null,!e.s),0<e.N&&(e.L=new lI(ct(e.La,e,e.g),e.N)),t1(e.S,e.g,"readystatechange",e.ib),t=e.H?H0(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),uo(),uI(e.j,e.u,e.A,e.m,e.U,e.s)}M.ib=function(e){e=e.target;const t=this.L;t&&Tn(e)==3?t.l():this.La(e)};M.La=function(e){try{if(e==this.g)e:{const c=Tn(this.g);var t=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||Uh||this.g&&(this.h.h||this.g.fa()||Jm(this.g)))){this.I||c!=4||t==7||(t==8||0>=f?uo(3):uo(2)),au(this);var n=this.g.aa();this.Y=n;t:if(c1(this)){var r=Jm(this.g);e="";var i=r.length,s=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Fs(this);var o="";break t}this.h.i=new Y.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,cI(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pl(a)){var u=a;break t}}u=null}if(n=u)wi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kh(this,n);else{this.i=!1,this.o=3,yt(12),Ar(this),Fs(this);break e}}this.P?(h1(this,c,o),Uh&&this.i&&c==3&&(t1(this.S,this.T,"tick",this.hb),this.T.start())):(wi(this.j,this.m,o,null),Kh(this,o)),c==4&&Ar(this),this.i&&!this.I&&(c==4?L1(this.l,this):(this.i=!1,Ro(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,yt(12)):(this.o=0,yt(13)),Ar(this),Fs(this)}}}catch{}finally{}};function c1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function h1(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=pI(e,n),i==gl){t==4&&(e.o=4,yt(14),r=!1),wi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==qh){e.o=4,yt(15),wi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else wi(e.j,e.m,i,null),Kh(e,i);c1(e)&&i!=gl&&i!=qh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,yt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Of(t),t.K=!0,yt(11))):(wi(e.j,e.m,n,"[Invalid Chunked Response]"),Ar(e),Fs(e))}M.hb=function(){if(this.g){var e=Tn(this.g),t=this.g.fa();this.C<t.length&&(au(this),h1(this,e,t),this.i&&e!=4&&Ro(this))}};function pI(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?gl:(n=Number(t.substring(n,r)),isNaN(n)?qh:(r+=1,r+n>t.length?gl:(t=t.substr(r,n),e.C=r+n,t)))}M.cancel=function(){this.I=!0,Ar(this)};function Ro(e){e.V=Date.now()+e.O,d1(e,e.O)}function d1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Do(ct(e.gb,e),t)}function au(e){e.B&&(Y.clearTimeout(e.B),e.B=null)}M.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(hI(this.j,this.A),this.K!=2&&(uo(),yt(17)),Ar(this),this.o=2,Fs(this)):d1(this,this.V-e)};function Fs(e){e.l.G==0||e.I||L1(e.l,e)}function Ar(e){au(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,kf(e.T),n1(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Kh(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Gh(n.h,e))){if(!e.J&&Gh(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)wl(n),hu(n);else break e;Lf(n),yt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Do(ct(n.cb,n),6e3));if(1>=_1(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Rr(n,11)}else if((e.J||n.g==e)&&wl(n),!pl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.h;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Nf(s,s.h),s.h=null))}if(r.D){const v=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,ve(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=M1(r,r.H?r.ka:null,r.V),o.J){E1(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(au(a),Ro(a)),r.g=o}else P1(r);0<n.i.length&&du(n)}else u[0]!="stop"&&u[0]!="close"||Rr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Rr(n,7):$f(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}uo(4)}catch{}}function mI(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Jl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function gI(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Jl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function f1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Jl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=gI(e),r=mI(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var p1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Mr(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Mr){this.h=t!==void 0?t:e.h,yl(this,e.j),this.s=e.s,this.g=e.g,vl(this,e.m),this.l=e.l,t=e.i;var n=new co;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qm(this,n),this.o=e.o}else e&&(n=String(e).match(p1))?(this.h=!!t,yl(this,n[1]||"",!0),this.s=Cs(n[2]||""),this.g=Cs(n[3]||"",!0),vl(this,n[4]),this.l=Cs(n[5]||"",!0),Qm(this,n[6]||"",!0),this.o=Cs(n[7]||"")):(this.h=!!t,this.i=new co(null,this.h))}Mr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ks(t,Ym,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ks(t,Ym,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ks(n,n.charAt(0)=="/"?_I:wI,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ks(n,SI)),e.join("")};function Rn(e){return new Mr(e)}function yl(e,t,n){e.j=n?Cs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qm(e,t,n){t instanceof co?(e.i=t,CI(e.i,e.h)):(n||(t=ks(t,EI)),e.i=new co(t,e.h))}function ve(e,t,n){e.i.set(t,n)}function lu(e){return ve(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ks(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,vI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ym=/[#\/\?@]/g,wI=/[#\?:]/g,_I=/[#\?]/g,EI=/[#\?@]/g,SI=/#/g;function co(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _r(e){e.g||(e.g=new Map,e.h=0,e.i&&yI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}M=co.prototype;M.add=function(e,t){_r(this),this.i=null,e=Xi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function m1(e,t){_r(e),t=Xi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function g1(e,t){return _r(e),t=Xi(e,t),e.g.has(t)}M.forEach=function(e,t){_r(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};M.oa=function(){_r(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};M.W=function(e){_r(this);let t=[];if(typeof e=="string")g1(this,e)&&(t=t.concat(this.g.get(Xi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};M.set=function(e,t){return _r(this),this.i=null,e=Xi(this,e),g1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};M.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function y1(e,t,n){m1(e,t),0<n.length&&(e.i=null,e.g.set(Xi(e,t),gf(n)),e.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Xi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function CI(e,t){t&&!e.j&&(_r(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(m1(this,r),y1(this,i,n))},e)),e.j=t}var kI=class{constructor(t,n){this.h=t,this.g=n}};function v1(e){this.l=e||TI,Y.PerformanceNavigationTiming?(e=Y.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Y.g&&Y.g.Ga&&Y.g.Ga()&&Y.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TI=10;function w1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function _1(e){return e.h?1:e.g?e.g.size:0}function Gh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Nf(e,t){e.g?e.g.add(t):e.h=t}function E1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}v1.prototype.cancel=function(){if(this.i=S1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function S1(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return gf(e.i)}function Af(){}Af.prototype.stringify=function(e){return Y.JSON.stringify(e,void 0)};Af.prototype.parse=function(e){return Y.JSON.parse(e,void 0)};function II(){this.g=new Af}function xI(e,t,n){const r=n||"";try{f1(e,function(i,s){let o=i;Io(i)&&(o=Cf(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function DI(e,t){const n=new ru;if(Y.Image){const r=new Image;r.onload=da(pa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=da(pa,n,r,"TestLoadImage: error",!1,t),r.onabort=da(pa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=da(pa,n,r,"TestLoadImage: timeout",!1,t),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function pa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Po(e){this.l=e.ac||null,this.j=e.jb||!1}nt(Po,If);Po.prototype.g=function(){return new uu(this.l,this.j)};Po.prototype.i=function(e){return function(){return e}}({});function uu(e,t){Ge.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Rf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(uu,Ge);var Rf=0;M=uu.prototype;M.open=function(e,t){if(this.readyState!=Rf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ho(this)};M.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Y).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$o(this)),this.readyState=Rf};M.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C1(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function C1(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}M.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$o(this):ho(this),this.readyState==3&&C1(this)}};M.Va=function(e){this.g&&(this.response=this.responseText=e,$o(this))};M.Ua=function(e){this.g&&(this.response=e,$o(this))};M.ga=function(){this.g&&$o(this)};function $o(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ho(e)}M.setRequestHeader=function(e,t){this.v.append(e,t)};M.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ho(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var NI=Y.JSON.parse;function De(e){Ge.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=k1,this.K=this.L=!1}nt(De,Ge);var k1="",AI=/^https?$/i,RI=["POST","PUT"];M=De.prototype;M.Ka=function(e){this.L=e};M.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hh.g(),this.C=this.u?Gm(this.u):Gm(Hh),this.g.onreadystatechange=ct(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){Xm(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&e instanceof Y.FormData,!(0<=B0(RI,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{x1(this),0<this.B&&((this.K=PI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ct(this.qa,this)):this.A=Tf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xm(this,s)}};function PI(e){return Vi&&QT()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}M.qa=function(){typeof mf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,et(this,"timeout"),this.abort(8))};function Xm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,T1(e),cu(e)}function T1(e){e.D||(e.D=!0,et(e,"complete"),et(e,"error"))}M.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,et(this,"complete"),et(this,"abort"),cu(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cu(this,!0)),De.X.M.call(this)};M.Ha=function(){this.s||(this.F||this.v||this.l?I1(this):this.fb())};M.fb=function(){I1(this)};function I1(e){if(e.h&&typeof mf<"u"&&(!e.C[1]||Tn(e)!=4||e.aa()!=2)){if(e.v&&Tn(e)==4)Tf(e.Ha,0,e);else if(et(e,"readystatechange"),Tn(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(p1)[1]||null;if(!i&&Y.self&&Y.self.location){var s=Y.self.location.protocol;i=s.substr(0,s.length-1)}r=!AI.test(i?i.toLowerCase():"")}n=r}if(n)et(e,"complete"),et(e,"success");else{e.m=6;try{var o=2<Tn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",T1(e)}}finally{cu(e)}}}}function cu(e,t){if(e.g){x1(e);const n=e.g,r=e.C[0]?fl:null;e.g=null,e.C=null,t||et(e,"ready");try{n.onreadystatechange=r}catch{}}}function x1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Y.clearTimeout(e.A),e.A=null)}function Tn(e){return e.g?e.g.readyState:0}M.aa=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}};M.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),NI(t)}};function Jm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case k1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ea=function(){return this.m};M.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function D1(e){let t="";return vf(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Pf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=D1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ve(e,t,n))}function gs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function N1(e){this.Ca=0,this.i=[],this.j=new ru,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gs("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gs("baseRetryDelayMs",5e3,e),this.bb=gs("retryDelaySeedMs",1e4,e),this.$a=gs("forwardChannelMaxRetries",2,e),this.ta=gs("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new v1(e&&e.concurrentRequestLimit),this.Fa=new II,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}M=N1.prototype;M.ma=8;M.G=1;function $f(e){if(A1(e),e.G==3){var t=e.U++,n=Rn(e.F);ve(n,"SID",e.I),ve(n,"RID",t),ve(n,"TYPE","terminate"),Lo(e,n),t=new Ao(e,e.j,t,void 0),t.K=2,t.v=lu(Rn(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon&&(n=Y.navigator.sendBeacon(t.v.toString(),"")),!n&&Y.Image&&(new Image().src=t.v,n=!0),n||(t.g=U1(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ro(t)}F1(e)}function hu(e){e.g&&(Of(e),e.g.cancel(),e.g=null)}function A1(e){hu(e),e.u&&(Y.clearTimeout(e.u),e.u=null),wl(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&Y.clearTimeout(e.m),e.m=null)}function du(e){w1(e.h)||e.m||(e.m=!0,J0(e.Ja,e),e.C=0)}function $I(e,t){return _1(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Do(ct(e.Ja,e,t),O1(e,e.C)),e.C++,!0)}M.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ao(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=H0(s),q0(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=R1(this,i,t),n=Rn(this.F),ve(n,"RID",e),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),Lo(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(D1(s)))+"&"+t:this.o&&Pf(n,this.o,s)),Nf(this.h,i),this.Ya&&ve(n,"TYPE","init"),this.O?(ve(n,"$req",t),ve(n,"SID","null"),i.Z=!0,Wh(i,n,null)):Wh(i,n,t),this.G=2}}else this.G==3&&(e?Zm(this,e):this.i.length==0||w1(this.h)||Zm(this))};function Zm(e,t){var n;t?n=t.m:n=e.U++;const r=Rn(e.F);ve(r,"SID",e.I),ve(r,"RID",n),ve(r,"AID",e.T),Lo(e,r),e.o&&e.s&&Pf(r,e.o,e.s),n=new Ao(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=R1(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Nf(e.h,n),Wh(n,r,t)}function Lo(e,t){e.ia&&vf(e.ia,function(n,r){ve(t,r,n)}),e.l&&f1({},function(n,r){ve(t,r,n)})}function R1(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ct(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{xI(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function P1(e){e.g||e.u||(e.Z=1,J0(e.Ia,e),e.A=0)}function Lf(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Do(ct(e.Ia,e),O1(e,e.A)),e.A++,!0)}M.Ia=function(){if(this.u=null,$1(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Do(ct(this.eb,this),e)}};M.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yt(10),hu(this),$1(this))};function Of(e){e.B!=null&&(Y.clearTimeout(e.B),e.B=null)}function $1(e){e.g=new Ao(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Rn(e.sa);ve(t,"RID","rpc"),ve(t,"SID",e.I),ve(t,"CI",e.L?"0":"1"),ve(t,"AID",e.T),ve(t,"TYPE","xmlhttp"),Lo(e,t),e.o&&e.s&&Pf(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=lu(Rn(t)),n.s=null,n.P=!0,u1(n,e)}M.cb=function(){this.v!=null&&(this.v=null,hu(this),Lf(this),yt(19))};function wl(e){e.v!=null&&(Y.clearTimeout(e.v),e.v=null)}function L1(e,t){var n=null;if(e.g==t){wl(e),Of(e),e.g=null;var r=2}else if(Gh(e.h,t))n=t.D,E1(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=iu(),et(r,new s1(r,n)),du(e)}else P1(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&$I(e,t)||r==2&&Lf(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Rr(e,5);break;case 4:Rr(e,10);break;case 3:Rr(e,6);break;default:Rr(e,2)}}}function O1(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Rr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=ct(e.kb,e);n||(n=new Mr("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||yl(n,"https"),lu(n)),DI(n.toString(),r)}else yt(2);e.G=0,e.l&&e.l.va(t),F1(e),A1(e)}M.kb=function(e){e?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function F1(e){if(e.G=0,e.la=[],e.l){const t=S1(e.h);(t.length!=0||e.i.length!=0)&&(zm(e.la,t),zm(e.la,e.i),e.h.i.length=0,gf(e.i),e.i.length=0),e.l.ua()}}function M1(e,t,n){var r=n instanceof Mr?Rn(n):new Mr(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),vl(r,r.m);else{var i=Y.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Mr(null,void 0);r&&yl(s,r),t&&(s.g=t),i&&vl(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&ve(r,n,t),ve(r,"VER",e.ma),Lo(e,r),r}function U1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new De(new Po({jb:!0})):new De(e.ra),t.Ka(e.H),t}function V1(){}M=V1.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Ra=function(){};function _l(){if(Vi&&!(10<=Number(YT)))throw Error("Environmental error: no available transport.")}_l.prototype.g=function(e,t){return new Lt(e,t)};function Lt(e,t){Ge.call(this),this.g=new N1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!pl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ji(this)}nt(Lt,Ge);Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;yt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=M1(e,null,e.V),du(e)};Lt.prototype.close=function(){$f(this.g)};Lt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Cf(e),e=n);t.i.push(new kI(t.ab++,e)),t.G==3&&du(t)};Lt.prototype.M=function(){this.g.l=null,delete this.j,$f(this.g),delete this.g,Lt.X.M.call(this)};function B1(e){xf.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}nt(B1,xf);function b1(){Df.call(this),this.status=1}nt(b1,Df);function Ji(e){this.g=e}nt(Ji,V1);Ji.prototype.xa=function(){et(this.g,"a")};Ji.prototype.wa=function(e){et(this.g,new B1(e))};Ji.prototype.va=function(e){et(this.g,new b1)};Ji.prototype.ua=function(){et(this.g,"b")};_l.prototype.createWebChannel=_l.prototype.g;Lt.prototype.send=Lt.prototype.u;Lt.prototype.open=Lt.prototype.m;Lt.prototype.close=Lt.prototype.close;su.NO_ERROR=0;su.TIMEOUT=8;su.HTTP_ERROR=6;o1.COMPLETE="complete";a1.EventType=No;No.OPEN="a";No.CLOSE="b";No.ERROR="c";No.MESSAGE="d";Ge.prototype.listen=Ge.prototype.N;De.prototype.listenOnce=De.prototype.O;De.prototype.getLastError=De.prototype.Oa;De.prototype.getLastErrorCode=De.prototype.Ea;De.prototype.getStatus=De.prototype.aa;De.prototype.getResponseJson=De.prototype.Sa;De.prototype.getResponseText=De.prototype.fa;De.prototype.send=De.prototype.da;De.prototype.setWithCredentials=De.prototype.Ka;var LI=function(){return new _l},OI=function(){return iu()},Ec=su,FI=o1,MI=Jr,eg={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},UI=Po,ma=a1,VI=De;const tg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new f0("@firebase/firestore");function ng(){return Wr.logLevel}function B(e,...t){if(Wr.logLevel<=ae.DEBUG){const n=t.map(Ff);Wr.debug(`Firestore (${Zi}): ${e}`,...n)}}function Pn(e,...t){if(Wr.logLevel<=ae.ERROR){const n=t.map(Ff);Wr.error(`Firestore (${Zi}): ${e}`,...n)}}function El(e,...t){if(Wr.logLevel<=ae.WARN){const n=t.map(Ff);Wr.warn(`Firestore (${Zi}): ${e}`,...n)}}function Ff(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+e;throw Pn(t),new Error(t)}function me(e,t){e||Q()}function J(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Xr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}}class bI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zI{constructor(t){this.t=t,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ar,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ar)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string"),new ot(t)}}class jI{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class HI{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new jI(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WI{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(me(typeof n.token=="string"),this.T=n.token,new qI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=KI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function le(e,t){return e<t?-1:e>t?1:0}function Bi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?le(this.nanoseconds,t.nanoseconds):le(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.timestamp=t}static fromTimestamp(t){return new X(t)}static min(){return new X(new Ve(0,0))}static max(){return new X(new Ve(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,n,r){n===void 0?n=0:n>t.length&&Q(),r===void 0?r=t.length-n:r>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return fo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class we extends fo{construct(t,n,r){return new we(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new q(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const GI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends fo{construct(t,n,r){return new ut(t,n,r)}static isValidIdentifier(t){return GI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new q(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.path=t}static fromPath(t){return new H(we.fromString(t))}static fromName(t){return new H(we.fromString(t).popFirst(5))}static empty(){return new H(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return we.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new H(new we(t.slice()))}}function QI(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new fr(i,H.empty(),t)}function YI(e){return new fr(e.readTime,e.key,-1)}class fr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(X.min(),H.empty(),-1)}static max(){return new fr(X.max(),H.empty(),-1)}}function XI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=H.comparator(e.documentKey,t.documentKey),n!==0?n:le(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==JI)throw e;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Fo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}Mf.ct=-1;function fu(e){return e==null}function Sl(e){return e===0&&1/e==-1/0}function ex(e){return typeof e=="number"&&Number.isInteger(e)&&!Sl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function H1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t,n){this.comparator=t,this.root=n||Je.EMPTY}insert(t,n){return new ze(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ze(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ga(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ga(this.root,t,this.comparator,!1)}getReverseIterator(){return new ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ga(this.root,t,this.comparator,!0)}}class ga{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Je.RED,this.left=i??Je.EMPTY,this.right=s??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Je(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Je.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Je(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new ze(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ig(this.data.getIterator())}getIteratorFrom(t){return new ig(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Be(this.comparator);return n.data=t,n}}class ig{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.fields=t,t.sort(ut.comparator)}static empty(){return new Rt([])}unionWith(t){let n=new Be(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Rt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Bi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tx("Invalid base64 string: "+i):i}}(t);return new ft(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new ft(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return le(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const nx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(e){if(me(!!e),typeof e=="string"){let t=0;const n=nx.exec(e);if(me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$e(e.seconds),nanos:$e(e.nanos)}}function $e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function bi(e){return typeof e=="string"?ft.fromBase64String(e):ft.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function W1(e){const t=e.mapValue.fields.__previous_value__;return q1(t)?W1(t):t}function po(e){const t=pr(e.mapValue.fields.__local_write_time__.timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,n,r,i,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class mo{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof mo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Kr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?q1(e)?4:ix(e)?9007199254740991:10:Q()}function mn(e,t){if(e===t)return!0;const n=Kr(e);if(n!==Kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return po(e).isEqual(po(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=pr(r.timestampValue),o=pr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return bi(r.bytesValue).isEqual(bi(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return $e(r.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(r.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return $e(r.integerValue)===$e(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=$e(r.doubleValue),o=$e(i.doubleValue);return s===o?Sl(s)===Sl(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Bi(e.arrayValue.values||[],t.arrayValue.values||[],mn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(rg(s)!==rg(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!mn(s[a],o[a])))return!1;return!0}(e,t);default:return Q()}}function go(e,t){return(e.values||[]).find(n=>mn(n,t))!==void 0}function zi(e,t){if(e===t)return 0;const n=Kr(e),r=Kr(t);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=$e(i.integerValue||i.doubleValue),a=$e(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return sg(e.timestampValue,t.timestampValue);case 4:return sg(po(e),po(t));case 5:return le(e.stringValue,t.stringValue);case 6:return function(i,s){const o=bi(i),a=bi(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=le(o[l],a[l]);if(u!==0)return u}return le(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=le($e(i.latitude),$e(s.latitude));return o!==0?o:le($e(i.longitude),$e(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=zi(o[l],a[l]);if(u)return u}return le(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===ya.mapValue&&s===ya.mapValue)return 0;if(i===ya.mapValue)return 1;if(s===ya.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=le(a[c],u[c]);if(f!==0)return f;const h=zi(o[a[c]],l[u[c]]);if(h!==0)return h}return le(a.length,u.length)}(e.mapValue,t.mapValue);default:throw Q()}}function sg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return le(e,t);const n=pr(e),r=pr(t),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function ji(e){return Qh(e)}function Qh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=pr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,H.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Qh(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Qh(r.fields[a])}`;return s+"}"}(e.mapValue):Q();var t,n}function Yh(e){return!!e&&"integerValue"in e}function Uf(e){return!!e&&"arrayValue"in e}function og(e){return!!e&&"nullValue"in e}function ag(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Oa(e){return!!e&&"mapValue"in e}function Ms(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ms(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ms(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ix(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.value=t}static empty(){return new Ct({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Oa(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ms(n)}setAll(t){let n=ut.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ms(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Oa(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Oa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Zr(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ct(Ms(this.value))}}function K1(e){const t=[];return Zr(e.fields,(n,r)=>{const i=new ut([n]);if(Oa(r)){const s=K1(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Rt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new lt(t,0,X.min(),X.min(),X.min(),Ct.empty(),0)}static newFoundDocument(t,n,r,i){return new lt(t,1,n,X.min(),r,i,0)}static newNoDocument(t,n){return new lt(t,2,n,X.min(),X.min(),Ct.empty(),0)}static newUnknownDocument(t,n){return new lt(t,3,n,X.min(),X.min(),Ct.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof lt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,n){this.position=t,this.inclusive=n}}function lg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=zi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ug(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,n="asc"){this.field=t,this.dir=n}}function sx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class Me extends G1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new ax(t,n,r):n==="array-contains"?new cx(t,r):n==="in"?new hx(t,r):n==="not-in"?new dx(t,r):n==="array-contains-any"?new fx(t,r):new Me(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new lx(t,r):new ux(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zi(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(zi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gn extends G1{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new gn(t,n)}matches(t){return Q1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function Q1(e){return e.op==="and"}function Y1(e){return ox(e)&&Q1(e)}function ox(e){for(const t of e.filters)if(t instanceof gn)return!1;return!0}function Xh(e){if(e instanceof Me)return e.field.canonicalString()+e.op.toString()+ji(e.value);if(Y1(e))return e.filters.map(t=>Xh(t)).join(",");{const t=e.filters.map(n=>Xh(n)).join(",");return`${e.op}(${t})`}}function X1(e,t){return e instanceof Me?function(n,r){return r instanceof Me&&n.op===r.op&&n.field.isEqual(r.field)&&mn(n.value,r.value)}(e,t):e instanceof gn?function(n,r){return r instanceof gn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&X1(s,r.filters[o]),!0):!1}(e,t):void Q()}function J1(e){return e instanceof Me?function(t){return`${t.field.canonicalString()} ${t.op} ${ji(t.value)}`}(e):e instanceof gn?function(t){return t.op.toString()+" {"+t.getFilters().map(J1).join(" ,")+"}"}(e):"Filter"}class ax extends Me{constructor(t,n,r){super(t,n,r),this.key=H.fromName(r.referenceValue)}matches(t){const n=H.comparator(t.key,this.key);return this.matchesComparison(n)}}class lx extends Me{constructor(t,n){super(t,"in",n),this.keys=Z1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ux extends Me{constructor(t,n){super(t,"not-in",n),this.keys=Z1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Z1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class cx extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Uf(n)&&go(n.arrayValue,this.value)}}class hx extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&go(this.value.arrayValue,n)}}class dx extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!go(this.value.arrayValue,n)}}class fx extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Uf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>go(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function cg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new px(e,t,n,r,i,s,o)}function Vf(e){const t=J(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Xh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ji(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ji(r)).join(",")),t.ft=n}return t.ft}function Bf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!sx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!X1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ug(e.startAt,t.startAt)&&ug(e.endAt,t.endAt)}function Jh(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function mx(e,t,n,r,i,s,o,a){return new pu(e,t,n,r,i,s,o,a)}function ew(e){return new pu(e)}function hg(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function gx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yx(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function vx(e){return e.collectionGroup!==null}function Di(e){const t=J(e);if(t.dt===null){t.dt=[];const n=yx(t),r=gx(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new Us(n)),t.dt.push(new Us(ut.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Us(ut.keyField(),s))}}}return t.dt}function $n(e){const t=J(e);if(!t.wt)if(t.limitType==="F")t.wt=cg(t.path,t.collectionGroup,Di(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Di(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Us(s.field,o))}const r=t.endAt?new Cl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cl(t.startAt.position,t.startAt.inclusive):null;t.wt=cg(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.wt}function Zh(e,t,n){return new pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mu(e,t){return Bf($n(e),$n(t))&&e.limitType===t.limitType}function tw(e){return`${Vf($n(e))}|lt:${e.limitType}`}function ed(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>J1(r)).join(", ")}]`),fu(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ji(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ji(r)).join(",")),`Target(${n})`}($n(e))}; limitType=${e.limitType})`}function gu(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):H.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Di(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=lg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Di(n),r)||n.endAt&&!function(i,s,o){const a=lg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Di(n),r))}(e,t)}function wx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nw(e){return(t,n)=>{let r=!1;for(const i of Di(e)){const s=_x(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _x(e,t,n){const r=e.field.isKeyField()?H.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?zi(a,l):Q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new ze(H.comparator);function Ln(){return Ex}const rw=new ze(H.comparator);function Ts(...e){let t=rw;for(const n of e)t=t.insert(n.key,n);return t}function iw(e){let t=rw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Pr(){return Vs()}function sw(){return Vs()}function Vs(){return new es(e=>e.toString(),(e,t)=>e.isEqual(t))}const Sx=new ze(H.comparator),Cx=new Be(H.comparator);function te(...e){let t=Cx;for(const n of e)t=t.add(n);return t}const kx=new Be(le);function ow(){return kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(t)?"-0":t}}function lw(e){return{integerValue:""+e}}function Tx(e,t){return ex(t)?lw(t):aw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this._=void 0}}function Ix(e,t,n){return e instanceof kl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof yo?cw(e,t):e instanceof vo?hw(e,t):function(r,i){const s=uw(r,i),o=dg(s)+dg(r._t);return Yh(s)&&Yh(r._t)?lw(o):aw(r.serializer,o)}(e,t)}function xx(e,t,n){return e instanceof yo?cw(e,t):e instanceof vo?hw(e,t):n}function uw(e,t){return e instanceof Tl?Yh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class kl extends yu{}class yo extends yu{constructor(t){super(),this.elements=t}}function cw(e,t){const n=dw(t);for(const r of e.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class vo extends yu{constructor(t){super(),this.elements=t}}function hw(e,t){let n=dw(t);for(const r of e.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}class Tl extends yu{constructor(t,n){super(),this.serializer=t,this._t=n}}function dg(e){return $e(e.integerValue||e.doubleValue)}function dw(e){return Uf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Dx(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof yo&&r instanceof yo||n instanceof vo&&r instanceof vo?Bi(n.elements,r.elements,mn):n instanceof Tl&&r instanceof Tl?mn(n._t,r._t):n instanceof kl&&r instanceof kl}(e.transform,t.transform)}class Nx{constructor(t,n){this.version=t,this.transformResults=n}}class fn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new fn}static exists(t){return new fn(void 0,t)}static updateTime(t){return new fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fa(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class vu{}function fw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mw(e.key,fn.none()):new Mo(e.key,e.data,fn.none());{const n=e.data,r=Ct.empty();let i=new Be(ut.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Er(e.key,r,new Rt(i.toArray()),fn.none())}}function Ax(e,t,n){e instanceof Mo?function(r,i,s){const o=r.value.clone(),a=pg(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Er?function(r,i,s){if(!Fa(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=pg(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(pw(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Bs(e,t,n,r){return e instanceof Mo?function(i,s,o,a){if(!Fa(i.precondition,s))return o;const l=i.value.clone(),u=mg(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Er?function(i,s,o,a){if(!Fa(i.precondition,s))return o;const l=mg(i.fieldTransforms,a,s),u=s.data;return u.setAll(pw(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Fa(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function Rx(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=uw(r.transform,i||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,s))}return n||null}function fg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Bi(n,r,(i,s)=>Dx(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mo extends vu{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Er extends vu{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function pg(e,t,n){const r=new Map;me(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,xx(o,a,n[i]))}return r}function mg(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ix(s,o,t))}return r}class mw extends vu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Px extends vu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Ax(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Bs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Bs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=sw();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=fw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),te())}isEqual(t){return this.batchId===t.batchId&&Bi(this.mutations,t.mutations,(n,r)=>fg(n,r))&&Bi(this.baseMutations,t.baseMutations,(n,r)=>fg(n,r))}}class bf{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){me(t.mutations.length===r.length);let i=Sx;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bf(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,re;function Fx(e){switch(e){default:return Q();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function gw(e){if(e===void 0)return Pn("GRPC error has no .code"),x.UNKNOWN;switch(e){case Pe.OK:return x.OK;case Pe.CANCELLED:return x.CANCELLED;case Pe.UNKNOWN:return x.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return x.INTERNAL;case Pe.UNAVAILABLE:return x.UNAVAILABLE;case Pe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Pe.NOT_FOUND:return x.NOT_FOUND;case Pe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Pe.ABORTED:return x.ABORTED;case Pe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Pe.DATA_LOSS:return x.DATA_LOSS;default:return Q()}}(re=Pe||(Pe={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return va}static getOrCreateInstance(){return va===null&&(va=new zf),va}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let va=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Uo.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wu(X.min(),i,ow(),Ln(),te())}}class Uo{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Uo(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class yw{constructor(t,n){this.targetId=t,this.Et=n}}class vw{constructor(t,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gg{constructor(){this.At=0,this.Rt=vg(),this.vt=ft.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=te(),n=te(),r=te();return this.Rt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Uo(this.vt,this.bt,t,n,r)}xt(){this.Pt=!1,this.Rt=vg()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Mx{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=Ln(),this.qt=yg(),this.Ut=new Be(le)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const r=this.jt(n);switch(t.state){case 0:this.Wt(n)&&r.Dt(t.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(t){var n;const r=t.targetId,i=t.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Jh(o))if(i===0){const a=new H(o.path);this.Qt(r,a,lt.newNoDocument(a,X.min()))}else me(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=zf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Jh(a.target)){const l=new H(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,lt.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=te();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const i=new wu(t,n,this.Ut,this.Lt,r);return this.Lt=Ln(),this.qt=yg(),this.Ut=new Be(le),i}Gt(t,n){if(!this.Wt(t))return;const r=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new gg,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Be(le),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||B("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new gg),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function yg(){return new ze(H.comparator)}function vg(){return new ze(H.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Vx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Bx=(()=>({and:"AND",or:"OR"}))();class bx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Il(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ww(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zx(e,t){return Il(e,t.toTimestamp())}function pn(e){return me(!!e),X.fromTimestamp(function(t){const n=pr(t);return new Ve(n.seconds,n.nanos)}(e))}function jf(e,t){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function _w(e){const t=we.fromString(e);return me(kw(t)),t}function td(e,t){return jf(e.databaseId,t.path)}function Sc(e,t){const n=_w(t);if(n.get(1)!==e.databaseId.projectId)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(Ew(n))}function nd(e,t){return jf(e.databaseId,t)}function jx(e){const t=_w(e);return t.length===4?we.emptyPath():Ew(t)}function rd(e){return new we(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ew(e){return me(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function wg(e,t,n){return{name:td(e,t),fields:n.value.mapValue.fields}}function Hx(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(me(u===void 0||typeof u=="string"),ft.fromBase64String(u||"")):(me(u===void 0||u instanceof Uint8Array),ft.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?x.UNKNOWN:gw(l.code);return new q(u,l.message||"")}(o);n=new vw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sc(e,r.document.name),s=pn(r.document.updateTime),o=r.document.createTime?pn(r.document.createTime):X.min(),a=new Ct({mapValue:{fields:r.document.fields}}),l=lt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ma(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Sc(e,r.document),s=r.readTime?pn(r.readTime):X.min(),o=lt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ma([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Sc(e,r.document),s=r.removedTargetIds||[];n=new Ma([],s,i,null)}else{if(!("filter"in t))return Q();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new Ox(i),o=r.targetId;n=new yw(o,s)}}return n}function qx(e,t){let n;if(t instanceof Mo)n={update:wg(e,t.key,t.value)};else if(t instanceof mw)n={delete:td(e,t.key)};else if(t instanceof Er)n={update:wg(e,t.key,t.data),updateMask:eD(t.fieldMask)};else{if(!(t instanceof Px))return Q();n={verify:td(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof kl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Tl)return{fieldPath:s.field.canonicalString(),increment:o._t};throw Q()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:zx(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q()}(e,t.precondition)),n}function Wx(e,t){return e&&e.length>0?(me(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?pn(r.updateTime):pn(i);return s.isEqual(X.min())&&(s=pn(i)),new Nx(s,r.transformResults||[])}(n,t))):[]}function Kx(e,t){return{documents:[nd(e,t.path)]}}function Gx(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=nd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Cw(gn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:si(c.field),direction:Xx(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||fu(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function Qx(e){let t=jx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=Sw(c);return f instanceof gn&&Y1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new Us(oi(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,fu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new Cl(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new Cl(h,f)}(n.endAt)),mx(t,i,o,s,a,"F",l,u)}function Yx(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Q()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function Sw(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=oi(t.unaryFilter.field);return Me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=oi(t.unaryFilter.field);return Me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oi(t.unaryFilter.field);return Me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=oi(t.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(t){return Me.create(oi(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return gn.create(t.compositeFilter.filters.map(n=>Sw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(e):Q()}function Xx(e){return Ux[e]}function Jx(e){return Vx[e]}function Zx(e){return Bx[e]}function si(e){return{fieldPath:e.canonicalString()}}function oi(e){return ut.fromServerFormat(e.fieldPath)}function Cw(e){return e instanceof Me?function(t){if(t.op==="=="){if(ag(t.value))return{unaryFilter:{field:si(t.field),op:"IS_NAN"}};if(og(t.value))return{unaryFilter:{field:si(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ag(t.value))return{unaryFilter:{field:si(t.field),op:"IS_NOT_NAN"}};if(og(t.value))return{unaryFilter:{field:si(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:si(t.field),op:Jx(t.op),value:t.value}}}(e):e instanceof gn?function(t){const n=t.getFilters().map(r=>Cw(r));return n.length===1?n[0]:{compositeFilter:{op:Zx(t.op),filters:n}}}(e):Q()}function eD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function kw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,r,i,s=X.min(),o=X.min(),a=ft.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.se=t}}function nD(e){const t=Qx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Zh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.He=new iD}addToCollectionParentIndex(t,n){return this.He.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(fr.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class iD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Be(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Be(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Hi(0)}static bn(){return new Hi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changes=new es(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,lt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Bs(r.mutation,i,Rt.empty(),Ve.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,te()).next(()=>r))}getLocalViewOfDocuments(t,n,r=te()){const i=Pr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Ts();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Pr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,te()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ln();const o=Vs(),a=Vs();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Er)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Bs(c.mutation,u,c.mutation.getFieldMask(),Ve.now())):o.set(u.key,Rt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new oD(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Vs();let i=new ze((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Rt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||te()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=sw();c.forEach(h=>{if(!s.has(h)){const m=fw(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return H.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):vx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):N.resolve(Pr());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,te())).next(c=>({batchId:a,changes:iw(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new H(n)).next(r=>{let i=Ts();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=Ts();return this.indexManager.getCollectionParents(t,i).next(o=>N.forEach(o,a=>{const l=function(u,c){return new pu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,lt.newInvalidDocument(u)))});let o=Ts();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Bs(u.mutation,l,Rt.empty(),Ve.now()),gu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return N.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:pn(r.createTime)}),N.resolve()}getNamedQuery(t,n){return N.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:nD(r.bundledQuery),readTime:pn(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new ze(H.comparator),this.ts=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Pr();return N.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.re(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=Pr(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new ze((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Pr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Pr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}re(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Lx(n,r));let s=this.ts.get(n);s===void 0&&(s=te(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.es=new Be(qe.ns),this.ss=new Be(qe.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const r=new qe(t,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.us(new qe(t,n))}cs(t,n){t.forEach(r=>this.removeReference(r,n))}hs(t){const n=new H(new we([])),r=new qe(n,t),i=new qe(n,t+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new H(new we([])),r=new qe(n,t),i=new qe(n,t+1);let s=te();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new qe(t,0),r=this.es.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return H.comparator(t.key,n.key)||le(t.ds,n.ds)}static rs(t,n){return le(t.ds,n.ds)||H.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Be(qe.ns)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $x(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new qe(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Be(le);return n.forEach(i=>{const s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),N.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new qe(new H(s),0);let a=new Be(le);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),N.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){me(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return N.forEach(n.mutations,i=>{const s=new qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=r})}En(t){}containsKey(t,n){const r=new qe(n,0),i=this._s.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.Ts=t,this.docs=new ze(H.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(n))}getEntries(t,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():lt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ln();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||XI(YI(c),r)<=0||(i.has(c.key)||gu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Q()}Es(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new dD(this)}getSize(t){return N.resolve(this.size)}}class dD extends sD{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.persistence=t,this.As=new es(n=>Vf(n),Bf),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Hf,this.targetCount=0,this.bs=Hi.vn()}forEachTarget(t,n){return this.As.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),N.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new Hi(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Sn(n),N.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.As.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.vs.os(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.vs.fs(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new Mf(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new fD(this),this.indexManager=new rD,this.remoteDocumentCache=function(r){return new hD(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new tD(n),this.xs=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new uD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ps[t.toKey()];return r||(r=new cD(n,this.referenceDelegate),this.Ps[t.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,r){B("MemoryPersistence","Starting transaction:",t);const i=new mD(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(t,n){return N.or(Object.values(this.Ps).map(r=>()=>r.containsKey(t,n)))}}class mD extends ZI{constructor(t){super(),this.currentSequenceNumber=t}}class qf{constructor(t){this.persistence=t,this.$s=new Hf,this.Ms=null}static Fs(t){return new qf(t)}get Bs(){if(this.Ms)return this.Ms;throw Q()}addReference(t,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),N.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Bs,r=>{const i=H.fromPath(r);return this.Ls(t,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return N.or([()=>N.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}static Di(t,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Wf(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ni(t,n).next(s=>s||this.ki(t,n,i,r)).next(s=>s||this.Oi(t,n))}Ni(t,n){if(hg(n))return N.resolve(null);let r=$n(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zh(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=te(...s);return this.xi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(t,Zh(n,null,"F")):this.Fi(t,u,n,l)}))})))}ki(t,n,r,i){return hg(n)||i.isEqual(X.min())?this.Oi(t,n):this.xi.getDocuments(t,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(t,n):(ng()<=ae.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ed(n)),this.Fi(t,o,n,QI(i,-1)))})}$i(t,n){let r=new Be(nw(t));return n.forEach((i,s)=>{gu(t,s)&&(r=r.add(s))}),r}Mi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(t,n){return ng()<=ae.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",ed(n)),this.xi.getDocumentsMatchingQuery(t,n,fr.min())}Fi(t,n,r,i){return this.xi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n,r,i){this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new ze(le),this.qi=new es(s=>Vf(s),Bf),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aD(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function vD(e,t,n,r){return new yD(e,t,n,r)}async function Tw(e,t){const n=J(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=te();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function wD(e,t){const n=J(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,f=c.keys();let h=N.resolve();return f.forEach(m=>{h=h.next(()=>u.getEntry(a,m)).next(w=>{const v=l.docVersions.get(m);me(v!==null),w.version.compareTo(v)<0&&(c.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=te();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Iw(e){const t=J(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function _D(e,t){const n=J(e),r=t.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(f)?m=m.withResumeToken(ft.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(w,v,E){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,m,c)&&a.push(n.Ds.updateTargetData(s,m))});let l=Ln(),u=te();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(ED(s,o,t.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(X.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(f=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function ED(e,t,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ln();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function SD(e,t){const n=J(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function CD(e,t){const n=J(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,t).next(s=>s?(i=s,N.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Ur(t,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(t,r.targetId)),r})}async function id(e,t,n){const r=J(e),i=r.Li.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fo(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Li=r.Li.remove(t),r.qi.delete(i.target)}function _g(e,t,n){const r=J(e);let i=X.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=J(a),f=c.qi.get(u);return f!==void 0?N.resolve(c.Li.get(f)):c.Ds.getTargetData(l,u)}(r,o,$n(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,t,n?i:X.min(),n?s:te())).next(a=>(kD(r,wx(t),a),{documents:a,Wi:s})))}function kD(e,t,n){let r=e.Ui.get(t)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ui.set(t,r)}class Eg{constructor(){this.activeTargetIds=ow()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TD{constructor(){this.Br=new Eg,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,r){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new Eg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa=null;function Cc(){return wa===null?wa=268435456+Math.round(2147483648*Math.random()):wa++,"0x"+wa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="WebChannelConnection";class ND extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,r,i,s){const o=Cc(),a=this.ao(t,n);B("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(t,a,l,r).then(u=>(B("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw El("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(t,n,r,i,s,o){return this.co(t,n,r,i,s)}ho(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ao(t,n){const r=xD[t];return`${this.ro}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,r,i){const s=Cc();return new Promise((o,a)=>{const l=new VI;l.setWithCredentials(!0),l.listenOnce(FI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ec.NO_ERROR:const c=l.getResponseJson();B(st,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ec.TIMEOUT:B(st,`RPC '${t}' ${s} timed out`),a(new q(x.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const f=l.getStatus();if(B(st,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const w=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(E)>=0?E:x.UNKNOWN}(m.status);a(new q(w,m.message))}else a(new q(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(x.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{B(st,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);B(st,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=Cc(),s=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=LI(),a=OI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new UI({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");B(st,`Creating RPC '${t}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let f=!1,h=!1;const m=new DD({Wr:v=>{h?B(st,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(f||(B(st,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),B(st,`RPC '${t}' stream ${i} sending:`,v),c.send(v))},Hr:()=>c.close()}),w=(v,E,p)=>{v.listen(E,d=>{try{p(d)}catch(g){setTimeout(()=>{throw g},0)}})};return w(c,ma.EventType.OPEN,()=>{h||B(st,`RPC '${t}' stream ${i} transport opened.`)}),w(c,ma.EventType.CLOSE,()=>{h||(h=!0,B(st,`RPC '${t}' stream ${i} transport closed`),m.so())}),w(c,ma.EventType.ERROR,v=>{h||(h=!0,El(st,`RPC '${t}' stream ${i} transport errored:`,v),m.so(new q(x.UNAVAILABLE,"The operation could not be completed")))}),w(c,ma.EventType.MESSAGE,v=>{var E;if(!h){const p=v.data[0];me(!!p);const d=p,g=d.error||((E=d[0])===null||E===void 0?void 0:E.error);if(g){B(st,`RPC '${t}' stream ${i} received error:`,g);const _=g.status;let T=function($){const L=Pe[$];if(L!==void 0)return gw(L)}(_),P=g.message;T===void 0&&(T=x.INTERNAL,P="Unknown error status: "+_+" with message "+g.message),h=!0,m.so(new q(T,P)),c.close()}else B(st,`RPC '${t}' stream ${i} received:`,p),m.io(p)}}),w(a,MI.STAT_EVENT,v=>{v.stat===eg.PROXY?B(st,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===eg.NOPROXY&&B(st,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.no()},0),m}}function kc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(e){return new bx(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n,r,i,s,o,a,l){this.Ws=t,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new xw(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{t(()=>{const i=new q(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(t,n){const r=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return B("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AD extends Dw{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=Hx(this.serializer,t),r=function(i){if(!("targetChange"in i))return X.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?pn(s.readTime):X.min()}(t);return this.listener.zo(n,r)}jo(t){const n={};n.database=rd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Jh(a)?{documents:Kx(i,a)}:{query:Gx(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=ww(i,s.resumeToken):s.snapshotVersion.compareTo(X.min())>0&&(o.readTime=Il(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,t);const r=Yx(this.serializer,t);r&&(n.labels=r),this.Fo(n)}Wo(t){const n={};n.database=rd(this.serializer),n.removeTarget=t,this.Fo(n)}}class RD extends Dw{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(me(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const n=Wx(t.writeResults,t.commitTime),r=pn(t.commitTime);return this.listener.Zo(r,n)}return me(!t.writeResults||t.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=rd(this.serializer),this.Fo(t)}Yo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>qx(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(x.UNKNOWN,i.toString())})}fo(t,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(x.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class $D{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Pn(n),this.ru=!1):B("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{ei(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=J(a);l.du.add(4),await Vo(l),l.mu.set("Unknown"),l.du.delete(4),await Eu(l)}(this))})}),this.mu=new $D(r,i)}}async function Eu(e){if(ei(e))for(const t of e.wu)await t(!0)}async function Vo(e){for(const t of e.wu)await t(!1)}function Nw(e,t){const n=J(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Qf(n)?Gf(n):ts(n).No()&&Kf(n,t))}function Aw(e,t){const n=J(e),r=ts(n);n.fu.delete(t),r.No()&&Rw(n,t),n.fu.size===0&&(r.No()?r.$o():ei(n)&&n.mu.set("Unknown"))}function Kf(e,t){e.gu.Ot(t.targetId),ts(e).jo(t)}function Rw(e,t){e.gu.Ot(t),ts(e).Wo(t)}function Gf(e){e.gu=new Mx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),ts(e).start(),e.mu.ou()}function Qf(e){return ei(e)&&!ts(e).xo()&&e.fu.size>0}function ei(e){return J(e).du.size===0}function Pw(e){e.gu=void 0}async function OD(e){e.fu.forEach((t,n)=>{Kf(e,t)})}async function FD(e,t){Pw(e),Qf(e)?(e.mu.au(t),Gf(e)):e.mu.set("Unknown")}async function MD(e,t,n){if(e.mu.set("Online"),t instanceof vw&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(e,t)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await xl(e,r)}else if(t instanceof Ma?e.gu.Kt(t):t instanceof yw?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(X.min()))try{const r=await Iw(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(ft.EMPTY_BYTE_STRING,l.snapshotVersion)),Rw(i,a);const u=new Ur(l.target,a,1,l.sequenceNumber);Kf(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await xl(e,r)}}async function xl(e,t,n){if(!Fo(t))throw t;e.du.add(1),await Vo(e),e.mu.set("Offline"),n||(n=()=>Iw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await Eu(e)})}function $w(e,t){return t().catch(n=>xl(e,n,t))}async function Su(e){const t=J(e),n=mr(t);let r=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;UD(t);)try{const i=await SD(t.localStore,r);if(i===null){t.lu.length===0&&n.$o();break}r=i.batchId,VD(t,i)}catch(i){await xl(t,i)}Lw(t)&&Ow(t)}function UD(e){return ei(e)&&e.lu.length<10}function VD(e,t){e.lu.push(t);const n=mr(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Lw(e){return ei(e)&&!mr(e).xo()&&e.lu.length>0}function Ow(e){mr(e).start()}async function BD(e){mr(e).tu()}async function bD(e){const t=mr(e);for(const n of e.lu)t.Yo(n.mutations)}async function zD(e,t,n){const r=e.lu.shift(),i=bf.from(r,t,n);await $w(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Su(e)}async function jD(e,t){t&&mr(e).Jo&&await async function(n,r){if(i=r.code,Fx(i)&&i!==x.ABORTED){const s=n.lu.shift();mr(n).Oo(),await $w(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Su(n)}var i}(e,t),Lw(e)&&Ow(e)}async function Cg(e,t){const n=J(e);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=ei(n);n.du.add(3),await Vo(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await Eu(n)}async function HD(e,t){const n=J(e);t?(n.du.delete(2),await Eu(n)):t||(n.du.add(2),await Vo(n),n.mu.set("Unknown"))}function ts(e){return e.yu||(e.yu=function(t,n,r){const i=J(t);return i.nu(),new AD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:OD.bind(null,e),Zr:FD.bind(null,e),zo:MD.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),Qf(e)?Gf(e):e.mu.set("Unknown")):(await e.yu.stop(),Pw(e))})),e.yu}function mr(e){return e.pu||(e.pu=function(t,n,r){const i=J(t);return i.nu(),new RD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:BD.bind(null,e),Zr:jD.bind(null,e),Xo:bD.bind(null,e),Zo:zD.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Oo(),await Su(e)):(await e.pu.stop(),e.lu.length>0&&(B("RemoteStore",`Stopping write stream with ${e.lu.length} pending writes`),e.lu=[]))})),e.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Yf(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xf(e,t){if(Pn("AsyncQueue",`${t}: ${e}`),Fo(e))return new q(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.comparator=t?(n,r)=>t(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Ts(),this.sortedSet=new ze(this.comparator)}static emptySet(t){return new Ni(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ni)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ni;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Iu=new ze(H.comparator)}track(t){const n=t.doc.key,r=this.Iu.get(n);r?t.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Iu=this.Iu.remove(n):t.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):Q():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,r)=>{t.push(r)}),t}}class qi{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qi(t,n,Ni.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Eu=void 0,this.listeners=[]}}class WD{constructor(){this.queries=new es(t=>tw(t),mu),this.onlineState="Unknown",this.Au=new Set}}async function KD(e,t){const n=J(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qD),i)try{s.Eu=await n.onListen(r)}catch(o){const a=Xf(o,`Initialization of query '${ed(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Ru(n.onlineState),s.Eu&&t.vu(s.Eu)&&Jf(n)}async function GD(e,t){const n=J(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function QD(e,t){const n=J(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&Jf(n)}function YD(e,t,n){const r=J(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Jf(e){e.Au.forEach(t=>{t.next()})}class XD{constructor(t,n,r){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new qi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=qi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.key=t}}class Mw{constructor(t){this.key=t}}class JD{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=te(),this.mutatedKeys=te(),this.Ku=nw(t),this.Gu=new Ni(this.Ku)}get Qu(){return this.Lu}zu(t,n){const r=n?n.ju:new kg,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),m=gu(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?w!==v&&(r.track({type:3,doc:m}),E=!0):this.Wu(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Ku(m,l)>0||u&&this.Ku(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.ju.Tu();s.sort((u,c)=>function(f,h){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return m(f)-m(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new qi(this.query,t.Gu,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new kg,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=te(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return t.forEach(r=>{this.Uu.has(r)||n.push(new Mw(r))}),this.Uu.forEach(r=>{t.has(r)||n.push(new Fw(r))}),n}Xu(t){this.Lu=t.Wi,this.Uu=te();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return qi.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class ZD{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class eN{constructor(t){this.key=t,this.ec=!1}}class tN{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new es(a=>tw(a),mu),this.ic=new Map,this.rc=new Set,this.oc=new ze(H.comparator),this.uc=new Map,this.cc=new Hf,this.ac={},this.hc=new Map,this.lc=Hi.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function nN(e,t){const n=dN(e);let r,i;const s=n.sc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await CD(n.localStore,$n(t));n.isPrimaryClient&&Nw(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await rN(n,t,r,a==="current",o.resumeToken)}return i}async function rN(e,t,n,r,i){e.dc=(f,h,m)=>async function(w,v,E,p){let d=v.view.zu(E);d.Mi&&(d=await _g(w.localStore,v.query,!1).then(({documents:T})=>v.view.zu(T,d)));const g=p&&p.targetChanges.get(v.targetId),_=v.view.applyChanges(d,w.isPrimaryClient,g);return Ig(w,v.targetId,_.Yu),_.snapshot}(e,f,h,m);const s=await _g(e.localStore,t,!0),o=new JD(t,s.Wi),a=o.zu(s.documents),l=Uo.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Ig(e,n,u.Yu);const c=new ZD(t,n,o);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function iN(e,t){const n=J(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!mu(s,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await id(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Aw(n.remoteStore,r.targetId),sd(n,r.targetId)}).catch(Oo)):(sd(n,r.targetId),await id(n.localStore,r.targetId,!0))}async function sN(e,t,n){const r=fN(e);try{const i=await function(s,o){const a=J(s),l=Ve.now(),u=o.reduce((h,m)=>h.add(m.key),te());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Ln(),w=te();return a.Ki.getEntries(h,u).next(v=>{m=v,m.forEach((E,p)=>{p.isValidDocument()||(w=w.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(v=>{c=v;const E=[];for(const p of o){const d=Rx(p,c.get(p.key).overlayedDocument);d!=null&&E.push(new Er(p.key,d,K1(d.value.mapValue),fn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(v=>{f=v;const E=v.applyToLocalDocumentSet(c,w);return a.documentOverlayCache.saveOverlays(h,v.batchId,E)})}).then(()=>({batchId:f.batchId,changes:iw(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new ze(le)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Bo(r,i.changes),await Su(r.remoteStore)}catch(i){const s=Xf(i,"Failed to persist write");n.reject(s)}}async function Uw(e,t){const n=J(e);try{const r=await _D(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?me(o.ec):i.removedDocuments.size>0&&(me(o.ec),o.ec=!1))}),await Bo(n,r,t)}catch(r){await Oo(r)}}function Tg(e,t,n){const r=J(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=J(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Ru(o)&&(l=!0)}),l&&Jf(a)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oN(e,t,n){const r=J(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),s=i&&i.key;if(s){let o=new ze(H.comparator);o=o.insert(s,lt.newNoDocument(s,X.min()));const a=te().add(s),l=new wu(X.min(),new Map,new Be(le),o,a);await Uw(r,l),r.oc=r.oc.remove(s),r.uc.delete(t),Zf(r)}else await id(r.localStore,t,!1).then(()=>sd(r,t,n)).catch(Oo)}async function aN(e,t){const n=J(e),r=t.batch.batchId;try{const i=await wD(n.localStore,t);Bw(n,r,null),Vw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bo(n,i)}catch(i){await Oo(i)}}async function lN(e,t,n){const r=J(e);try{const i=await function(s,o){const a=J(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(me(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);Bw(r,t,n),Vw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Bo(r,i)}catch(i){await Oo(i)}}function Vw(e,t){(e.hc.get(t)||[]).forEach(n=>{n.resolve()}),e.hc.delete(t)}function Bw(e,t,n){const r=J(e);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function sd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc.wc(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(r=>{e.cc.containsKey(r)||bw(e,r)})}function bw(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(Aw(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Zf(e))}function Ig(e,t,n){for(const r of n)r instanceof Fw?(e.cc.addReference(r.key,t),uN(e,r)):r instanceof Mw?(B("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||bw(e,r.key)):Q()}function uN(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(B("SyncEngine","New document in limbo: "+n),e.rc.add(r),Zf(e))}function Zf(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new H(we.fromString(t)),r=e.lc.next();e.uc.set(r,new eN(n)),e.oc=e.oc.insert(n,r),Nw(e.remoteStore,new Ur($n(ew(n.path)),r,2,Mf.ct))}}async function Bo(e,t,n){const r=J(e),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Wf.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=J(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,f=>N.forEach(f.Vi,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>N.forEach(f.Si,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Fo(c))throw c;B("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.Li.get(f),m=h.snapshotVersion,w=h.withLastLimboFreeSnapshotVersion(m);u.Li=u.Li.insert(f,w)}}}(r.localStore,s))}async function cN(e,t){const n=J(e);if(!n.currentUser.isEqual(t)){B("SyncEngine","User change. New user:",t.toKey());const r=await Tw(n.localStore,t);n.currentUser=t,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new q(x.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Bo(n,r.Qi)}}function hN(e,t){const n=J(e),r=n.uc.get(t);if(r&&r.ec)return te().add(r.key);{let i=te();const s=n.ic.get(t);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function dN(e){const t=J(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oN.bind(null,t),t.nc.zo=QD.bind(null,t.eventManager),t.nc.wc=YD.bind(null,t.eventManager),t}function fN(e){const t=J(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lN.bind(null,t),t}class xg{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=_u(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return vD(this.persistence,new gD,t.initialUser,this.serializer)}createPersistence(t){return new pD(qf.Fs,this.serializer)}createSharedClientState(t){return new TD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cN.bind(null,this.syncEngine),await HD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new WD}createDatastore(t){const n=_u(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new ND(i));var i;return function(s,o,a,l){return new PD(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>Tg(this.syncEngine,a,0),o=Sg.D()?new Sg:new ID,new LD(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new tN(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=J(t);B("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Vo(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Pn("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=j1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Xf(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Tc(e,t){e.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Tw(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Dg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vN(e);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Cg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Cg(t.remoteStore,s)),e._onlineComponents=t}function yN(e){return e.name==="FirebaseError"?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function vN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!yN(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await Tc(e,new xg)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await Tc(e,new xg);return e._offlineComponents}async function zw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await Dg(e,e._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await Dg(e,new pN))),e._onlineComponents}function wN(e){return zw(e).then(t=>t.syncEngine)}async function _N(e){const t=await zw(e),n=t.eventManager;return n.onListen=nN.bind(null,t.syncEngine),n.onUnlisten=iN.bind(null,t.syncEngine),n}function EN(e,t,n={}){const r=new ar;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new mN({next:f=>{s.enqueueAndForget(()=>GD(i,c)),f.fromCache&&a.source==="server"?l.reject(new q(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new XD(o,u,{includeMetadataChanges:!0,xu:!0});return KD(i,c)}(await _N(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(e,t,n){if(!n)throw new q(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function SN(e,t,n,r){if(t===!0&&r===!0)throw new q(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ag(e){if(!H.isDocumentKey(e))throw new q(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Rg(e){if(H.isDocumentKey(e))throw new q(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ep(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function Wi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(e);throw new q(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new q(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,SN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new q(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pg(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BI;switch(n.type){case"firstParty":return new HI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Ng.get(t);n&&(B("ComponentProvider","Removing Datastore"),Ng.delete(t),n.terminate())}(this),Promise.resolve()}}function CN(e,t,n,r={}){var i;const s=(e=Wi(e,Cu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&El("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=ot.MOCK_USER;else{o=h0(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new q(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ot(l)}e._authCredentials=new bI(new z1(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zt(this.firestore,t,this._key)}}class ku{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ku(this.firestore,t,this._query)}}class lr extends ku{constructor(t,n,r){super(t,n,ew(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zt(this.firestore,null,new H(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function Hw(e,t,...n){if(e=qt(e),jw("collection","path",t),e instanceof Cu){const r=we.fromString(t,...n);return Rg(r),new lr(e,null,r)}{if(!(e instanceof zt||e instanceof lr))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(we.fromString(t,...n));return Rg(r),new lr(e.firestore,null,r)}}function bo(e,t,...n){if(e=qt(e),arguments.length===1&&(t=j1.A()),jw("doc","path",t),e instanceof Cu){const r=we.fromString(t,...n);return Ag(r),new zt(e,null,new H(r))}{if(!(e instanceof zt||e instanceof lr))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(we.fromString(t,...n));return Ag(r),new zt(e.firestore,e instanceof lr?e.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new xw(this,"async_queue_retry"),this.qc=()=>{const n=kc();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=kc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=kc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ar;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!Fo(t))throw t;B("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=Yf.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&Q()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}class Tu extends Cu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new kN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ww(this),this._firestoreClient.terminate()}}function TN(e,t){const n=typeof e=="object"?e:w0(),r=typeof e=="string"?e:t||"(default)",i=g0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=c0("firestore");s&&CN(i,...s)}return i}function qw(e){return e._firestoreClient||Ww(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ww(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new rx(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new gN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ki(ft.fromBase64String(t))}catch(n){throw new q(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ki(ft.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return le(this._lat,t._lat)||le(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=/^__.*__$/;class xN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,n,this.fieldTransforms):new Mo(t,this.data,n,this.fieldTransforms)}}class Kw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Er(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class rp{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new rp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.ea(t),i}na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return Dl(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(Gw(this.Yc)&&IN.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class DN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||_u(t)}ua(t,n,r,i=!1){return new rp({Yc:t,methodName:n,oa:r,path:ut.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qw(e){const t=e._freezeSettings(),n=_u(e._databaseId);return new DN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function NN(e,t,n,r,i,s={}){const o=e.ua(s.merge||s.mergeFields?2:0,t,n,i);ip("Data must be an object, but it was:",o,r);const a=Yw(r,o);let l,u;if(s.merge)l=new Rt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=od(t,f,n);if(!o.contains(h))throw new q(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Jw(c,h)||c.push(h)}l=new Rt(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new xN(new Ct(a),l,u)}class xu extends tp{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xu}}function AN(e,t,n,r){const i=e.ua(1,t,n);ip("Data must be an object, but it was:",i,r);const s=[],o=Ct.empty();Zr(r,(l,u)=>{const c=sp(t,l,n);u=qt(u);const f=i.na(c);if(u instanceof xu)s.push(c);else{const h=Du(u,f);h!=null&&(s.push(c),o.set(c,h))}});const a=new Rt(s);return new Kw(o,a,i.fieldTransforms)}function RN(e,t,n,r,i,s){const o=e.ua(1,t,n),a=[od(t,r,n)],l=[i];if(s.length%2!=0)throw new q(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(od(t,s[h])),l.push(s[h+1]);const u=[],c=Ct.empty();for(let h=a.length-1;h>=0;--h)if(!Jw(u,a[h])){const m=a[h];let w=l[h];w=qt(w);const v=o.na(m);if(w instanceof xu)u.push(m);else{const E=Du(w,v);E!=null&&(u.push(m),c.set(m,E))}}const f=new Rt(u);return new Kw(c,f,o.fieldTransforms)}function Du(e,t){if(Xw(e=qt(e)))return ip("Unsupported field value:",t,e),Yw(e,t);if(e instanceof tp)return function(n,r){if(!Gw(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Du(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=qt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Tx(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:Il(r.serializer,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Il(r.serializer,i)}}if(n instanceof np)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ki)return{bytesValue:ww(r.serializer,n._byteString)};if(n instanceof zt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${ep(n)}`)}(e,t)}function Yw(e,t){const n={};return H1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(e,(r,i)=>{const s=Du(i,t.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Xw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof np||e instanceof Ki||e instanceof zt||e instanceof tp)}function ip(e,t,n){if(!Xw(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ep(n);throw r==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function od(e,t,n){if((t=qt(t))instanceof Iu)return t._internalPath;if(typeof t=="string")return sp(e,t);throw Dl("Field path arguments must be of type string or ",e,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function sp(e,t,n){if(t.search(PN)>=0)throw Dl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Iu(...t.split("."))._internalPath}catch{throw Dl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dl(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(x.INVALID_ARGUMENT,a+e+l)}function Jw(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(e_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $N extends Zw{data(){return super.data()}}function e_(e,t){return typeof t=="string"?sp(e,t):t instanceof Iu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ON{convertValue(t,n="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(bi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}}convertObject(t,n){const r={};return Zr(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new np($e(t.latitude),$e(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=W1(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(po(t));default:return null}}convertTimestamp(t){const n=pr(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=we.fromString(t);me(kw(r));const i=new mo(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class MN extends Zw{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(e_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ua extends MN{data(t={}){return super.data(t)}}class UN{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ua(this._firestore,this._userDataWriter,r.key,r,new _a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Ua(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _a(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Ua(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _a(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:VN(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class BN extends ON{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ki(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function bN(e){e=Wi(e,ku);const t=Wi(e.firestore,Tu),n=qw(t),r=new BN(t);return LN(e._query),EN(n,e._query).then(i=>new UN(t,r,e,i))}function Nu(e,t,n,...r){e=Wi(e,zt);const i=Wi(e.firestore,Tu),s=Qw(i);let o;return o=typeof(t=qt(t))=="string"||t instanceof Iu?RN(s,"updateDoc",e._key,t,n,r):AN(s,"updateDoc",e._key,t),t_(i,[o.toMutation(e._key,fn.exists(!0))])}function zN(e,t){const n=Wi(e.firestore,Tu),r=bo(e),i=FN(e.converter,t);return t_(n,[NN(Qw(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,fn.exists(!1))]).then(()=>r)}function t_(e,t){return function(n,r){const i=new ar;return n.asyncQueue.enqueueAndForget(async()=>sN(await wN(n),r,i)),i.promise}(qw(e),t)}(function(e,t=!0){(function(n){Zi=n})(y0),so(new Ui("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Tu(new zI(n.getProvider("auth-internal")),new WI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),or(tg,"3.10.0",e),or(tg,"3.10.0","esm2017")})();const jN={apiKey:"AIzaSyCh7Q3NOEeK7mk1R4u2yrwAykSOkvvpAM8",authDomain:"e-commerce-store-ea136.firebaseapp.com",projectId:"e-commerce-store-ea136",storageBucket:"e-commerce-store-ea136.appspot.com",messagingSenderId:"402830661063",appId:"1:402830661063:web:66304dfebee785a47a75e2"},n_=v0(jN),ns=TN(n_),r_=PT(n_),HN="attire-images",Au="attire-stock",i_="attire-favourites",s_="attire-cart",qN=async e=>{const{variants:t,...n}=e;for(let s=0;s<t.length;s++){const o=Array.from(t[s].images),a=WN(e.name,t[s].color,o),l=await Promise.all(a),u=GN(l),c=await Promise.all(u);t[s].images=c}const i=(await YN(e))._key.path.segments[1];await XN(i)},WN=(e,t,n)=>n.reduce((r,i)=>KN(r,i,e,t),[]),KN=(e,t,n,r)=>{const i=V0(r_,`/${HN}/${n}/${r}/${t.name}`),s=AT(i,t);return e.push(s),e},GN=e=>e.reduce(QN,[]),QN=(e,t)=>{const n=t.metadata.fullPath;return e.push(RT(V0(r_,n))),e},YN=async e=>await zN(Hw(ns,Au),e),XN=async e=>{await Nu(bo(ns,Au,`${e}`),{id:e})},JN=async(e,t)=>{const r=t.map(i=>ZN(i,e)).map(i=>Nu(bo(ns,Au,i.id),{...i}));await Promise.all(r)},ZN=(e,t)=>{const{variants:n,...r}=e,i=t.find(o=>e.id===o.id);return i?{variants:e.variants.map(o=>eA(o,i)),...r}:e},eA=(e,t)=>{const{sizes:n,...r}=e;return e.color===t.color?{sizes:e.sizes.map(o=>tA(o,t)),...r}:e},tA=(e,t)=>e.size===t.size?{quantity:e.quantity-t.quantity,...rest}:e,nA=async e=>{await Nu(bo(ns,i_,"MLErzR0cJf6Y71Zq2Fty"),e).catch(t=>console.error(t))},rA=async e=>{await Nu(bo(ns,s_,"61tSJZETTivwigqI7Odx"),e).catch(t=>console.error(t))};var zo=e=>e.type==="checkbox",_i=e=>e instanceof Date,gt=e=>e==null;const o_=e=>typeof e=="object";var je=e=>!gt(e)&&!Array.isArray(e)&&o_(e)&&!_i(e),iA=e=>je(e)&&e.target?zo(e.target)?e.target.checked:e.target.value:e,sA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,oA=(e,t)=>e.has(sA(t)),aA=e=>{const t=e.constructor&&e.constructor.prototype;return je(t)&&t.hasOwnProperty("isPrototypeOf")},op=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ir(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(op&&(e instanceof Blob||e instanceof FileList))&&(n||je(e)))if(t=n?[]:{},!Array.isArray(e)&&!aA(e))t=e;else for(const r in e)t[r]=Ir(e[r]);else return e;return t}var jo=e=>Array.isArray(e)?e.filter(Boolean):[],Le=e=>e===void 0,V=(e,t,n)=>{if(!t||!je(e))return n;const r=jo(t.split(/[,[\].]+?/)).reduce((i,s)=>gt(i)?i:i[s],e);return Le(r)||r===e?Le(e[t])?n:e[t]:r};const $g={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Hn.createContext(null);var lA=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Xt.all&&(t._proxyFormState[o]=!r||Xt.all),n&&(n[o]=!0),e[o]}});return i},Mt=e=>je(e)&&!Object.keys(e).length,uA=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Mt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||Xt.all))},Ic=e=>Array.isArray(e)?e:[e];function cA(e){const t=Hn.useRef(e);t.current=e,Hn.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var cn=e=>typeof e=="string",hA=(e,t,n,r,i)=>cn(e)?(r&&t.watch.add(e),V(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),V(n,s))):(r&&(t.watchAll=!0),n),ap=e=>/^\w*$/.test(e),a_=e=>jo(e.replace(/["|']|\]/g,"").split(/\.|\[/));function ge(e,t,n){let r=-1;const i=ap(t)?[t]:a_(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=e[a];l=je(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}var dA=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const ad=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=V(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else je(o)&&ad(o,t)}}};var Lg=e=>({isOnSubmit:!e||e===Xt.onSubmit,isOnBlur:e===Xt.onBlur,isOnChange:e===Xt.onChange,isOnAll:e===Xt.all,isOnTouch:e===Xt.onTouched}),Og=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),fA=(e,t,n)=>{const r=jo(V(e,n));return ge(r,"root",t[n]),ge(e,n,r),e},Ai=e=>typeof e=="boolean",lp=e=>e.type==="file",Kn=e=>typeof e=="function",Nl=e=>{if(!op)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Va=e=>cn(e),up=e=>e.type==="radio",Al=e=>e instanceof RegExp;const Fg={value:!1,isValid:!1},Mg={value:!0,isValid:!0};var l_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Le(e[0].attributes.value)?Le(e[0].value)||e[0].value===""?Mg:{value:e[0].value,isValid:!0}:Mg:Fg}return Fg};const Ug={isValid:!1,value:null};var u_=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Ug):Ug;function Vg(e,t,n="validate"){if(Va(e)||Array.isArray(e)&&e.every(Va)||Ai(e)&&!e)return{type:n,message:Va(e)?e:"",ref:t}}var ii=e=>je(e)&&!Al(e)?e:{value:e,message:""},Bg=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:h,validate:m,name:w,valueAsNumber:v,mount:E,disabled:p}=e._f,d=V(t,w);if(!E||p)return{};const g=o?o[0]:s,_=Z=>{r&&g.reportValidity&&(g.setCustomValidity(Ai(Z)?"":Z||""),g.reportValidity())},T={},P=up(s),$=zo(s),L=P||$,ee=(v||lp(s))&&Le(s.value)&&Le(d)||Nl(s)&&s.value===""||d===""||Array.isArray(d)&&!d.length,W=dA.bind(null,w,n,T),de=(Z,z,oe,He=vn.maxLength,se=vn.minLength)=>{const ke=Z?z:oe;T[w]={type:Z?He:se,message:ke,ref:s,...W(Z?He:se,ke)}};if(i?!Array.isArray(d)||!d.length:a&&(!L&&(ee||gt(d))||Ai(d)&&!d||$&&!l_(o).isValid||P&&!u_(o).isValid)){const{value:Z,message:z}=Va(a)?{value:!!a,message:a}:ii(a);if(Z&&(T[w]={type:vn.required,message:z,ref:g,...W(vn.required,z)},!n))return _(z),T}if(!ee&&(!gt(c)||!gt(f))){let Z,z;const oe=ii(f),He=ii(c);if(!gt(d)&&!isNaN(d)){const se=s.valueAsNumber||d&&+d;gt(oe.value)||(Z=se>oe.value),gt(He.value)||(z=se<He.value)}else{const se=s.valueAsDate||new Date(d),ke=G=>new Date(new Date().toDateString()+" "+G),R=s.type=="time",b=s.type=="week";cn(oe.value)&&d&&(Z=R?ke(d)>ke(oe.value):b?d>oe.value:se>new Date(oe.value)),cn(He.value)&&d&&(z=R?ke(d)<ke(He.value):b?d<He.value:se<new Date(He.value))}if((Z||z)&&(de(!!Z,oe.message,He.message,vn.max,vn.min),!n))return _(T[w].message),T}if((l||u)&&!ee&&(cn(d)||i&&Array.isArray(d))){const Z=ii(l),z=ii(u),oe=!gt(Z.value)&&d.length>+Z.value,He=!gt(z.value)&&d.length<+z.value;if((oe||He)&&(de(oe,Z.message,z.message),!n))return _(T[w].message),T}if(h&&!ee&&cn(d)){const{value:Z,message:z}=ii(h);if(Al(Z)&&!d.match(Z)&&(T[w]={type:vn.pattern,message:z,ref:s,...W(vn.pattern,z)},!n))return _(z),T}if(m){if(Kn(m)){const Z=await m(d,t),z=Vg(Z,g);if(z&&(T[w]={...z,...W(vn.validate,z.message)},!n))return _(z.message),T}else if(je(m)){let Z={};for(const z in m){if(!Mt(Z)&&!n)break;const oe=Vg(await m[z](d,t),g,z);oe&&(Z={...oe,...W(z,oe.message)},_(oe.message),n&&(T[w]=Z))}if(!Mt(Z)&&(T[w]={ref:g,...Z},!n))return T}}return _(!0),T};function pA(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Le(e)?r++:e[t[r++]];return e}function mA(e){for(const t in e)if(!Le(e[t]))return!1;return!0}function Ye(e,t){const n=Array.isArray(t)?t:ap(t)?[t]:a_(t),r=n.length===1?e:pA(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(je(r)&&Mt(r)||Array.isArray(r)&&mA(r))&&Ye(e,n.slice(0,-1)),e}function xc(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var Rl=e=>gt(e)||!o_(e);function $r(e,t){if(Rl(e)||Rl(t))return e===t;if(_i(e)&&_i(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(_i(s)&&_i(o)||je(s)&&je(o)||Array.isArray(s)&&Array.isArray(o)?!$r(s,o):s!==o)return!1}}return!0}var c_=e=>e.type==="select-multiple",gA=e=>up(e)||zo(e),Dc=e=>Nl(e)&&e.isConnected,h_=e=>{for(const t in e)if(Kn(e[t]))return!0;return!1};function Pl(e,t={}){const n=Array.isArray(e);if(je(e)||n)for(const r in e)Array.isArray(e[r])||je(e[r])&&!h_(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Pl(e[r],t[r])):gt(e[r])||(t[r]=!0);return t}function d_(e,t,n){const r=Array.isArray(e);if(je(e)||r)for(const i in e)Array.isArray(e[i])||je(e[i])&&!h_(e[i])?Le(t)||Rl(n[i])?n[i]=Array.isArray(e[i])?Pl(e[i],[]):{...Pl(e[i])}:d_(e[i],gt(t)?{}:t[i],n[i]):n[i]=!$r(e[i],t[i]);return n}var Nc=(e,t)=>d_(e,t,Pl(t)),f_=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Le(e)?e:t?e===""?NaN:e&&+e:n&&cn(e)?new Date(e):r?r(e):e;function Ac(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return lp(t)?t.files:up(t)?u_(e.refs).value:c_(t)?[...t.selectedOptions].map(({value:n})=>n):zo(t)?l_(e.refs).value:f_(Le(t.value)?e.ref.value:t.value,e)}var yA=(e,t,n,r)=>{const i={};for(const s of e){const o=V(t,s);o&&ge(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ys=e=>Le(e)?e:Al(e)?e.source:je(e)?Al(e.value)?e.value.source:e.value:e,vA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function bg(e,t,n){const r=V(e,n);if(r||ap(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=V(t,s),a=V(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var wA=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,_A=(e,t)=>!jo(V(e,t)).length&&Ye(e,t);const EA={mode:Xt.onSubmit,reValidateMode:Xt.onChange,shouldFocusError:!0};function SA(e={},t){let n={...EA,...e},r={submitCount:0,isDirty:!1,isLoading:Kn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=je(n.defaultValues)||je(n.values)?Ir(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Ir(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:xc(),array:xc(),state:xc()},m=e.resetOptions&&e.resetOptions.keepDirtyValues,w=Lg(n.mode),v=Lg(n.reValidateMode),E=n.criteriaMode===Xt.all,p=y=>S=>{clearTimeout(c),c=setTimeout(y,S)},d=async y=>{if(f.isValid||y){const S=n.resolver?Mt((await ee()).errors):await de(i,!0);S!==r.isValid&&h.state.next({isValid:S})}},g=y=>f.isValidating&&h.state.next({isValidating:y}),_=(y,S=[],I,U,O=!0,A=!0)=>{if(U&&I){if(a.action=!0,A&&Array.isArray(V(i,y))){const j=I(V(i,y),U.argA,U.argB);O&&ge(i,y,j)}if(A&&Array.isArray(V(r.errors,y))){const j=I(V(r.errors,y),U.argA,U.argB);O&&ge(r.errors,y,j),_A(r.errors,y)}if(f.touchedFields&&A&&Array.isArray(V(r.touchedFields,y))){const j=I(V(r.touchedFields,y),U.argA,U.argB);O&&ge(r.touchedFields,y,j)}f.dirtyFields&&(r.dirtyFields=Nc(s,o)),h.state.next({name:y,isDirty:z(y,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ge(o,y,S)},T=(y,S)=>{ge(r.errors,y,S),h.state.next({errors:r.errors})},P=(y,S,I,U)=>{const O=V(i,y);if(O){const A=V(o,y,Le(I)?V(s,y):I);Le(A)||U&&U.defaultChecked||S?ge(o,y,S?A:Ac(O._f)):se(y,A),a.mount&&d()}},$=(y,S,I,U,O)=>{let A=!1,j=!1;const Te={name:y};if(!I||U){f.isDirty&&(j=r.isDirty,r.isDirty=Te.isDirty=z(),A=j!==Te.isDirty);const Ae=$r(V(s,y),S);j=V(r.dirtyFields,y),Ae?Ye(r.dirtyFields,y):ge(r.dirtyFields,y,!0),Te.dirtyFields=r.dirtyFields,A=A||f.dirtyFields&&j!==!Ae}if(I){const Ae=V(r.touchedFields,y);Ae||(ge(r.touchedFields,y,I),Te.touchedFields=r.touchedFields,A=A||f.touchedFields&&Ae!==I)}return A&&O&&h.state.next(Te),A?Te:{}},L=(y,S,I,U)=>{const O=V(r.errors,y),A=f.isValid&&Ai(S)&&r.isValid!==S;if(e.delayError&&I?(u=p(()=>T(y,I)),u(e.delayError)):(clearTimeout(c),u=null,I?ge(r.errors,y,I):Ye(r.errors,y)),(I?!$r(O,I):O)||!Mt(U)||A){const j={...U,...A&&Ai(S)?{isValid:S}:{},errors:r.errors,name:y};r={...r,...j},h.state.next(j)}g(!1)},ee=async y=>n.resolver(o,n.context,yA(y||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),W=async y=>{const{errors:S}=await ee();if(y)for(const I of y){const U=V(S,I);U?ge(r.errors,I,U):Ye(r.errors,I)}else r.errors=S;return S},de=async(y,S,I={valid:!0})=>{for(const U in y){const O=y[U];if(O){const{_f:A,...j}=O;if(A){const Te=l.array.has(A.name),Ae=await Bg(O,o,E,n.shouldUseNativeValidation&&!S,Te);if(Ae[A.name]&&(I.valid=!1,S))break;!S&&(V(Ae,A.name)?Te?fA(r.errors,Ae,A.name):ge(r.errors,A.name,Ae[A.name]):Ye(r.errors,A.name))}j&&await de(j,S,I)}}return I.valid},Z=()=>{for(const y of l.unMount){const S=V(i,y);S&&(S._f.refs?S._f.refs.every(I=>!Dc(I)):!Dc(S._f.ref))&&Wt(y)}l.unMount=new Set},z=(y,S)=>(y&&S&&ge(o,y,S),!$r(ce(),s)),oe=(y,S,I)=>hA(y,l,{...a.mount?o:Le(S)?s:cn(y)?{[y]:S}:S},I,S),He=y=>jo(V(a.mount?o:s,y,e.shouldUnregister?V(s,y,[]):[])),se=(y,S,I={})=>{const U=V(i,y);let O=S;if(U){const A=U._f;A&&(!A.disabled&&ge(o,y,f_(S,A)),O=Nl(A.ref)&&gt(S)?"":S,c_(A.ref)?[...A.ref.options].forEach(j=>j.selected=O.includes(j.value)):A.refs?zo(A.ref)?A.refs.length>1?A.refs.forEach(j=>(!j.defaultChecked||!j.disabled)&&(j.checked=Array.isArray(O)?!!O.find(Te=>Te===j.value):O===j.value)):A.refs[0]&&(A.refs[0].checked=!!O):A.refs.forEach(j=>j.checked=j.value===O):lp(A.ref)?A.ref.value="":(A.ref.value=O,A.ref.type||h.values.next({name:y,values:{...o}})))}(I.shouldDirty||I.shouldTouch)&&$(y,O,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&G(y)},ke=(y,S,I)=>{for(const U in S){const O=S[U],A=`${y}.${U}`,j=V(i,A);(l.array.has(y)||!Rl(O)||j&&!j._f)&&!_i(O)?ke(A,O,I):se(A,O,I)}},R=(y,S,I={})=>{const U=V(i,y),O=l.array.has(y),A=Ir(S);ge(o,y,A),O?(h.array.next({name:y,values:{...o}}),(f.isDirty||f.dirtyFields)&&I.shouldDirty&&h.state.next({name:y,dirtyFields:Nc(s,o),isDirty:z(y,A)})):U&&!U._f&&!gt(A)?ke(y,A,I):se(y,A,I),Og(y,l)&&h.state.next({...r}),h.values.next({name:y,values:{...o}}),!a.mount&&t()},b=async y=>{const S=y.target;let I=S.name,U=!0;const O=V(i,I),A=()=>S.type?Ac(O._f):iA(y);if(O){let j,Te;const Ae=A(),ni=y.type===$g.BLUR||y.type===$g.FOCUS_OUT,C_=!vA(O._f)&&!n.resolver&&!V(r.errors,I)&&!O._f.deps||wA(ni,V(r.touchedFields,I),r.isSubmitted,v,w),Lu=Og(I,l,ni);ge(o,I,Ae),ni?(O._f.onBlur&&O._f.onBlur(y),u&&u(0)):O._f.onChange&&O._f.onChange(y);const Ou=$(I,Ae,ni,!1),k_=!Mt(Ou)||Lu;if(!ni&&h.values.next({name:I,type:y.type,values:{...o}}),C_)return f.isValid&&d(),k_&&h.state.next({name:I,...Lu?{}:Ou});if(!ni&&Lu&&h.state.next({...r}),g(!0),n.resolver){const{errors:vp}=await ee([I]),T_=bg(r.errors,i,I),wp=bg(vp,i,T_.name||I);j=wp.error,I=wp.name,Te=Mt(vp)}else j=(await Bg(O,o,E,n.shouldUseNativeValidation))[I],U=isNaN(Ae)||Ae===V(o,I,Ae),U&&(j?Te=!1:f.isValid&&(Te=await de(i,!0)));U&&(O._f.deps&&G(O._f.deps),L(I,Te,j,Ou))}},G=async(y,S={})=>{let I,U;const O=Ic(y);if(g(!0),n.resolver){const A=await W(Le(y)?y:O);I=Mt(A),U=y?!O.some(j=>V(A,j)):I}else y?(U=(await Promise.all(O.map(async A=>{const j=V(i,A);return await de(j&&j._f?{[A]:j}:j)}))).every(Boolean),!(!U&&!r.isValid)&&d()):U=I=await de(i);return h.state.next({...!cn(y)||f.isValid&&I!==r.isValid?{}:{name:y},...n.resolver||!y?{isValid:I}:{},errors:r.errors,isValidating:!1}),S.shouldFocus&&!U&&ad(i,A=>A&&V(r.errors,A),y?O:l.mount),U},ce=y=>{const S={...s,...a.mount?o:{}};return Le(y)?S:cn(y)?V(S,y):y.map(I=>V(S,I))},_e=(y,S)=>({invalid:!!V((S||r).errors,y),isDirty:!!V((S||r).dirtyFields,y),isTouched:!!V((S||r).touchedFields,y),error:V((S||r).errors,y)}),ti=y=>{y&&Ic(y).forEach(S=>Ye(r.errors,S)),h.state.next({errors:y?r.errors:{}})},yn=(y,S,I)=>{const U=(V(i,y,{_f:{}})._f||{}).ref;ge(r.errors,y,{...S,ref:U}),h.state.next({name:y,errors:r.errors,isValid:!1}),I&&I.shouldFocus&&U&&U.focus&&U.focus()},os=(y,S)=>Kn(y)?h.values.subscribe({next:I=>y(oe(void 0,S),I)}):oe(y,S,!0),Wt=(y,S={})=>{for(const I of y?Ic(y):l.mount)l.mount.delete(I),l.array.delete(I),S.keepValue||(Ye(i,I),Ye(o,I)),!S.keepError&&Ye(r.errors,I),!S.keepDirty&&Ye(r.dirtyFields,I),!S.keepTouched&&Ye(r.touchedFields,I),!n.shouldUnregister&&!S.keepDefaultValue&&Ye(s,I);h.values.next({values:{...o}}),h.state.next({...r,...S.keepDirty?{isDirty:z()}:{}}),!S.keepIsValid&&d()},Mn=(y,S={})=>{let I=V(i,y);const U=Ai(S.disabled);return ge(i,y,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:y}},name:y,mount:!0,...S}}),l.mount.add(y),I?U&&ge(o,y,S.disabled?void 0:V(o,y,Ac(I._f))):P(y,!0,S.value),{...U?{disabled:S.disabled}:{},...n.shouldUseNativeValidation?{required:!!S.required,min:ys(S.min),max:ys(S.max),minLength:ys(S.minLength),maxLength:ys(S.maxLength),pattern:ys(S.pattern)}:{},name:y,onChange:b,onBlur:b,ref:O=>{if(O){Mn(y,S),I=V(i,y);const A=Le(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,j=gA(A),Te=I._f.refs||[];if(j?Te.find(Ae=>Ae===A):A===I._f.ref)return;ge(i,y,{_f:{...I._f,...j?{refs:[...Te.filter(Dc),A,...Array.isArray(V(s,y))?[{}]:[]],ref:{type:A.type,name:y}}:{ref:A}}}),P(y,!1,void 0,A)}else I=V(i,y,{}),I._f&&(I._f.mount=!1),(n.shouldUnregister||S.shouldUnregister)&&!(oA(l.array,y)&&a.action)&&l.unMount.add(y)}}},mp=()=>n.shouldFocusError&&ad(i,y=>y&&V(r.errors,y),l.mount),E_=(y,S)=>async I=>{I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let U=Ir(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:O,values:A}=await ee();r.errors=O,U=A}else await de(i);Ye(r.errors,"root"),Mt(r.errors)?(h.state.next({errors:{}}),await y(U,I)):(S&&await S({...r.errors},I),mp(),setTimeout(mp)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},S_=(y,S={})=>{V(i,y)&&(Le(S.defaultValue)?R(y,V(s,y)):(R(y,S.defaultValue),ge(s,y,S.defaultValue)),S.keepTouched||Ye(r.touchedFields,y),S.keepDirty||(Ye(r.dirtyFields,y),r.isDirty=S.defaultValue?z(y,V(s,y)):z()),S.keepError||(Ye(r.errors,y),f.isValid&&d()),h.state.next({...r}))},gp=(y,S={})=>{const I=y||s,U=Ir(I),O=y&&!Mt(y)?U:s;if(S.keepDefaultValues||(s=I),!S.keepValues){if(S.keepDirtyValues||m)for(const A of l.mount)V(r.dirtyFields,A)?ge(O,A,V(o,A)):R(A,V(O,A));else{if(op&&Le(y))for(const A of l.mount){const j=V(i,A);if(j&&j._f){const Te=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(Nl(Te)){const Ae=Te.closest("form");if(Ae){Ae.reset();break}}}}i={}}o=e.shouldUnregister?S.keepDefaultValues?Ir(s):{}:U,h.array.next({values:{...O}}),h.values.next({values:{...O}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!f.isValid||!!S.keepIsValid,a.watch=!!e.shouldUnregister,h.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!$r(y,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:S.keepDirtyValues?r.dirtyFields:S.keepDefaultValues&&y?Nc(s,y):{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},yp=(y,S)=>gp(Kn(y)?y(o):y,S);return{control:{register:Mn,unregister:Wt,getFieldState:_e,_executeSchema:ee,_getWatch:oe,_getDirty:z,_updateValid:d,_removeUnmounted:Z,_updateFieldArray:_,_getFieldArray:He,_reset:gp,_resetDefaultValues:()=>Kn(n.defaultValues)&&n.defaultValues().then(y=>{yp(y,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:y=>{r={...r,...y}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(y){a=y},get _defaultValues(){return s},get _names(){return l},set _names(y){l=y},get _formState(){return r},set _formState(y){r=y},get _options(){return n},set _options(y){n={...n,...y}}},trigger:G,register:Mn,handleSubmit:E_,watch:os,setValue:R,getValues:ce,reset:yp,resetField:S_,clearErrors:ti,unregister:Wt,setError:yn,setFocus:(y,S={})=>{const I=V(i,y),U=I&&I._f;if(U){const O=U.refs?U.refs[0]:U.ref;O.focus&&(O.focus(),S.shouldSelect&&O.select())}},getFieldState:_e}}function CA(e={}){const t=Hn.useRef(),[n,r]=Hn.useState({isDirty:!1,isValidating:!1,isLoading:Kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Kn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...SA(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,cA({subject:i._subjects.state,next:s=>{uA(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Hn.useEffect(()=>{e.values&&!$r(e.values,i._defaultValues)?i._reset(e.values,i._options.resetOptions):i._resetDefaultValues()},[e.values,i]),Hn.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=lA(n,i),t.current}const kA="_Admin_Form_64zvt_1",TA="_Password_64zvt_34",En={Admin_Form:kA,"Admin_Form-main":"_Admin_Form-main_64zvt_11","Admin_Form-color_variant":"_Admin_Form-color_variant_64zvt_15","Admin_Form-size_info":"_Admin_Form-size_info_64zvt_25",Password:TA},on=({children:e,styles:t})=>C("div",{className:t,children:e}),Gn=({label:e,name:t,type:n,register:r,accept:i,multiple:s,required:o,min:a})=>K(Eo,{children:[C("label",{children:e}),C("input",{type:n,...r(t),accept:i,multiple:s,required:o,min:a})]}),IA=({number:e,register:t,index:n,required:r,styles:i})=>K(on,{styles:i,children:[C(Gn,{label:"Item Size",name:`variants[${e}][sizes][${n}][size]`,type:"string",register:t,required:r}),C(Gn,{label:"Item Quantity",name:`variants[${e}][sizes][${n}][quantity]`,type:"number",register:t,min:1,required:r})]},e),ur=({type:e,onClick:t,textContent:n,styles:r,disabled:i})=>C("button",{type:e,onClick:t,className:r,disabled:i,children:n}),xA=({number:e,register:t,required:n})=>{const[r,i]=k.useState(1),s=o=>{const a=[];for(let l=0;l<o;l++)a.push(C(IA,{number:e,index:l,register:t,required:n,styles:En["Admin_Form-size_info"]},l));return a.map(l=>l)};return K(on,{styles:En["Admin_Form-color_variant"],children:[C(Gn,{label:"Different Item Variant/Colour",name:`variants[${e}][color]`,type:"string",register:t,required:n}),s(r),C(on,{children:C(Gn,{label:"Images",name:`variants[${e}][images]`,type:"file",accept:" image/png, image/jpeg",multiple:!0,register:t,required:n})}),K(on,{children:[C(ur,{type:"button",onClick:()=>{i(r+1)},textContent:"Add Additional Size Field"}),C(ur,{type:"button",onClick:()=>{i(r-1)},textContent:"Remove Last Size Field"})]})]},e)},cp=async e=>{const t=await bN(Hw(ns,e)),n=[];return t.forEach(r=>{n.push(r.data())}),n},Gr=k.createContext(),DA=({children:e})=>{const[t,n]=k.useState([]),[r,i]=k.useState(!1),[s,o]=k.useState(0);k.useEffect(()=>{(async u=>{const c=await cp(u);n(c)})(Au)},[r,s]);const a={currentStock:t,setCurrentStock:n,purchasedCart:r,setPurchasedCart:i,setAdminFormSent:o};return C(Gr.Provider,{value:a,children:e})},NA=()=>{const{register:e,handleSubmit:t,reset:n}=CA(),{adminFormSent:r,setAdminFormSent:i}=k.useContext(Gr),[s,o]=k.useState(1),[a,l]=k.useState(!1),[u,c]=k.useState(""),f="yk39j4a#i&2nYce^NWXHuyZVoQ9E@Uf@RF3gVf3iKR%A&$qo&",h=async v=>{l(!0),await qN(v),n(),l(!1),i(r+1)},m=v=>{const E=[];for(let p=0;p<v;p++)E.push(C(xA,{number:p,register:e,additionalColorInput:s,setAdditionalColorInput:o,required:!0},p));return E.map(p=>p)},w=K("form",{onSubmit:t(h),className:En.Admin_Form,children:[C(on,{styles:En["Admin_Form-main"],children:C(Gn,{label:"Item Name",name:"name",type:"text",register:e,required:!0})}),m(s),K(on,{styles:En["Admin_Form-main"],children:[C(ur,{type:"button",onClick:()=>{o(s+1)},textContent:"Additional Color Info"}),C(ur,{type:"button",onClick:()=>{o(s-1)},textContent:"Remove Last Color Field"})]}),C(on,{styles:En["Admin_Form-main"],children:C(Gn,{label:"Price",name:"price",type:"text",register:e,required:!0})}),C(on,{styles:En["Admin_Form-main"],children:C(Gn,{label:"Category",name:"category",type:"string",register:e,required:!0})}),C(on,{styles:En["Admin_Form-main"],children:C(Gn,{label:"Description",name:"description",type:"string",register:e,required:!0})}),C(on,{children:C(ur,{type:"submit",textContent:"Submit"})})]});return K(Eo,{children:[u!==f?K("div",{className:En.Password,children:[C("label",{children:"Password"}),C("input",{type:"text",onChange:v=>{c(v.target.value)}})]}):" ",u===f&&a&&C("p",{children:"Updating database dont go anywhere, it will take a minute"}),u===f&&!a&&w]})},On={puzzleIcon:new URL("/e-commerce-store/assets/puzzle-icon-86715c22.svg",self.location).href,emptyHeart:new URL("/e-commerce-store/assets/empty-heart-6d4718f7.svg",self.location).href,fullHeart:new URL("/e-commerce-store/assets/full-heart-0b20b439.svg",self.location).href,attireIcon:new URL("/e-commerce-store/assets/icon-d574a536.svg",self.location).href,shoppingCart:new URL("/e-commerce-store/assets/shopping-cart-8b5ecf33.svg",self.location).href,arrowLeft:new URL("/e-commerce-store/assets/arrow-left-2b4cf727.svg",self.location).href,arrowRight:new URL("/e-commerce-store/assets/arrow-right-240814c4.svg",self.location).href,defaultImage:new URL("/e-commerce-store/assets/default_image-43241c7d.png",self.location).href,catalogue:new URL("/e-commerce-store/assets/catalogue-60c9c018.jpg",self.location).href,homepage:new URL("/e-commerce-store/assets/homepage_image-c9fb65b0.jpg",self.location).href,favourites:new URL("/e-commerce-store/assets/favourites-10b72c19.jpg",self.location).href},Rc={"Homepage_cover-image":"_Homepage_cover-image_u8xsu_1","Homepage_quick-links":"_Homepage_quick-links_u8xsu_11"};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wo.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const zg="popstate";function AA(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return ld("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$l(i)}return PA(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RA(){return Math.random().toString(36).substr(2,8)}function jg(e,t){return{usr:e.state,key:e.key,idx:t}}function ld(e,t,n,r){return n===void 0&&(n=null),wo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rs(t):t,{state:n,key:t&&t.key||r||RA()})}function $l(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function PA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(wo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Qn.Pop;let E=c(),p=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:p})}function h(E,p){a=Qn.Push;let d=ld(v.location,E,p);n&&n(d,E),u=c()+1;let g=jg(d,u),_=v.createHref(d);try{o.pushState(g,"",_)}catch{i.location.assign(_)}s&&l&&l({action:a,location:v.location,delta:1})}function m(E,p){a=Qn.Replace;let d=ld(v.location,E,p);n&&n(d,E),u=c();let g=jg(d,u),_=v.createHref(d);o.replaceState(g,"",_),s&&l&&l({action:a,location:v.location,delta:0})}function w(E){let p=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof E=="string"?E:$l(E);return be(p,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,p)}let v={get action(){return a},get location(){return e(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zg,f),l=E,()=>{i.removeEventListener(zg,f),l=null}},createHref(E){return t(i,E)},createURL:w,encodeLocation(E){let p=w(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(E){return o.go(E)}};return v}var Hg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hg||(Hg={}));function $A(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?rs(t):t,i=dp(r.pathname||"/",n);if(i==null)return null;let s=p_(e);LA(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=jA(s[a],WA(i));return o}function p_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=cr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),p_(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:bA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of m_(s.path))i(s,o,l)}),t}function m_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=m_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function LA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OA=/^:\w+$/,FA=3,MA=2,UA=1,VA=10,BA=-2,qg=e=>e==="*";function bA(e,t){let n=e.split("/"),r=n.length;return n.some(qg)&&(r+=BA),t&&(r+=MA),n.filter(i=>!qg(i)).reduce((i,s)=>i+(OA.test(s)?FA:s===""?UA:VA),r)}function zA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function jA(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=HA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:cr([i,c.pathname]),pathnameBase:YA(cr([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=cr([i,c.pathnameBase]))}return s}function HA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=KA(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function qA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),hp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function WA(e){try{return decodeURI(e)}catch(t){return hp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function KA(e,t){try{return decodeURIComponent(e)}catch(n){return hp(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function dp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function GA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?rs(e):e;return{pathname:n?n.startsWith("/")?n:QA(n,t):t,search:XA(r),hash:JA(i)}}function QA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function y_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=rs(e):(i=wo({},e),be(!i.pathname||!i.pathname.includes("?"),Pc("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Pc("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Pc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=GA(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const cr=e=>e.join("/").replace(/\/\/+/g,"/"),YA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const tR=typeof Object.is=="function"?Object.is:eR,{useState:nR,useEffect:rR,useLayoutEffect:iR,useDebugValue:sR}=Oc;function oR(e,t,n){const r=t(),[{inst:i},s]=nR({inst:{value:r,getSnapshot:t}});return iR(()=>{i.value=r,i.getSnapshot=t,$c(i)&&s({inst:i})},[e,r,t]),rR(()=>($c(i)&&s({inst:i}),e(()=>{$c(i)&&s({inst:i})})),[e]),sR(r),r}function $c(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!tR(n,r)}catch{return!0}}function aR(e,t,n){return t()}const lR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uR=!lR,cR=uR?aR:oR;"useSyncExternalStore"in Oc&&(e=>e.useSyncExternalStore)(Oc);const v_=k.createContext(null),fp=k.createContext(null),is=k.createContext(null),Ru=k.createContext(null),ss=k.createContext({outlet:null,matches:[]}),w_=k.createContext(null);function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}function hR(e,t){let{relative:n}=t===void 0?{}:t;Ho()||be(!1);let{basename:r,navigator:i}=k.useContext(is),{hash:s,pathname:o,search:a}=pp(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:cr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ho(){return k.useContext(Ru)!=null}function qo(){return Ho()||be(!1),k.useContext(Ru).location}function dR(){Ho()||be(!1);let{basename:e,navigator:t}=k.useContext(is),{matches:n}=k.useContext(ss),{pathname:r}=qo(),i=JSON.stringify(g_(n).map(a=>a.pathnameBase)),s=k.useRef(!1);return k.useEffect(()=>{s.current=!0}),k.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let u=y_(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:cr([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}function pp(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=k.useContext(ss),{pathname:i}=qo(),s=JSON.stringify(g_(r).map(o=>o.pathnameBase));return k.useMemo(()=>y_(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function fR(e,t){Ho()||be(!1);let{navigator:n}=k.useContext(is),r=k.useContext(fp),{matches:i}=k.useContext(ss),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=qo(),u;if(t){var c;let v=typeof t=="string"?rs(t):t;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||be(!1),u=v}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",m=$A(e,{pathname:h}),w=yR(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:cr([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:cr([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return t&&w?k.createElement(Ru.Provider,{value:{location:ud({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qn.Pop}},w):w}function pR(){let e=ER(),t=ZA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:i},n):null,s)}class mR extends k.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?k.createElement(ss.Provider,{value:this.props.routeContext},k.createElement(w_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gR(e){let{routeContext:t,match:n,children:r}=e,i=k.useContext(v_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ss.Provider,{value:t},r)}function yR(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||be(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=k.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=k.createElement(pR,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let h=s;return l?h=u:o.route.Component?h=k.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),k.createElement(gR,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?k.createElement(mR,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var Wg;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(Wg||(Wg={}));var Ll;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Ll||(Ll={}));function vR(e){let t=k.useContext(fp);return t||be(!1),t}function wR(e){let t=k.useContext(ss);return t||be(!1),t}function _R(e){let t=wR(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function ER(){var e;let t=k.useContext(w_),n=vR(Ll.UseRouteError),r=_R(Ll.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function rn(e){be(!1)}function SR(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:s,static:o=!1}=e;Ho()&&be(!1);let a=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=rs(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:m="default"}=r,w=k.useMemo(()=>{let v=dp(u,a);return v==null?null:{location:{pathname:v,search:c,hash:f,state:h,key:m},navigationType:i}},[a,u,c,f,h,m,i]);return w==null?null:k.createElement(is.Provider,{value:l},k.createElement(Ru.Provider,{children:n,value:w}))}function CR(e){let{children:t,location:n}=e,r=k.useContext(v_),i=r&&!t?r.router.routes:cd(t);return fR(i,n)}var Kg;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Kg||(Kg={}));new Promise(()=>{});function cd(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,i)=>{if(!k.isValidElement(r))return;let s=[...t,i];if(r.type===k.Fragment){n.push.apply(n,cd(r.props.children,s));return}r.type!==rn&&be(!1),!r.props.index||!r.props.children||be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function __(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TR(e,t){return e.button===0&&(!t||t==="_self")&&!kR(e)}const IR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],xR=["aria-current","caseSensitive","className","end","style","to","children"];function DR(e){let{basename:t,children:n,window:r}=e,i=k.useRef();i.current==null&&(i.current=AA({window:r,v5Compat:!0}));let s=i.current,[o,a]=k.useState({action:s.action,location:s.location});return k.useLayoutEffect(()=>s.listen(a),[s]),k.createElement(SR,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}const NR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RR=k.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,f=__(t,IR),{basename:h}=k.useContext(is),m,w=!1;if(typeof u=="string"&&AR.test(u)&&(m=u,NR)){let d=new URL(window.location.href),g=u.startsWith("//")?new URL(d.protocol+u):new URL(u),_=dp(g.pathname,h);g.origin===d.origin&&_!=null?u=_+g.search+g.hash:w=!0}let v=hR(u,{relative:i}),E=PR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function p(d){r&&r(d),d.defaultPrevented||E(d)}return k.createElement("a",Ol({},f,{href:m||v,onClick:w||s?r:p,ref:n,target:l}))}),Ei=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=t,c=__(t,xR),f=pp(l,{relative:c.relative}),h=qo(),m=k.useContext(fp),{navigator:w}=k.useContext(is),v=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,E=h.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(E=E.toLowerCase(),p=p?p.toLowerCase():null,v=v.toLowerCase());let d=E===v||!o&&E.startsWith(v)&&E.charAt(v.length)==="/",g=p!=null&&(p===v||!o&&p.startsWith(v)&&p.charAt(v.length)==="/"),_=d?r:void 0,T;typeof s=="function"?T=s({isActive:d,isPending:g}):T=[s,d?"active":null,g?"pending":null].filter(Boolean).join(" ");let P=typeof a=="function"?a({isActive:d,isPending:g}):a;return k.createElement(RR,Ol({},c,{"aria-current":_,className:T,ref:n,style:P,to:l}),typeof u=="function"?u({isActive:d,isPending:g}):u)});var Gg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Gg||(Gg={}));var Qg;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qg||(Qg={}));function PR(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=dR(),l=qo(),u=pp(e,{relative:o});return k.useCallback(c=>{if(TR(c,n)){c.preventDefault();let f=r!==void 0?r:$l(l)===$l(u);a(e,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,e,s,o])}const $R=()=>{const{currentStock:e}=k.useContext(Gr),n=(e==null?void 0:e.reduce((r,i)=>(r.find(o=>o.category===i.category)||r.push({category:i.category,image:i.variants[0].images[3]}),r),[])).map(r=>C(Ei,{to:"/e-commerce-store/catalogue",children:K("div",{children:[C("img",{src:r.image}),C("h1",{children:r.category})]})},r.category));return K("div",{className:Rc.Homepage,children:[C("img",{src:On.homepage,className:Rc["Homepage_cover-image"]}),K("div",{className:Rc["Homepage_quick-links"],children:[C("h1",{children:"What we sell"}),C("div",{children:n})]})]})},hd=e=>e.replace(/[\W]/gi," ").split(" ").filter(t=>t).join("+").toLowerCase(),LR=(e,t)=>e.reduce((n,r)=>(r.id===t.id&&r.color===t.color&&r.size===t.size?n.push(t):n.push(r),[...n]),[]),OR=(e,t)=>e.find(r=>r.id===t.id&&r.color===t.color&&r.size===t.size)?LR(e,t):[...e,t],FR=e=>e.reduce((t,n)=>t+Number(n.price)*n.quantity,0),MR=(e,t)=>e.filter(n=>n.category===t.category&&n.id!==t.id),UR=e=>e.reduce((t,n)=>t+n.quantity*n.price,0),Yg=e=>e.filter(t=>t.quantity!==0),Pu=k.createContext(),VR=({children:e})=>{const[t,n]=k.useState([]),r=k.useRef(!0),i=(a,l,u,c,f)=>{if(a.find(m=>m.id===l)){const m=a.filter(w=>w.id!==l);c(m),f(!1)}else c(m=>[...m,u]),f(!0)},s=a=>a?On.fullHeart:On.emptyHeart;k.useEffect(()=>{(async l=>{const u=await cp(l);n(u[0].favourites)})(i_)},[]),k.useEffect(()=>{r.current?r.current=!1:nA({favourites:t})},[t]);const o={favourites:t,setFavourites:n,checkIfInFavourites:i,applyHeartSvg:s};return C(Pu.Provider,{value:o,children:e})},BR="_Display_Item_u429w_1",Lc={Display_Item:BR,"Display_Item-low_stock_warning":"_Display_Item-low_stock_warning_u429w_6","low_stock_warning-visible":"_low_stock_warning-visible_u429w_20"},vs={"Item_Basic_Info-images":"_Item_Basic_Info-images_1nbtt_1","Item_Basic_Info-images-preview":"_Item_Basic_Info-images-preview_1nbtt_6","Item_Basic_Info-images-heart":"_Item_Basic_Info-images-heart_1nbtt_10","Item_Basic_Info-item":"_Item_Basic_Info-item_1nbtt_18","Item_Basic_Info-item_name":"_Item_Basic_Info-item_name_1nbtt_21"},bR=({displayItem:e,name:t,applyHeartSvg:n,heartIcon:r,handleClick:i,hoverOverItem:s,getPrice:o})=>K("section",{children:[K("div",{className:vs["Item_Basic_Info-images"],children:[C("img",{src:e??On.defaultImage,alt:t,className:vs["Item_Basic_Info-images-preview"]}),C("img",{src:n(r),alt:"heart",onClick:i,className:vs["Item_Basic_Info-images-heart"]})]}),K("div",{className:vs["Item_Basic_Info-item"],children:[C("p",{className:vs["Item_Basic_Info-item_name"],children:t}),s?K("p",{children:["$",o]}):""]})]}),Xg=({id:e,name:t,price:n,image:r,item:i})=>{const{favourites:s,setFavourites:o,checkIfInFavourites:a,applyHeartSvg:l}=k.useContext(Pu),u=25,[c,f]=k.useState(!1),[h,m]=k.useState(!1),w=s.find(P=>P.id===e),[v,E]=k.useState(!!w),p=P=>{P.preventDefault(),a(s,e,i,o,E)},d=()=>{m(!0)},g=()=>{m(!1)},_=h?r[0]:r[1],T=(Math.round(n*100)/100).toFixed(2);return k.useEffect(()=>{if(i.variants.reduce(($,L)=>$+=L.sizes.reduce((ee,W)=>ee+Number(W.quantity),0),0)<=u)return f(!0)},[]),C("div",{className:Lc.Display_Item,onMouseEnter:d,onMouseLeave:g,children:K(Ei,{to:`/e-commerce-store/catalogue/${hd(t)}`,children:[c&&C("div",{className:`${Lc["Display_Item-low_stock_warning"]} ${Lc["low_stock_warning-visible"]}`,children:"Low Stock"}),C(bR,{displayItem:_,name:t,applyHeartSvg:l,heartIcon:v,handleClick:p,hoverOverItem:h,getPrice:T})]})})},zR="_Cart_Item_w9426_1",jR={Cart_Item:zR},HR=({id:e,name:t,price:n,quantity:r,size:i,color:s,cart:o,setCart:a,image:l})=>{const u=(Math.round(r*n*100)/100).toFixed(2),c=()=>{const h=o.map(m=>(m.id===e&&m.size===i&&m.color===s&&(m.quantity-=1),m));a(Yg(h))},f=()=>{const h=o.map(m=>(m.id===e&&m.size===i&&m.color===s&&m.quantity<10&&(m.quantity+=1),m));a(Yg(h))};return K("div",{className:jR.Cart_Item,children:[C("img",{src:l,alt:t}),K("h5",{children:[t," - ",s,"/",i]}),K("div",{children:[C("button",{type:"button",onClick:c,children:"-"}),C("p",{children:r}),C("button",{type:"button",onClick:f,children:"+"})]}),K("p",{children:["$",u]})]})},qR="_Item_List_1mnnj_1",WR="_Cover_Page_Image_1mnnj_12",KR="_Favourites_Page_1mnnj_23",GR="_Check_Out_Page_1mnnj_28",Sr={Item_List:qR,"Item_List-cover_image_present":"_Item_List-cover_image_present_1mnnj_8",Cover_Page_Image:WR,Favourites_Page:KR,Check_Out_Page:GR},Wo=k.createContext(),QR=({children:e})=>{const[t,n]=k.useState([]),r=k.useRef(!0),[i,s]=k.useState(0),o={cart:t,setCart:n,totalPrice:i};return k.useEffect(()=>{(async l=>{const u=await cp(l);n(u[0].cart)})(s_)},[]),k.useEffect(()=>{s(FR(t)),r.current?r.current=!1:rA({cart:t})},[t]),C(Wo.Provider,{value:o,children:e})};let Ea;const YR=new Uint8Array(16);function XR(){if(!Ea&&(Ea=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ea))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ea(YR)}const Qe=[];for(let e=0;e<256;++e)Qe.push((e+256).toString(16).slice(1));function JR(e,t=0){return(Qe[e[t+0]]+Qe[e[t+1]]+Qe[e[t+2]]+Qe[e[t+3]]+"-"+Qe[e[t+4]]+Qe[e[t+5]]+"-"+Qe[e[t+6]]+Qe[e[t+7]]+"-"+Qe[e[t+8]]+Qe[e[t+9]]+"-"+Qe[e[t+10]]+Qe[e[t+11]]+Qe[e[t+12]]+Qe[e[t+13]]+Qe[e[t+14]]+Qe[e[t+15]]).toLowerCase()}const ZR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jg={randomUUID:ZR};function Ba(e,t,n){if(Jg.randomUUID&&!t&&!e)return Jg.randomUUID();e=e||{};const r=e.random||(e.rng||XR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return JR(r)}const $u=({stock:e,inCheckOutPage:t,inFavouritesPage:n,inDedicatedPage:r,inCataloguePage:i})=>{const{cart:s,setCart:o}=k.useContext(Wo),{favourites:a,setFavourites:l}=k.useContext(Pu),u=e==null?void 0:e.map(w=>{const{id:v,name:E,price:p,description:d,variants:g}=w;return C(Xg,{id:v,name:E,price:p,description:d,image:g[0].images,item:w},v+Ba())}),c=s==null?void 0:s.map(w=>{const{id:v,name:E,price:p,quantity:d,size:g,color:_,image:T}=w;return C(HR,{id:v,name:E,price:p,quantity:d,setCart:o,cart:s,size:g,color:_,image:T},v+Ba())}),f=a==null?void 0:a.map(w=>{const{id:v,name:E,price:p,description:d,variants:g}=w;return C(Xg,{id:v,name:E,price:p,description:d,item:w,image:g[0].images},v+Ba())}),h=n?C("img",{src:On.favourites,className:Sr.Cover_Page_Image}):i?C("img",{src:On.catalogue,className:Sr.Cover_Page_Image}):"",m=n||i?`${Sr.Item_List}  ${Sr["Item_List-cover_image_present"]}`:t?Sr.Check_Out_Page:Sr.Item_List;return K(Eo,{children:[h,K("div",{className:m,children:[t?c:n?f:u,n&&a.length===0&&C("p",{className:Sr.Favourites_Page,children:"You don't have any favourite items, why not look for something you might like"}),t&&s.length===0&&C("p",{children:"You dont have any items in your cart, why not look for something you might like"})]})]})},eP=()=>C("div",{children:"NotFound"}),tP="_Check_Out_7ze40_1",nP={Check_Out:tP},rP=()=>{const{cart:e,setCart:t}=k.useContext(Wo),{purchasedCart:n,setPurchasedCart:r}=k.useContext(Gr),{currentStock:i}=k.useContext(Gr),s=(Math.round(UR(e)*100)/100).toFixed(2),o=l=>{l.preventDefault(),r(!0),JN(e,i),t([])};k.useEffect(()=>r(!1),[e]);const a=K("section",{children:[K("p",{children:["Total Price (inc. GST): $",s," "]}),C("form",{onSubmit:o,children:C("button",{children:"Check Out"})})]});return K("div",{className:nP.Check_Out,children:[C($u,{inCheckOutPage:!0}),n&&C("p",{children:"Thank you for your purchase"}),!n&&e.length>0&&a]})},iP=(e,t,n,r,i)=>{const s=o=>{t({type:"changeSize"}),n(o),r(!1),i(!1)};return e.sizes.map(o=>C("option",{type:"button",onClick:()=>{s(o)},children:o.size.replace(/(([X]*[L,M,S]){1})/i,a=>a.toUpperCase())},o.size))},sP=(e,t,n,r,i,s)=>{const o=a=>{s(a.images[0]),t(a),n({type:"changeColor"}),r(!1),i(!1)};return e.map(a=>C("option",{onClick:()=>{o(a)},children:a.color.replace(/[a-z]/i,l=>l.toUpperCase())},a.color))},oP=(e,t,n,r,i,s)=>{if(r.quantity===i)return t(!0);if(r.quantity===s.quantity)return n(!0);e({type:"increment"})},aP=(e,t,n)=>{t(!1),n(!1),e({type:"decrement"})},lP=(e,t,n,r)=>{const i=Number(e.target.value);n(i),r(!1),i>10&&(r(!0),n(10)),t({type:"onChange"})},uP=(e,t,n,r)=>{e(t(n,r))},cP=(e,t,n)=>{const{quantity:r}=e;return r>t?"":r<=t&&r>n?K("p",{children:["Only ",r," remain "]}):C("p",{children:"Out of Stock"})},hP="_Add_To_Cart_Form_t2dkd_2",wn={Add_To_Cart_Form:hP,"Add_To_Cart_Form-select":"_Add_To_Cart_Form-select_t2dkd_9","Add_To_Cart_Form-counter":"_Add_To_Cart_Form-counter_t2dkd_30","Add_To_Cart_Form-cart_button":"_Add_To_Cart_Form-cart_button_t2dkd_58","Add_To_Cart_Form-error_messages":"_Add_To_Cart_Form-error_messages_t2dkd_73"},Zg=({name:e,className:t,selectContent:n})=>K(Eo,{children:[C("label",{htmlFor:e,children:e}),C("select",{name:e,className:t,children:n})]}),dd=10,nn=1,dP=0,fP=K("p",{children:["Only a maximum of ",dd," per customer"]}),pP=C("p",{children:"We are low on stock unfortunately you wont be able to purchase more"}),mP=C("p",{children:"Sorry we are currently out of stock of this particular size, check again later"}),gP=e=>`ADD TO CART - $${e}`,yP=(e,t)=>Math.round(e*t*100/100).toFixed(2),vP=({id:e,name:t,price:n,image:r,item:i,variants:s,currentColorVariant:o,setCurrentColorVariant:a,currentSelectedSize:l,setCurrentSelectedSize:u,setCurrentSelectedImage:c})=>{const f={quantity:nn,id:e,name:t,price:n,image:r,color:o.color,size:l.size},[h,m]=k.useState(nn),w=(se,ke)=>{if(ke.type==="increment"){const{quantity:R,...b}=se;return m(R+1),{quantity:R+1,...b}}else if(ke.type==="decrement"&&se.quantity===1){const{quantity:R,...b}=se;return m(1),{quantity:nn,...b}}else if(ke.type==="decrement"&&se.quantity>1){const{quantity:R,...b}=se;return m(R-1),{quantity:R-1,...b}}else if(ke.type==="onChange"){const{quantity:R,...b}=se;return{quantity:h,...b}}else if(ke.type==="changeColor"){const{color:R,quantity:b,image:G,...ce}=se;return m(nn),console.log(o),{quantity:nn,color:o.color,image:o.images[0],...ce}}else if(ke.type==="changeSize"){const{size:R,quantity:b,...G}=se;return m(nn),{quantity:nn,size:l.size,...G}}else if(ke.type==="itemChange"){const{quantity:R,image:b,color:G,size:ce,..._e}=se;return m(nn),{quantity:nn,image:i.variants[0].images[0],color:i.variants[0].color,size:i.variants[0].sizes[0].size,..._e}}else return se},[v,E]=k.useReducer(w,f),{cart:p,setCart:d,setNewItemAnimation:g}=k.useContext(Wo),[_,T]=k.useState(!1),[P,$]=k.useState(!1),[L,ee]=k.useState(!1),W=sP(s,a,E,T,$,c),de=iP(o,E,u,T,$),Z=se=>{se.preventDefault(),uP(d,OR,p,v)},z=()=>{oP(E,T,$,v,dd,l),m(v.quantity)},oe=()=>{aP(E,T,$),m(v.quantity)},He=se=>{lP(se,E,m,T)};return k.useEffect(()=>{E({type:"itemChange"}),a(i.variants[0]),T(!1),$(!1)},[i]),k.useEffect(()=>{l.quantity>dP?ee(!1):ee(!0)}),K("form",{onSubmit:Z,className:wn.Add_To_Cart_Form,children:[K("div",{className:wn["Add_To_Cart_Form-select"],children:[C(Zg,{name:"color",className:wn["Add_To_Cart_Form-select_color"],selectContent:W}),C(Zg,{name:"size",className:wn["Add_To_Cart_Form-select_size"],selectContent:de})]}),K("div",{className:wn["Add_To_Cart_Form-counter"],children:[C(ur,{type:"button",onClick:oe,disabled:L,styles:wn["counter-decrement"],textContent:"-"}),C("input",{value:L?0:h,onChange:He,max:dd,min:nn,type:"number"}),C(ur,{type:"button",onClick:z,disabled:L,styles:wn["counter-increment"],textContent:"+"})]}),C(ur,{type:"submit",disabled:L,className:wn["Add_To_Cart_Form-cart_button"],textContent:L?"Out Of Stock":gP(yP(n,v.quantity))}),K("div",{className:wn["Add_To_Cart_Form-error_messages"],children:[_&&fP,P&&pP,L&&mP]})]})},Et={"Dedicated_Item-product":"_Dedicated_Item-product_1qr3q_1","Dedicated_Item-product_arrows":"_Dedicated_Item-product_arrows_1qr3q_6","Dedicated_Item-product_previous_image":"_Dedicated_Item-product_previous_image_1qr3q_21","Dedicated_Item-product_next_image":"_Dedicated_Item-product_next_image_1qr3q_24","Dedicated_Item-product_current_image":"_Dedicated_Item-product_current_image_1qr3q_33","Dedicated_Item-product_image_carousel":"_Dedicated_Item-product_image_carousel_1qr3q_36","Dedicated_Item-product_information":"_Dedicated_Item-product_information_1qr3q_39","Dedicated_Item-product_information-details_header":"_Dedicated_Item-product_information-details_header_1qr3q_44","Dedicated_Item-product_information-details_header-heart":"_Dedicated_Item-product_information-details_header-heart_1qr3q_47","Dedicated_Item-product_information-description":"_Dedicated_Item-product_information-description_1qr3q_52"},wP=({id:e,name:t,price:n,description:r,item:i,variants:s})=>{const{currentStock:o}=k.useContext(Gr),{favourites:a,setFavourites:l,checkIfInFavourites:u,applyHeartSvg:c}=k.useContext(Pu),f=a.find(z=>z.id===e),[h,m]=k.useState(!!f),[w,v]=k.useState(i.variants[0]),[E,p]=k.useState(i.variants[0].sizes[0]),[d,g]=k.useState(i.variants[0].images[0]),[_,T]=k.useState(0),P=5,$=0,L=()=>{const z=_-1,oe=Math.abs(z)%4;T(z),g(w.images[oe])},ee=()=>{const z=_+1,oe=Math.abs(z)%4;T(z),g(w.images[oe])},W=()=>{u(a,e,i,l,m)},de=cP(E,P,$),Z=w.images.map(z=>C("img",{src:z,className:Et["Dedicated_Item-product_image_carousel"],onClick:()=>{g(z)}},z));return k.useEffect(()=>{m(!!f)},[i]),K("div",{className:Et.Dedicated_Item,children:[K("section",{className:Et["Dedicated_Item-product"],children:[K("div",{children:[K("div",{className:Et["Dedicated_Item-product_image_buttons"],children:[C("div",{className:` ${Et["Dedicated_Item-product_arrows"]} ${Et["Dedicated_Item-product_previous_image"]}`,onClick:L,children:C("img",{src:On.arrowLeft,alt:"left arrow"})}),C("div",{className:` ${Et["Dedicated_Item-product_arrows"]} ${Et["Dedicated_Item-product_next_image"]}`,onClick:ee,children:C("img",{src:On.arrowRight,alt:"right arrow"})})]}),C("img",{src:d,className:Et["Dedicated_Item-product_current_image"]}),Z]}),K("div",{className:Et["Dedicated_Item-product_information"],children:[K("section",{className:Et["Dedicated_Item-product_information-details"],children:[C("div",{className:Et["Dedicated_Item-product_information-details_header"],children:K("h2",{children:[C("span",{onClick:W,children:C("img",{src:c(h),alt:"heart",className:Et["Dedicated_Item-product_information-details_header-heart"]})}),t]})}),de]}),C(vP,{id:e,name:t,price:n,item:i,variants:s,currentColorVariant:w,currentSelectedSize:E,setCurrentColorVariant:v,setCurrentSelectedSize:p,setCurrentSelectedImage:g}),C("section",{className:Et["Dedicated_Item-product_information-description"],children:r})]})]}),K("section",{children:[C("h4",{children:"You may also like these..."}),C($u,{inDedicatedPage:!0,stock:MR(o,i)})]})]})},_P="_Navigation_Bar_i38rz_1",Sa={Navigation_Bar:_P,"Navigation_Bar-logo":"_Navigation_Bar-logo_i38rz_10","Navigation_Bar-links":"_Navigation_Bar-links_i38rz_23","Navigation_Bar-links-cart":"_Navigation_Bar-links-cart_i38rz_33"},EP=()=>{const{totalPrice:e}=k.useContext(Wo),t=(Math.round(e*100)/100).toFixed(2);return K("header",{className:Sa.Navigation_Bar,children:[C(Ei,{to:"/e-commerce-store/",children:K("div",{className:Sa["Navigation_Bar-logo"],children:[C("img",{src:On.attireIcon,alt:"attire logo"}),C("h1",{children:"attire"})]})}),K("div",{className:Sa["Navigation_Bar-links"],children:[C(Ei,{to:"/e-commerce-store/catalogue",children:"Catalogue"}),C(Ei,{to:"/e-commerce-store/favourites",children:"Favourites"}),C(Ei,{to:"/e-commerce-store/checkout",children:C("div",{className:Sa["Navigation_Bar-links-cart"],children:K("p",{children:["Your Cart"," ",e>0&&K("span",{children:["$",t]})]})})})]})]})},SP=()=>C("div",{children:C($u,{inFavouritesPage:!0})}),CP="_App_mllms_1",kP={App:CP},TP=()=>{const{currentStock:e}=k.useContext(Gr),t=e.map(n=>{const{id:r,name:i,price:s,description:o,image:a,variants:l}=n,u=C(wP,{id:r,name:i,price:s,description:o,image:a,item:n,variants:l});return C(rn,{path:`/e-commerce-store/catalogue/${hd(i)}`,element:u},`${hd(i)+Ba()}`)});return C(Eo,{children:K("div",{className:kP.App,children:[C(EP,{}),K(CR,{children:[K(rn,{path:"/e-commerce-store/",children:[C(rn,{path:"",element:C($R,{})}),K(rn,{path:"catalogue",children:[C(rn,{path:"",element:C($u,{stock:e,inCataloguePage:!0})}),t]}),C(rn,{path:"favourites",element:C(SP,{})}),C(rn,{path:"checkout",element:C(rP,{})}),C(rn,{path:"adminAccess",element:C(NA,{})})]}),C(rn,{path:"/e-commerce-store/*",element:C(eP,{})})]})]})})};Fc.createRoot(document.getElementById("root")).render(C(DR,{children:C(DA,{children:C(VR,{children:C(QR,{children:C(TP,{})})})})}));
