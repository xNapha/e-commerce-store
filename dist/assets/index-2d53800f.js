function dE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function pE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rs={},mE={get exports(){return Rs},set exports(e){Rs=e}},Tl={},T={},gE={get exports(){return T},set exports(e){T=e}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=Symbol.for("react.element"),yE=Symbol.for("react.portal"),vE=Symbol.for("react.fragment"),wE=Symbol.for("react.strict_mode"),EE=Symbol.for("react.profiler"),SE=Symbol.for("react.provider"),_E=Symbol.for("react.context"),kE=Symbol.for("react.forward_ref"),CE=Symbol.for("react.suspense"),TE=Symbol.for("react.memo"),IE=Symbol.for("react.lazy"),ap=Symbol.iterator;function xE(e){return e===null||typeof e!="object"?null:(e=ap&&e[ap]||e["@@iterator"],typeof e=="function"?e:null)}var zg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jg=Object.assign,Hg={};function Bi(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||zg}Bi.prototype.isReactComponent={};Bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qg(){}qg.prototype=Bi.prototype;function ef(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||zg}var tf=ef.prototype=new qg;tf.constructor=ef;jg(tf,Bi.prototype);tf.isPureReactComponent=!0;var lp=Array.isArray,Wg=Object.prototype.hasOwnProperty,nf={current:null},Kg={key:!0,ref:!0,__self:!0,__source:!0};function Gg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Wg.call(t,r)&&!Kg.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:co,type:e,key:s,ref:o,props:i,_owner:nf.current}}function DE(e,t){return{$$typeof:co,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===co}function NE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var up=/\/+/g;function Tu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NE(""+e.key):t.toString(36)}function fa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case co:case yE:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Tu(o,0):r,lp(i)?(n="",e!=null&&(n=e.replace(up,"$&/")+"/"),fa(i,t,n,"",function(u){return u})):i!=null&&(rf(i)&&(i=DE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(up,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",lp(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Tu(s,a);o+=fa(s,t,n,l,i)}else if(l=xE(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Tu(s,a++),o+=fa(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fo(e,t,n){if(e==null)return e;var r=[],i=0;return fa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function AE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},da={transition:null},RE={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:da,ReactCurrentOwner:nf};te.Children={map:Fo,forEach:function(e,t,n){Fo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fo(e,function(){t++}),t},toArray:function(e){return Fo(e,function(t){return t})||[]},only:function(e){if(!rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Bi;te.Fragment=vE;te.Profiler=EE;te.PureComponent=ef;te.StrictMode=wE;te.Suspense=CE;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RE;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jg({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=nf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Wg.call(t,l)&&!Kg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:co,type:e.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(e){return e={$$typeof:_E,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SE,_context:e},e.Consumer=e};te.createElement=Gg;te.createFactory=function(e){var t=Gg.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:kE,render:e}};te.isValidElement=rf;te.lazy=function(e){return{$$typeof:IE,_payload:{_status:-1,_result:e},_init:AE}};te.memo=function(e,t){return{$$typeof:TE,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=da.transition;da.transition={};try{e()}finally{da.transition=t}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(e,t){return St.current.useCallback(e,t)};te.useContext=function(e){return St.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return St.current.useDeferredValue(e)};te.useEffect=function(e,t){return St.current.useEffect(e,t)};te.useId=function(){return St.current.useId()};te.useImperativeHandle=function(e,t,n){return St.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return St.current.useMemo(e,t)};te.useReducer=function(e,t,n){return St.current.useReducer(e,t,n)};te.useRef=function(e){return St.current.useRef(e)};te.useState=function(e){return St.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return St.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return St.current.useTransition()};te.version="18.2.0";(function(e){e.exports=te})(gE);const _n=pE(T),kc=dE({__proto__:null,default:_n},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=T,$E=Symbol.for("react.element"),LE=Symbol.for("react.fragment"),OE=Object.prototype.hasOwnProperty,ME=PE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FE={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)OE.call(t,r)&&!FE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:$E,type:e,key:s,ref:o,props:i,_owner:ME.current}}Tl.Fragment=LE;Tl.jsx=Qg;Tl.jsxs=Qg;(function(e){e.exports=Tl})(mE);const Il=Rs.Fragment,I=Rs.jsx,ie=Rs.jsxs;var Cc={},Tc={},UE={get exports(){return Tc},set exports(e){Tc=e}},Ut={},Ic={},VE={get exports(){return Ic},set exports(e){Ic=e}},Yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,q){var W=R.length;R.push(q);e:for(;0<W;){var ce=W-1>>>1,Z=R[ce];if(0<i(Z,q))R[ce]=q,R[W]=Z,W=ce;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],W=R.pop();if(W!==q){R[0]=W;e:for(var ce=0,Z=R.length,At=Z>>>1;ce<At;){var Qe=2*(ce+1)-1,kt=R[Qe],it=Qe+1,vn=R[it];if(0>i(kt,W))it<Z&&0>i(vn,kt)?(R[ce]=vn,R[it]=W,ce=it):(R[ce]=kt,R[Qe]=W,ce=Qe);else if(it<Z&&0>i(vn,W))R[ce]=vn,R[it]=W,ce=it;else break e}}return q}function i(R,q){var W=R.sortIndex-q.sortIndex;return W!==0?W:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=R)r(u),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(u)}}function E(R){if(v=!1,g(R),!w)if(n(l)!==null)w=!0,je(C);else{var q=n(u);q!==null&&He(E,q.startTime-R)}}function C(R,q){w=!1,v&&(v=!1,p(L),L=-1),m=!0;var W=h;try{for(g(q),f=n(l);f!==null&&(!(f.expirationTime>q)||R&&!we());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var Z=ce(f.expirationTime<=q);q=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),g(q)}else r(l);f=n(l)}if(f!==null)var At=!0;else{var Qe=n(u);Qe!==null&&He(E,Qe.startTime-q),At=!1}return At}finally{f=null,h=W,m=!1}}var P=!1,$=null,L=-1,ne=5,H=-1;function we(){return!(e.unstable_now()-H<ne)}function J(){if($!==null){var R=e.unstable_now();H=R;var q=!0;try{q=$(!0,R)}finally{q?Y():(P=!1,$=null)}}else P=!1}var Y;if(typeof d=="function")Y=function(){d(J)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ze=ue.port2;ue.port1.onmessage=J,Y=function(){ze.postMessage(null)}}else Y=function(){_(J,0)};function je(R){$=R,P||(P=!0,Y())}function He(R,q){L=_(function(){R(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,je(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var W=h;h=q;try{return R()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=h;h=R;try{return q()}finally{h=W}},e.unstable_scheduleCallback=function(R,q,W){var ce=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ce+W:ce):W=ce,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,R={id:c++,callback:q,priorityLevel:R,startTime:W,expirationTime:Z,sortIndex:-1},W>ce?(R.sortIndex=W,t(u,R),n(l)===null&&R===n(u)&&(v?(p(L),L=-1):v=!0,He(E,W-ce))):(R.sortIndex=Z,t(l,R),w||m||(w=!0,je(C))),R},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(R){var q=h;return function(){var W=h;h=q;try{return R.apply(this,arguments)}finally{h=W}}}})(Yg);(function(e){e.exports=Yg})(VE);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=T,Mt=Ic;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jg=new Set,Ps={};function jr(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(Ps[e]=t,e=0;e<t.length;e++)Jg.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xc=Object.prototype.hasOwnProperty,BE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cp={},hp={};function bE(e){return xc.call(hp,e)?!0:xc.call(cp,e)?!1:BE.test(e)?hp[e]=!0:(cp[e]=!0,!1)}function zE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jE(e,t,n,r){if(t===null||typeof t>"u"||zE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var sf=/[\-:]([a-z])/g;function of(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sf,of);nt[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sf,of);nt[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sf,of);nt[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function af(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jE(t,n,i,r)&&(n=null),r||i===null?bE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var On=Xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uo=Symbol.for("react.element"),ei=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),ey=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Nc=Symbol.for("react.suspense"),Ac=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),fp=Symbol.iterator;function Xi(e){return e===null||typeof e!="object"?null:(e=fp&&e[fp]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Iu;function ls(e){if(Iu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Iu=t&&t[1]||""}return`
`+Iu+e}var xu=!1;function Du(e,t){if(!e||xu)return"";xu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{xu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ls(e):""}function HE(e){switch(e.tag){case 5:return ls(e.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 2:case 15:return e=Du(e.type,!1),e;case 11:return e=Du(e.type.render,!1),e;case 1:return e=Du(e.type,!0),e;default:return""}}function Rc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ti:return"Fragment";case ei:return"Portal";case Dc:return"Profiler";case lf:return"StrictMode";case Nc:return"Suspense";case Ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ey:return(e.displayName||"Context")+".Consumer";case Zg:return(e._context.displayName||"Context")+".Provider";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cf:return t=e.displayName||null,t!==null?t:Rc(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return Rc(e(t))}catch{}}return null}function qE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rc(t);case 8:return t===lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WE(e){var t=ny(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=WE(e))}function ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ny(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Aa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pc(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ar(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&af(e,"checked",t,!1)}function $c(e,t){iy(e,t);var n=ar(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lc(e,t.type,ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lc(e,t,n){(t!=="number"||Aa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var us=Array.isArray;function pi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ar(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Oc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(us(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ar(n)}}function sy(e,t){var n=ar(t.value),r=ar(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bo,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bo=Bo||document.createElement("div"),Bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KE=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(e){KE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gs[t]=gs[e]})});function ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gs.hasOwnProperty(e)&&gs[e]?(""+t).trim():t+"px"}function uy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GE=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(e,t){if(t){if(GE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Uc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=null;function hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bc=null,mi=null,gi=null;function yp(e){if(e=po(e)){if(typeof Bc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Rl(t),Bc(e.stateNode,e.type,t))}}function cy(e){mi?gi?gi.push(e):gi=[e]:mi=e}function hy(){if(mi){var e=mi,t=gi;if(gi=mi=null,yp(e),t)for(e=0;e<t.length;e++)yp(t[e])}}function fy(e,t){return e(t)}function dy(){}var Nu=!1;function py(e,t,n){if(Nu)return e(t,n);Nu=!0;try{return fy(e,t,n)}finally{Nu=!1,(mi!==null||gi!==null)&&(dy(),hy())}}function Ls(e,t){var n=e.stateNode;if(n===null)return null;var r=Rl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var bc=!1;if(xn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{bc=!1}function QE(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ys=!1,Ra=null,Pa=!1,zc=null,YE={onError:function(e){ys=!0,Ra=e}};function XE(e,t,n,r,i,s,o,a,l){ys=!1,Ra=null,QE.apply(YE,arguments)}function JE(e,t,n,r,i,s,o,a,l){if(XE.apply(this,arguments),ys){if(ys){var u=Ra;ys=!1,Ra=null}else throw Error(D(198));Pa||(Pa=!0,zc=u)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vp(e){if(Hr(e)!==e)throw Error(D(188))}function ZE(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vp(i),e;if(s===r)return vp(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function gy(e){return e=ZE(e),e!==null?yy(e):null}function yy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yy(e);if(t!==null)return t;e=e.sibling}return null}var vy=Mt.unstable_scheduleCallback,wp=Mt.unstable_cancelCallback,eS=Mt.unstable_shouldYield,tS=Mt.unstable_requestPaint,Ne=Mt.unstable_now,nS=Mt.unstable_getCurrentPriorityLevel,ff=Mt.unstable_ImmediatePriority,wy=Mt.unstable_UserBlockingPriority,$a=Mt.unstable_NormalPriority,rS=Mt.unstable_LowPriority,Ey=Mt.unstable_IdlePriority,xl=null,fn=null;function iS(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:aS,sS=Math.log,oS=Math.LN2;function aS(e){return e>>>=0,e===0?32:31-(sS(e)/oS|0)|0}var bo=64,zo=4194304;function cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cs(a):(s&=o,s!==0&&(r=cs(s)))}else o=n&~i,o!==0?r=cs(o):s!==0&&(r=cs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-en(t),i=1<<n,r|=e[n],t&=~i;return r}function lS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-en(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lS(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function jc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sy(){var e=bo;return bo<<=1,!(bo&4194240)&&(bo=64),e}function Au(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ho(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=n}function cS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-en(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function df(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-en(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var le=0;function _y(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ky,pf,Cy,Ty,Iy,Hc=!1,jo=[],Kn=null,Gn=null,Qn=null,Os=new Map,Ms=new Map,Vn=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ep(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(t.pointerId)}}function Zi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=po(t),t!==null&&pf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fS(e,t,n,r,i){switch(t){case"focusin":return Kn=Zi(Kn,e,t,n,r,i),!0;case"dragenter":return Gn=Zi(Gn,e,t,n,r,i),!0;case"mouseover":return Qn=Zi(Qn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Os.set(s,Zi(Os.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ms.set(s,Zi(Ms.get(s)||null,e,t,n,r,i)),!0}return!1}function xy(e){var t=_r(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=my(n),t!==null){e.blockedOn=t,Iy(e.priority,function(){Cy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vc=r,n.target.dispatchEvent(r),Vc=null}else return t=po(n),t!==null&&pf(t),e.blockedOn=n,!1;t.shift()}return!0}function Sp(e,t,n){pa(e)&&n.delete(t)}function dS(){Hc=!1,Kn!==null&&pa(Kn)&&(Kn=null),Gn!==null&&pa(Gn)&&(Gn=null),Qn!==null&&pa(Qn)&&(Qn=null),Os.forEach(Sp),Ms.forEach(Sp)}function es(e,t){e.blockedOn===t&&(e.blockedOn=null,Hc||(Hc=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,dS)))}function Fs(e){function t(i){return es(i,e)}if(0<jo.length){es(jo[0],e);for(var n=1;n<jo.length;n++){var r=jo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kn!==null&&es(Kn,e),Gn!==null&&es(Gn,e),Qn!==null&&es(Qn,e),Os.forEach(t),Ms.forEach(t),n=0;n<Vn.length;n++)r=Vn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vn.length&&(n=Vn[0],n.blockedOn===null);)xy(n),n.blockedOn===null&&Vn.shift()}var yi=On.ReactCurrentBatchConfig,Oa=!0;function pS(e,t,n,r){var i=le,s=yi.transition;yi.transition=null;try{le=1,mf(e,t,n,r)}finally{le=i,yi.transition=s}}function mS(e,t,n,r){var i=le,s=yi.transition;yi.transition=null;try{le=4,mf(e,t,n,r)}finally{le=i,yi.transition=s}}function mf(e,t,n,r){if(Oa){var i=qc(e,t,n,r);if(i===null)Bu(e,t,r,Ma,n),Ep(e,r);else if(fS(i,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<hS.indexOf(e)){for(;i!==null;){var s=po(i);if(s!==null&&ky(s),s=qc(e,t,n,r),s===null&&Bu(e,t,r,Ma,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bu(e,t,r,null,n)}}var Ma=null;function qc(e,t,n,r){if(Ma=null,e=hf(r),e=_r(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=my(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ma=e,null}function Dy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nS()){case ff:return 1;case wy:return 4;case $a:case rS:return 16;case Ey:return 536870912;default:return 16}default:return 16}}var zn=null,gf=null,ma=null;function Ny(){if(ma)return ma;var e,t=gf,n=t.length,r,i="value"in zn?zn.value:zn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return ma=i.slice(e,1<r?1-r:void 0)}function ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function _p(){return!1}function Vt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ho:_p,this.isPropagationStopped=_p,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=Vt(bi),fo=_e({},bi,{view:0,detail:0}),gS=Vt(fo),Ru,Pu,ts,Dl=_e({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(Ru=e.screenX-ts.screenX,Pu=e.screenY-ts.screenY):Pu=Ru=0,ts=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:Pu}}),kp=Vt(Dl),yS=_e({},Dl,{dataTransfer:0}),vS=Vt(yS),wS=_e({},fo,{relatedTarget:0}),$u=Vt(wS),ES=_e({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=Vt(ES),_S=_e({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kS=Vt(_S),CS=_e({},bi,{data:0}),Cp=Vt(CS),TS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xS[e])?!!t[e]:!1}function vf(){return DS}var NS=_e({},fo,{key:function(e){if(e.key){var t=TS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vf,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AS=Vt(NS),RS=_e({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=Vt(RS),PS=_e({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vf}),$S=Vt(PS),LS=_e({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OS=Vt(LS),MS=_e({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FS=Vt(MS),US=[9,13,27,32],wf=xn&&"CompositionEvent"in window,vs=null;xn&&"documentMode"in document&&(vs=document.documentMode);var VS=xn&&"TextEvent"in window&&!vs,Ay=xn&&(!wf||vs&&8<vs&&11>=vs),Ip=String.fromCharCode(32),xp=!1;function Ry(e,t){switch(e){case"keyup":return US.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Py(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ni=!1;function BS(e,t){switch(e){case"compositionend":return Py(t);case"keypress":return t.which!==32?null:(xp=!0,Ip);case"textInput":return e=t.data,e===Ip&&xp?null:e;default:return null}}function bS(e,t){if(ni)return e==="compositionend"||!wf&&Ry(e,t)?(e=Ny(),ma=gf=zn=null,ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ay&&t.locale!=="ko"?null:t.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zS[e.type]:t==="textarea"}function $y(e,t,n,r){cy(r),t=Fa(t,"onChange"),0<t.length&&(n=new yf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ws=null,Us=null;function jS(e){Hy(e,0)}function Nl(e){var t=si(e);if(ry(t))return e}function HS(e,t){if(e==="change")return t}var Ly=!1;if(xn){var Lu;if(xn){var Ou="oninput"in document;if(!Ou){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Ou=typeof Np.oninput=="function"}Lu=Ou}else Lu=!1;Ly=Lu&&(!document.documentMode||9<document.documentMode)}function Ap(){ws&&(ws.detachEvent("onpropertychange",Oy),Us=ws=null)}function Oy(e){if(e.propertyName==="value"&&Nl(Us)){var t=[];$y(t,Us,e,hf(e)),py(jS,t)}}function qS(e,t,n){e==="focusin"?(Ap(),ws=t,Us=n,ws.attachEvent("onpropertychange",Oy)):e==="focusout"&&Ap()}function WS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(Us)}function KS(e,t){if(e==="click")return Nl(t)}function GS(e,t){if(e==="input"||e==="change")return Nl(t)}function QS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:QS;function Vs(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xc.call(t,i)||!nn(e[i],t[i]))return!1}return!0}function Rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pp(e,t){var n=Rp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rp(n)}}function My(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?My(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fy(){for(var e=window,t=Aa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Aa(e.document)}return t}function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YS(e){var t=Fy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&My(n.ownerDocument.documentElement,n)){if(r!==null&&Ef(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Pp(n,s);var o=Pp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XS=xn&&"documentMode"in document&&11>=document.documentMode,ri=null,Wc=null,Es=null,Kc=!1;function $p(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kc||ri==null||ri!==Aa(r)||(r=ri,"selectionStart"in r&&Ef(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Es&&Vs(Es,r)||(Es=r,r=Fa(Wc,"onSelect"),0<r.length&&(t=new yf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ri)))}function qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ii={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},Mu={},Uy={};xn&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Al(e){if(Mu[e])return Mu[e];if(!ii[e])return e;var t=ii[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uy)return Mu[e]=t[n];return e}var Vy=Al("animationend"),By=Al("animationiteration"),by=Al("animationstart"),zy=Al("transitionend"),jy=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,t){jy.set(e,t),jr(t,[e])}for(var Fu=0;Fu<Lp.length;Fu++){var Uu=Lp[Fu],JS=Uu.toLowerCase(),ZS=Uu[0].toUpperCase()+Uu.slice(1);fr(JS,"on"+ZS)}fr(Vy,"onAnimationEnd");fr(By,"onAnimationIteration");fr(by,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(zy,"onTransitionEnd");ki("onMouseEnter",["mouseout","mouseover"]);ki("onMouseLeave",["mouseout","mouseover"]);ki("onPointerEnter",["pointerout","pointerover"]);ki("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e_=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Op(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JE(r,t,void 0,e),e.currentTarget=null}function Hy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Op(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Op(i,a,u),s=l}}}if(Pa)throw e=zc,Pa=!1,zc=null,e}function fe(e,t){var n=t[Jc];n===void 0&&(n=t[Jc]=new Set);var r=e+"__bubble";n.has(r)||(qy(t,e,2,!1),n.add(r))}function Vu(e,t,n){var r=0;t&&(r|=4),qy(n,e,r,t)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[Wo]){e[Wo]=!0,Jg.forEach(function(n){n!=="selectionchange"&&(e_.has(n)||Vu(n,!1,e),Vu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wo]||(t[Wo]=!0,Vu("selectionchange",!1,t))}}function qy(e,t,n,r){switch(Dy(t)){case 1:var i=pS;break;case 4:i=mS;break;default:i=mf}n=i.bind(null,t,n,e),i=void 0,!bc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_r(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}py(function(){var u=s,c=hf(n),f=[];e:{var h=jy.get(e);if(h!==void 0){var m=yf,w=e;switch(e){case"keypress":if(ga(n)===0)break e;case"keydown":case"keyup":m=AS;break;case"focusin":w="focus",m=$u;break;case"focusout":w="blur",m=$u;break;case"beforeblur":case"afterblur":m=$u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$S;break;case Vy:case By:case by:m=SS;break;case zy:m=OS;break;case"scroll":m=gS;break;case"wheel":m=FS;break;case"copy":case"cut":case"paste":m=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Tp}var v=(t&4)!==0,_=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var d=u,g;d!==null;){g=d;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,p!==null&&(E=Ls(d,p),E!=null&&v.push(bs(d,E,g)))),_)break;d=d.return}0<v.length&&(h=new m(h,w,null,n,c),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Vc&&(w=n.relatedTarget||n.fromElement)&&(_r(w)||w[Dn]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?_r(w):null,w!==null&&(_=Hr(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=kp,E="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Tp,E="onPointerLeave",p="onPointerEnter",d="pointer"),_=m==null?h:si(m),g=w==null?h:si(w),h=new v(E,d+"leave",m,n,c),h.target=_,h.relatedTarget=g,E=null,_r(c)===u&&(v=new v(p,d+"enter",w,n,c),v.target=g,v.relatedTarget=_,E=v),_=E,m&&w)t:{for(v=m,p=w,d=0,g=v;g;g=Yr(g))d++;for(g=0,E=p;E;E=Yr(E))g++;for(;0<d-g;)v=Yr(v),d--;for(;0<g-d;)p=Yr(p),g--;for(;d--;){if(v===p||p!==null&&v===p.alternate)break t;v=Yr(v),p=Yr(p)}v=null}else v=null;m!==null&&Mp(f,h,m,v,!1),w!==null&&_!==null&&Mp(f,_,w,v,!0)}}e:{if(h=u?si(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=HS;else if(Dp(h))if(Ly)C=GS;else{C=WS;var P=qS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=KS);if(C&&(C=C(e,u))){$y(f,C,n,c);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Lc(h,"number",h.value)}switch(P=u?si(u):window,e){case"focusin":(Dp(P)||P.contentEditable==="true")&&(ri=P,Wc=u,Es=null);break;case"focusout":Es=Wc=ri=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,$p(f,n,c);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":$p(f,n,c)}var $;if(wf)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ni?Ry(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Ay&&n.locale!=="ko"&&(ni||L!=="onCompositionStart"?L==="onCompositionEnd"&&ni&&($=Ny()):(zn=c,gf="value"in zn?zn.value:zn.textContent,ni=!0)),P=Fa(u,L),0<P.length&&(L=new Cp(L,e,null,n,c),f.push({event:L,listeners:P}),$?L.data=$:($=Py(n),$!==null&&(L.data=$)))),($=VS?BS(e,n):bS(e,n))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(c=new Cp("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=$))}Hy(f,t)})}function bs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ls(e,n),s!=null&&r.unshift(bs(e,s,i)),s=Ls(e,t),s!=null&&r.push(bs(e,s,i))),e=e.return}return r}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ls(n,s),l!=null&&o.unshift(bs(n,l,a))):i||(l=Ls(n,s),l!=null&&o.push(bs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var t_=/\r\n?/g,n_=/\u0000|\uFFFD/g;function Fp(e){return(typeof e=="string"?e:""+e).replace(t_,`
`).replace(n_,"")}function Ko(e,t,n){if(t=Fp(t),Fp(e)!==t&&n)throw Error(D(425))}function Ua(){}var Gc=null,Qc=null;function Yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xc=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,i_=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(e){return Up.resolve(null).then(e).catch(s_)}:Xc;function s_(e){setTimeout(function(){throw e})}function bu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Fs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fs(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zi=Math.random().toString(36).slice(2),ln="__reactFiber$"+zi,zs="__reactProps$"+zi,Dn="__reactContainer$"+zi,Jc="__reactEvents$"+zi,o_="__reactListeners$"+zi,a_="__reactHandles$"+zi;function _r(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vp(e);e!==null;){if(n=e[ln])return n;e=Vp(e)}return t}e=n,n=e.parentNode}return null}function po(e){return e=e[ln]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function si(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Rl(e){return e[zs]||null}var Zc=[],oi=-1;function dr(e){return{current:e}}function de(e){0>oi||(e.current=Zc[oi],Zc[oi]=null,oi--)}function he(e,t){oi++,Zc[oi]=e.current,e.current=t}var lr={},pt=dr(lr),xt=dr(!1),Lr=lr;function Ci(e,t){var n=e.type.contextTypes;if(!n)return lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dt(e){return e=e.childContextTypes,e!=null}function Va(){de(xt),de(pt)}function Bp(e,t,n){if(pt.current!==lr)throw Error(D(168));he(pt,t),he(xt,n)}function Wy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,qE(e)||"Unknown",i));return _e({},n,r)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Lr=pt.current,he(pt,e),he(xt,xt.current),!0}function bp(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Wy(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,de(xt),de(pt),he(pt,e)):de(xt),he(xt,n)}var Sn=null,Pl=!1,zu=!1;function Ky(e){Sn===null?Sn=[e]:Sn.push(e)}function l_(e){Pl=!0,Ky(e)}function pr(){if(!zu&&Sn!==null){zu=!0;var e=0,t=le;try{var n=Sn;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sn=null,Pl=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(e+1)),vy(ff,pr),i}finally{le=t,zu=!1}}return null}var ai=[],li=0,ba=null,za=0,bt=[],zt=0,Or=null,kn=1,Cn="";function vr(e,t){ai[li++]=za,ai[li++]=ba,ba=e,za=t}function Gy(e,t,n){bt[zt++]=kn,bt[zt++]=Cn,bt[zt++]=Or,Or=e;var r=kn;e=Cn;var i=32-en(r)-1;r&=~(1<<i),n+=1;var s=32-en(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kn=1<<32-en(t)+i|n<<i|r,Cn=s+e}else kn=1<<s|n<<i|r,Cn=e}function Sf(e){e.return!==null&&(vr(e,1),Gy(e,1,0))}function _f(e){for(;e===ba;)ba=ai[--li],ai[li]=null,za=ai[--li],ai[li]=null;for(;e===Or;)Or=bt[--zt],bt[zt]=null,Cn=bt[--zt],bt[zt]=null,kn=bt[--zt],bt[zt]=null}var Ot=null,Pt=null,ge=!1,Jt=null;function Qy(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Pt=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Or!==null?{id:kn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Pt=null,!0):!1;default:return!1}}function eh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function th(e){if(ge){var t=Pt;if(t){var n=t;if(!zp(e,t)){if(eh(e))throw Error(D(418));t=Yn(n.nextSibling);var r=Ot;t&&zp(e,t)?Qy(r,n):(e.flags=e.flags&-4097|2,ge=!1,Ot=e)}}else{if(eh(e))throw Error(D(418));e.flags=e.flags&-4097|2,ge=!1,Ot=e}}}function jp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Go(e){if(e!==Ot)return!1;if(!ge)return jp(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yc(e.type,e.memoizedProps)),t&&(t=Pt)){if(eh(e))throw Yy(),Error(D(418));for(;t;)Qy(e,t),t=Yn(t.nextSibling)}if(jp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=Yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Ot?Yn(e.stateNode.nextSibling):null;return!0}function Yy(){for(var e=Pt;e;)e=Yn(e.nextSibling)}function Ti(){Pt=Ot=null,ge=!1}function kf(e){Jt===null?Jt=[e]:Jt.push(e)}var u_=On.ReactCurrentBatchConfig;function Yt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ja=dr(null),Ha=null,ui=null,Cf=null;function Tf(){Cf=ui=Ha=null}function If(e){var t=ja.current;de(ja),e._currentValue=t}function nh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vi(e,t){Ha=e,Cf=ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Cf!==e)if(e={context:e,memoizedValue:t,next:null},ui===null){if(Ha===null)throw Error(D(308));ui=e,Ha.dependencies={lanes:0,firstContext:e}}else ui=ui.next=e;return t}var kr=null;function xf(e){kr===null?kr=[e]:kr.push(e)}function Xy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,xf(t)):(n.next=i.next,i.next=n),t.interleaved=n,Nn(e,r)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Un=!1;function Df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Nn(e,n)}return i=r.interleaved,i===null?(t.next=t,xf(r)):(t.next=i.next,i.next=t),r.interleaved=t,Nn(e,n)}function ya(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,df(e,n)}}function Hp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var i=e.updateQueue;Un=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(h=t,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=_e({},f,h);break e;case 2:Un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fr|=o,e.lanes=o,e.memoizedState=f}}function qp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Zy=new Xg.Component().refs;function rh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Et(),i=Zn(e),s=In(r,i);s.payload=t,n!=null&&(s.callback=n),t=Xn(e,s,i),t!==null&&(tn(t,e,i,r),ya(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Et(),i=Zn(e),s=In(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Xn(e,s,i),t!==null&&(tn(t,e,i,r),ya(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),r=Zn(e),i=In(n,r);i.tag=2,t!=null&&(i.callback=t),t=Xn(e,i,r),t!==null&&(tn(t,e,r,n),ya(t,e,r))}};function Wp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Vs(n,r)||!Vs(i,s):!0}function ev(e,t,n){var r=!1,i=lr,s=t.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(i=Dt(t)?Lr:pt.current,r=t.contextTypes,s=(r=r!=null)?Ci(e,i):lr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Kp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function ih(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zy,Df(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Wt(s):(s=Dt(t)?Lr:pt.current,i.context=Ci(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$l.enqueueReplaceState(i,i.state,null),qa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Zy&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gp(e){var t=e._init;return t(e._payload)}function tv(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=er(p,d),p.index=0,p.sibling=null,p}function s(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,g,E){return d===null||d.tag!==6?(d=Qu(g,p.mode,E),d.return=p,d):(d=i(d,g),d.return=p,d)}function l(p,d,g,E){var C=g.type;return C===ti?c(p,d,g.props.children,E,g.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fn&&Gp(C)===d.type)?(E=i(d,g.props),E.ref=ns(p,d,g),E.return=p,E):(E=ka(g.type,g.key,g.props,null,p.mode,E),E.ref=ns(p,d,g),E.return=p,E)}function u(p,d,g,E){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Yu(g,p.mode,E),d.return=p,d):(d=i(d,g.children||[]),d.return=p,d)}function c(p,d,g,E,C){return d===null||d.tag!==7?(d=Ar(g,p.mode,E,C),d.return=p,d):(d=i(d,g),d.return=p,d)}function f(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Qu(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Uo:return g=ka(d.type,d.key,d.props,null,p.mode,g),g.ref=ns(p,null,d),g.return=p,g;case ei:return d=Yu(d,p.mode,g),d.return=p,d;case Fn:var E=d._init;return f(p,E(d._payload),g)}if(us(d)||Xi(d))return d=Ar(d,p.mode,g,null),d.return=p,d;Qo(p,d)}return null}function h(p,d,g,E){var C=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(p,d,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Uo:return g.key===C?l(p,d,g,E):null;case ei:return g.key===C?u(p,d,g,E):null;case Fn:return C=g._init,h(p,d,C(g._payload),E)}if(us(g)||Xi(g))return C!==null?null:c(p,d,g,E,null);Qo(p,g)}return null}function m(p,d,g,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(g)||null,a(d,p,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Uo:return p=p.get(E.key===null?g:E.key)||null,l(d,p,E,C);case ei:return p=p.get(E.key===null?g:E.key)||null,u(d,p,E,C);case Fn:var P=E._init;return m(p,d,g,P(E._payload),C)}if(us(E)||Xi(E))return p=p.get(g)||null,c(d,p,E,C,null);Qo(d,E)}return null}function w(p,d,g,E){for(var C=null,P=null,$=d,L=d=0,ne=null;$!==null&&L<g.length;L++){$.index>L?(ne=$,$=null):ne=$.sibling;var H=h(p,$,g[L],E);if(H===null){$===null&&($=ne);break}e&&$&&H.alternate===null&&t(p,$),d=s(H,d,L),P===null?C=H:P.sibling=H,P=H,$=ne}if(L===g.length)return n(p,$),ge&&vr(p,L),C;if($===null){for(;L<g.length;L++)$=f(p,g[L],E),$!==null&&(d=s($,d,L),P===null?C=$:P.sibling=$,P=$);return ge&&vr(p,L),C}for($=r(p,$);L<g.length;L++)ne=m($,p,L,g[L],E),ne!==null&&(e&&ne.alternate!==null&&$.delete(ne.key===null?L:ne.key),d=s(ne,d,L),P===null?C=ne:P.sibling=ne,P=ne);return e&&$.forEach(function(we){return t(p,we)}),ge&&vr(p,L),C}function v(p,d,g,E){var C=Xi(g);if(typeof C!="function")throw Error(D(150));if(g=C.call(g),g==null)throw Error(D(151));for(var P=C=null,$=d,L=d=0,ne=null,H=g.next();$!==null&&!H.done;L++,H=g.next()){$.index>L?(ne=$,$=null):ne=$.sibling;var we=h(p,$,H.value,E);if(we===null){$===null&&($=ne);break}e&&$&&we.alternate===null&&t(p,$),d=s(we,d,L),P===null?C=we:P.sibling=we,P=we,$=ne}if(H.done)return n(p,$),ge&&vr(p,L),C;if($===null){for(;!H.done;L++,H=g.next())H=f(p,H.value,E),H!==null&&(d=s(H,d,L),P===null?C=H:P.sibling=H,P=H);return ge&&vr(p,L),C}for($=r(p,$);!H.done;L++,H=g.next())H=m($,p,L,H.value,E),H!==null&&(e&&H.alternate!==null&&$.delete(H.key===null?L:H.key),d=s(H,d,L),P===null?C=H:P.sibling=H,P=H);return e&&$.forEach(function(J){return t(p,J)}),ge&&vr(p,L),C}function _(p,d,g,E){if(typeof g=="object"&&g!==null&&g.type===ti&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Uo:e:{for(var C=g.key,P=d;P!==null;){if(P.key===C){if(C=g.type,C===ti){if(P.tag===7){n(p,P.sibling),d=i(P,g.props.children),d.return=p,p=d;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fn&&Gp(C)===P.type){n(p,P.sibling),d=i(P,g.props),d.ref=ns(p,P,g),d.return=p,p=d;break e}n(p,P);break}else t(p,P);P=P.sibling}g.type===ti?(d=Ar(g.props.children,p.mode,E,g.key),d.return=p,p=d):(E=ka(g.type,g.key,g.props,null,p.mode,E),E.ref=ns(p,d,g),E.return=p,p=E)}return o(p);case ei:e:{for(P=g.key;d!==null;){if(d.key===P)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=i(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=Yu(g,p.mode,E),d.return=p,p=d}return o(p);case Fn:return P=g._init,_(p,d,P(g._payload),E)}if(us(g))return w(p,d,g,E);if(Xi(g))return v(p,d,g,E);Qo(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,g),d.return=p,p=d):(n(p,d),d=Qu(g,p.mode,E),d.return=p,p=d),o(p)):n(p,d)}return _}var Ii=tv(!0),nv=tv(!1),mo={},dn=dr(mo),js=dr(mo),Hs=dr(mo);function Cr(e){if(e===mo)throw Error(D(174));return e}function Nf(e,t){switch(he(Hs,t),he(js,e),he(dn,mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mc(t,e)}de(dn),he(dn,t)}function xi(){de(dn),de(js),de(Hs)}function rv(e){Cr(Hs.current);var t=Cr(dn.current),n=Mc(t,e.type);t!==n&&(he(js,e),he(dn,n))}function Af(e){js.current===e&&(de(dn),de(js))}var Ee=dr(0);function Wa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ju=[];function Rf(){for(var e=0;e<ju.length;e++)ju[e]._workInProgressVersionPrimary=null;ju.length=0}var va=On.ReactCurrentDispatcher,Hu=On.ReactCurrentBatchConfig,Mr=0,Se=null,Le=null,We=null,Ka=!1,Ss=!1,qs=0,c_=0;function st(){throw Error(D(321))}function Pf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function $f(e,t,n,r,i,s){if(Mr=s,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,va.current=e===null||e.memoizedState===null?p_:m_,e=n(r,i),Ss){s=0;do{if(Ss=!1,qs=0,25<=s)throw Error(D(301));s+=1,We=Le=null,t.updateQueue=null,va.current=g_,e=n(r,i)}while(Ss)}if(va.current=Ga,t=Le!==null&&Le.next!==null,Mr=0,We=Le=Se=null,Ka=!1,t)throw Error(D(300));return e}function Lf(){var e=qs!==0;return qs=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Se.memoizedState=We=e:We=We.next=e,We}function Kt(){if(Le===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=We===null?Se.memoizedState:We.next;if(t!==null)We=t,Le=e;else{if(e===null)throw Error(D(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},We===null?Se.memoizedState=We=e:We=We.next=e}return We}function Ws(e,t){return typeof t=="function"?t(e):t}function qu(e){var t=Kt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Mr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Se.lanes|=c,Fr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,nn(r,t.memoizedState)||(It=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Se.lanes|=s,Fr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wu(e){var t=Kt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);nn(s,t.memoizedState)||(It=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function iv(){}function sv(e,t){var n=Se,r=Kt(),i=t(),s=!nn(r.memoizedState,i);if(s&&(r.memoizedState=i,It=!0),r=r.queue,Of(lv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Ks(9,av.bind(null,n,r,i,t),void 0,null),Ke===null)throw Error(D(349));Mr&30||ov(n,t,i)}return i}function ov(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function av(e,t,n,r){t.value=n,t.getSnapshot=r,uv(t)&&cv(e)}function lv(e,t,n){return n(function(){uv(t)&&cv(e)})}function uv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function cv(e){var t=Nn(e,1);t!==null&&tn(t,e,1,-1)}function Qp(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=d_.bind(null,Se,e),[t.memoizedState,e]}function Ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hv(){return Kt().memoizedState}function wa(e,t,n,r){var i=on();Se.flags|=e,i.memoizedState=Ks(1|t,n,void 0,r===void 0?null:r)}function Ll(e,t,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,r!==null&&Pf(r,o.deps)){i.memoizedState=Ks(t,n,s,r);return}}Se.flags|=e,i.memoizedState=Ks(1|t,n,s,r)}function Yp(e,t){return wa(8390656,8,e,t)}function Of(e,t){return Ll(2048,8,e,t)}function fv(e,t){return Ll(4,2,e,t)}function dv(e,t){return Ll(4,4,e,t)}function pv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mv(e,t,n){return n=n!=null?n.concat([e]):null,Ll(4,4,pv.bind(null,t,e),n)}function Mf(){}function gv(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yv(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vv(e,t,n){return Mr&21?(nn(n,t)||(n=Sy(),Se.lanes|=n,Fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n)}function h_(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=Hu.transition;Hu.transition={};try{e(!1),t()}finally{le=n,Hu.transition=r}}function wv(){return Kt().memoizedState}function f_(e,t,n){var r=Zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ev(e))Sv(t,n);else if(n=Xy(e,t,n,r),n!==null){var i=Et();tn(n,e,r,i),_v(n,t,r)}}function d_(e,t,n){var r=Zn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ev(e))Sv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nn(a,o)){var l=t.interleaved;l===null?(i.next=i,xf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Xy(e,t,i,r),n!==null&&(i=Et(),tn(n,e,r,i),_v(n,t,r))}}function Ev(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Sv(e,t){Ss=Ka=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _v(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,df(e,n)}}var Ga={readContext:Wt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},p_={readContext:Wt,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:Yp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wa(4194308,4,pv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=f_.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:Qp,useDebugValue:Mf,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=Qp(!1),t=e[0];return e=h_.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,i=on();if(ge){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ke===null)throw Error(D(349));Mr&30||ov(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Yp(lv.bind(null,r,s,e),[e]),r.flags|=2048,Ks(9,av.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=on(),t=Ke.identifierPrefix;if(ge){var n=Cn,r=kn;n=(r&~(1<<32-en(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m_={readContext:Wt,useCallback:gv,useContext:Wt,useEffect:Of,useImperativeHandle:mv,useInsertionEffect:fv,useLayoutEffect:dv,useMemo:yv,useReducer:qu,useRef:hv,useState:function(){return qu(Ws)},useDebugValue:Mf,useDeferredValue:function(e){var t=Kt();return vv(t,Le.memoizedState,e)},useTransition:function(){var e=qu(Ws)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:iv,useSyncExternalStore:sv,useId:wv,unstable_isNewReconciler:!1},g_={readContext:Wt,useCallback:gv,useContext:Wt,useEffect:Of,useImperativeHandle:mv,useInsertionEffect:fv,useLayoutEffect:dv,useMemo:yv,useReducer:Wu,useRef:hv,useState:function(){return Wu(Ws)},useDebugValue:Mf,useDeferredValue:function(e){var t=Kt();return Le===null?t.memoizedState=e:vv(t,Le.memoizedState,e)},useTransition:function(){var e=Wu(Ws)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:iv,useSyncExternalStore:sv,useId:wv,unstable_isNewReconciler:!1};function Di(e,t){try{var n="",r=t;do n+=HE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ku(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var y_=typeof WeakMap=="function"?WeakMap:Map;function kv(e,t,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ya||(Ya=!0,mh=r),sh(e,t)},n}function Cv(e,t,n){n=In(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sh(e,t),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Xp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new y_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=R_.bind(null,e,t,n),t.then(e,e))}function Jp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=In(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var v_=On.ReactCurrentOwner,It=!1;function yt(e,t,n,r){t.child=e===null?nv(t,null,n,r):Ii(t,e.child,n,r)}function em(e,t,n,r,i){n=n.render;var s=t.ref;return vi(t,i),r=$f(e,t,n,r,s,i),n=Lf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,An(e,t,i)):(ge&&n&&Sf(t),t.flags|=1,yt(e,t,r,i),t.child)}function tm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Hf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Tv(e,t,s,r,i)):(e=ka(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(o,r)&&e.ref===t.ref)return An(e,t,i)}return t.flags|=1,e=er(s,r),e.ref=t.ref,e.return=t,t.child=e}function Tv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Vs(s,r)&&e.ref===t.ref)if(It=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,An(e,t,i)}return oh(e,t,n,r,i)}function Iv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(hi,Rt),Rt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(hi,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(hi,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,he(hi,Rt),Rt|=r;return yt(e,t,i,n),t.child}function xv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oh(e,t,n,r,i){var s=Dt(n)?Lr:pt.current;return s=Ci(t,s),vi(t,i),n=$f(e,t,n,r,s,i),r=Lf(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,An(e,t,i)):(ge&&r&&Sf(t),t.flags|=1,yt(e,t,n,i),t.child)}function nm(e,t,n,r,i){if(Dt(n)){var s=!0;Ba(t)}else s=!1;if(vi(t,i),t.stateNode===null)Ea(e,t),ev(t,n,r),ih(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=Dt(n)?Lr:pt.current,u=Ci(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Kp(t,o,r,u),Un=!1;var h=t.memoizedState;o.state=h,qa(t,r,o,i),l=t.memoizedState,a!==r||h!==l||xt.current||Un?(typeof c=="function"&&(rh(t,n,c,r),l=t.memoizedState),(a=Un||Wp(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Jy(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Yt(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=Dt(n)?Lr:pt.current,l=Ci(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Kp(t,o,r,l),Un=!1,h=t.memoizedState,o.state=h,qa(t,r,o,i);var w=t.memoizedState;a!==f||h!==w||xt.current||Un?(typeof m=="function"&&(rh(t,n,m,r),w=t.memoizedState),(u=Un||Wp(t,n,u,r,h,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ah(e,t,n,r,s,i)}function ah(e,t,n,r,i,s){xv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&bp(t,n,!1),An(e,t,s);r=t.stateNode,v_.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ii(t,e.child,null,s),t.child=Ii(t,null,a,s)):yt(e,t,a,s),t.memoizedState=r.state,i&&bp(t,n,!0),t.child}function Dv(e){var t=e.stateNode;t.pendingContext?Bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bp(e,t.context,!1),Nf(e,t.containerInfo)}function rm(e,t,n,r,i){return Ti(),kf(i),t.flags|=256,yt(e,t,n,r),t.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nv(e,t,n){var r=t.pendingProps,i=Ee.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(Ee,i&1),e===null)return th(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fl(o,r,0,null),e=Ar(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=uh(n),t.memoizedState=lh,e):Ff(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return w_(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=er(a,s):(s=Ar(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?uh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=lh,r}return s=e.child,e=s.sibling,r=er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ff(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,n,r){return r!==null&&kf(r),Ii(t,e.child,null,n),e=Ff(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w_(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ku(Error(D(422))),Yo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),s=Ar(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ii(t,e.child,null,o),t.child.memoizedState=uh(o),t.memoizedState=lh,s);if(!(t.mode&1))return Yo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=Ku(s,r,void 0),Yo(e,t,o,r)}if(a=(o&e.childLanes)!==0,It||a){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nn(e,i),tn(r,e,i,-1))}return jf(),r=Ku(Error(D(421))),Yo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=P_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Pt=Yn(i.nextSibling),Ot=t,ge=!0,Jt=null,e!==null&&(bt[zt++]=kn,bt[zt++]=Cn,bt[zt++]=Or,kn=e.id,Cn=e.overflow,Or=t),t=Ff(t,r.children),t.flags|=4096,t)}function im(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nh(e.return,t,n)}function Gu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Av(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(yt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&im(e,n,t);else if(e.tag===19)im(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gu(t,!0,n,null,s);break;case"together":Gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function E_(e,t,n){switch(t.tag){case 3:Dv(t),Ti();break;case 5:rv(t);break;case 1:Dt(t.type)&&Ba(t);break;case 4:Nf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(ja,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?Nv(e,t,n):(he(Ee,Ee.current&1),e=An(e,t,n),e!==null?e.sibling:null);he(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Av(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Iv(e,t,n)}return An(e,t,n)}var Rv,ch,Pv,$v;Rv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ch=function(){};Pv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Cr(dn.current);var s=null;switch(n){case"input":i=Pc(e,i),r=Pc(e,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=Oc(e,i),r=Oc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ua)}Fc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ps.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ps.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};$v=function(e,t,n,r){n!==r&&(t.flags|=4)};function rs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function S_(e,t,n){var r=t.pendingProps;switch(_f(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Dt(t.type)&&Va(),ot(t),null;case 3:return r=t.stateNode,xi(),de(xt),de(pt),Rf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(vh(Jt),Jt=null))),ch(e,t),ot(t),null;case 5:Af(t);var i=Cr(Hs.current);if(n=t.type,e!==null&&t.stateNode!=null)Pv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return ot(t),null}if(e=Cr(dn.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ln]=t,r[zs]=s,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<hs.length;i++)fe(hs[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":dp(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":mp(r,s),fe("invalid",r)}Fc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ko(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ko(r.textContent,a,e),i=["children",""+a]):Ps.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":Vo(r),pp(r,s,!0);break;case"textarea":Vo(r),gp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ua)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ln]=t,e[zs]=r,Rv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uc(n,r),n){case"dialog":fe("cancel",e),fe("close",e),i=r;break;case"iframe":case"object":case"embed":fe("load",e),i=r;break;case"video":case"audio":for(i=0;i<hs.length;i++)fe(hs[i],e);i=r;break;case"source":fe("error",e),i=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),i=r;break;case"details":fe("toggle",e),i=r;break;case"input":dp(e,r),i=Pc(e,r),fe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),fe("invalid",e);break;case"textarea":mp(e,r),i=Oc(e,r),fe("invalid",e);break;default:i=r}Fc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ay(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$s(e,l):typeof l=="number"&&$s(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ps.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fe("scroll",e):l!=null&&af(e,s,l,o))}switch(n){case"input":Vo(e),pp(e,r,!1);break;case"textarea":Vo(e),gp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ar(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?pi(e,!!r.multiple,s,!1):r.defaultValue!=null&&pi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ua)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)$v(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Cr(Hs.current),Cr(dn.current),Go(t)){if(r=t.stateNode,n=t.memoizedProps,r[ln]=t,(s=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:Ko(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ko(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=t,t.stateNode=r}return ot(t),null;case 13:if(de(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&Pt!==null&&t.mode&1&&!(t.flags&128))Yy(),Ti(),t.flags|=98560,s=!1;else if(s=Go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[ln]=t}else Ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),s=!1}else Jt!==null&&(vh(Jt),Jt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Me===0&&(Me=3):jf())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return xi(),ch(e,t),e===null&&Bs(t.stateNode.containerInfo),ot(t),null;case 10:return If(t.type._context),ot(t),null;case 17:return Dt(t.type)&&Va(),ot(t),null;case 19:if(de(Ee),s=t.memoizedState,s===null)return ot(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)rs(s,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Wa(e),o!==null){for(t.flags|=128,rs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(Ee,Ee.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>Ni&&(t.flags|=128,r=!0,rs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Wa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ge)return ot(t),null}else 2*Ne()-s.renderingStartTime>Ni&&n!==1073741824&&(t.flags|=128,r=!0,rs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=Ee.current,he(Ee,r?n&1|2:n&1),t):(ot(t),null);case 22:case 23:return zf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function __(e,t){switch(_f(t),t.tag){case 1:return Dt(t.type)&&Va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xi(),de(xt),de(pt),Rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Af(t),null;case 13:if(de(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(Ee),null;case 4:return xi(),null;case 10:return If(t.type._context),null;case 22:case 23:return zf(),null;case 24:return null;default:return null}}var Xo=!1,ut=!1,k_=typeof WeakSet=="function"?WeakSet:Set,M=null;function ci(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function hh(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var sm=!1;function C_(e,t){if(Gc=Oa,e=Fy(),Ef(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qc={focusedElem:e,selectionRange:n},Oa=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Yt(t.type,v),_);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(E){Ce(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return w=sm,sm=!1,w}function _s(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&hh(t,n,s)}i=i.next}while(i!==r)}}function Ol(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lv(e){var t=e.alternate;t!==null&&(e.alternate=null,Lv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[zs],delete t[Jc],delete t[o_],delete t[a_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ov(e){return e.tag===5||e.tag===3||e.tag===4}function om(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ov(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ua));else if(r!==4&&(e=e.child,e!==null))for(dh(e,t,n),e=e.sibling;e!==null;)dh(e,t,n),e=e.sibling}function ph(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ph(e,t,n),e=e.sibling;e!==null;)ph(e,t,n),e=e.sibling}var Je=null,Xt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)Mv(e,t,n),n=n.sibling}function Mv(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:ut||ci(n,t);case 6:var r=Je,i=Xt;Je=null,Mn(e,t,n),Je=r,Xt=i,Je!==null&&(Xt?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Xt?(e=Je,n=n.stateNode,e.nodeType===8?bu(e.parentNode,n):e.nodeType===1&&bu(e,n),Fs(e)):bu(Je,n.stateNode));break;case 4:r=Je,i=Xt,Je=n.stateNode.containerInfo,Xt=!0,Mn(e,t,n),Je=r,Xt=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hh(n,t,o),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!ut&&(ci(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,Mn(e,t,n),ut=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function am(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k_),t.forEach(function(r){var i=$_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,Xt=!1;break e;case 3:Je=a.stateNode.containerInfo,Xt=!0;break e;case 4:Je=a.stateNode.containerInfo,Xt=!0;break e}a=a.return}if(Je===null)throw Error(D(160));Mv(s,o,i),Je=null,Xt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fv(t,e),t=t.sibling}function Fv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),rn(e),r&4){try{_s(3,e,e.return),Ol(3,e)}catch(v){Ce(e,e.return,v)}try{_s(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:Qt(t,e),rn(e),r&512&&n!==null&&ci(n,n.return);break;case 5:if(Qt(t,e),rn(e),r&512&&n!==null&&ci(n,n.return),e.flags&32){var i=e.stateNode;try{$s(i,"")}catch(v){Ce(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iy(i,s),Uc(a,o);var u=Uc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?uy(i,f):c==="dangerouslySetInnerHTML"?ay(i,f):c==="children"?$s(i,f):af(i,c,f,u)}switch(a){case"input":$c(i,s);break;case"textarea":sy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pi(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?pi(i,!!s.multiple,s.defaultValue,!0):pi(i,!!s.multiple,s.multiple?[]:"",!1))}i[zs]=s}catch(v){Ce(e,e.return,v)}}break;case 6:if(Qt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Ce(e,e.return,v)}}break;case 3:if(Qt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fs(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:Qt(t,e),rn(e);break;case 13:Qt(t,e),rn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bf=Ne())),r&4&&am(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(u=ut)||c,Qt(t,e),ut=u):Qt(t,e),rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(M=e,c=e.child;c!==null;){for(f=M=c;M!==null;){switch(h=M,m=h.child,h.tag){case 0:case 11:case 14:case 15:_s(4,h,h.return);break;case 1:ci(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:ci(h,h.return);break;case 22:if(h.memoizedState!==null){um(f);continue}}m!==null?(m.return=h,M=m):um(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ly("display",o))}catch(v){Ce(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(t,e),rn(e),r&4&&am(e);break;case 21:break;default:Qt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ov(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($s(i,""),r.flags&=-33);var s=om(e);ph(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=om(e);dh(e,a,o);break;default:throw Error(D(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T_(e,t,n){M=e,Uv(e)}function Uv(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ut;a=Xo;var u=ut;if(Xo=o,(ut=l)&&!u)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?cm(i):l!==null?(l.return=o,M=l):cm(i);for(;s!==null;)M=s,Uv(s),s=s.sibling;M=i,Xo=a,ut=u}lm(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):lm(e)}}function lm(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||Ol(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&qp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Fs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ut||t.flags&512&&fh(t)}catch(h){Ce(t,t.return,h)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function um(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function cm(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ol(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ce(t,i,l)}}var s=t.return;try{fh(t)}catch(l){Ce(t,s,l)}break;case 5:var o=t.return;try{fh(t)}catch(l){Ce(t,o,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){M=null;break}var a=t.sibling;if(a!==null){a.return=t.return,M=a;break}M=t.return}}var I_=Math.ceil,Qa=On.ReactCurrentDispatcher,Uf=On.ReactCurrentOwner,Ht=On.ReactCurrentBatchConfig,se=0,Ke=null,$e=null,et=0,Rt=0,hi=dr(0),Me=0,Gs=null,Fr=0,Ml=0,Vf=0,ks=null,Ct=null,Bf=0,Ni=1/0,En=null,Ya=!1,mh=null,Jn=null,Jo=!1,jn=null,Xa=0,Cs=0,gh=null,Sa=-1,_a=0;function Et(){return se&6?Ne():Sa!==-1?Sa:Sa=Ne()}function Zn(e){return e.mode&1?se&2&&et!==0?et&-et:u_.transition!==null?(_a===0&&(_a=Sy()),_a):(e=le,e!==0||(e=window.event,e=e===void 0?16:Dy(e.type)),e):1}function tn(e,t,n,r){if(50<Cs)throw Cs=0,gh=null,Error(D(185));ho(e,n,r),(!(se&2)||e!==Ke)&&(e===Ke&&(!(se&2)&&(Ml|=n),Me===4&&Bn(e,et)),Nt(e,r),n===1&&se===0&&!(t.mode&1)&&(Ni=Ne()+500,Pl&&pr()))}function Nt(e,t){var n=e.callbackNode;uS(e,t);var r=La(e,e===Ke?et:0);if(r===0)n!==null&&wp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wp(n),t===1)e.tag===0?l_(hm.bind(null,e)):Ky(hm.bind(null,e)),i_(function(){!(se&6)&&pr()}),n=null;else{switch(_y(r)){case 1:n=ff;break;case 4:n=wy;break;case 16:n=$a;break;case 536870912:n=Ey;break;default:n=$a}n=Wv(n,Vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vv(e,t){if(Sa=-1,_a=0,se&6)throw Error(D(327));var n=e.callbackNode;if(wi()&&e.callbackNode!==n)return null;var r=La(e,e===Ke?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ja(e,r);else{t=r;var i=se;se|=2;var s=bv();(Ke!==e||et!==t)&&(En=null,Ni=Ne()+500,Nr(e,t));do try{N_();break}catch(a){Bv(e,a)}while(1);Tf(),Qa.current=s,se=i,$e!==null?t=0:(Ke=null,et=0,t=Me)}if(t!==0){if(t===2&&(i=jc(e),i!==0&&(r=i,t=yh(e,i))),t===1)throw n=Gs,Nr(e,0),Bn(e,r),Nt(e,Ne()),n;if(t===6)Bn(e,r);else{if(i=e.current.alternate,!(r&30)&&!x_(i)&&(t=Ja(e,r),t===2&&(s=jc(e),s!==0&&(r=s,t=yh(e,s))),t===1))throw n=Gs,Nr(e,0),Bn(e,r),Nt(e,Ne()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:wr(e,Ct,En);break;case 3:if(Bn(e,r),(r&130023424)===r&&(t=Bf+500-Ne(),10<t)){if(La(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Et(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xc(wr.bind(null,e,Ct,En),t);break}wr(e,Ct,En);break;case 4:if(Bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-en(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I_(r/1960))-r,10<r){e.timeoutHandle=Xc(wr.bind(null,e,Ct,En),r);break}wr(e,Ct,En);break;case 5:wr(e,Ct,En);break;default:throw Error(D(329))}}}return Nt(e,Ne()),e.callbackNode===n?Vv.bind(null,e):null}function yh(e,t){var n=ks;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=Ja(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&vh(t)),e}function vh(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function x_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t){for(t&=~Vf,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-en(t),r=1<<n;e[n]=-1,t&=~r}}function hm(e){if(se&6)throw Error(D(327));wi();var t=La(e,0);if(!(t&1))return Nt(e,Ne()),null;var n=Ja(e,t);if(e.tag!==0&&n===2){var r=jc(e);r!==0&&(t=r,n=yh(e,r))}if(n===1)throw n=Gs,Nr(e,0),Bn(e,t),Nt(e,Ne()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wr(e,Ct,En),Nt(e,Ne()),null}function bf(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Ni=Ne()+500,Pl&&pr())}}function Ur(e){jn!==null&&jn.tag===0&&!(se&6)&&wi();var t=se;se|=1;var n=Ht.transition,r=le;try{if(Ht.transition=null,le=1,e)return e()}finally{le=r,Ht.transition=n,se=t,!(se&6)&&pr()}}function zf(){Rt=hi.current,de(hi)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r_(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(_f(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Va();break;case 3:xi(),de(xt),de(pt),Rf();break;case 5:Af(r);break;case 4:xi();break;case 13:de(Ee);break;case 19:de(Ee);break;case 10:If(r.type._context);break;case 22:case 23:zf()}n=n.return}if(Ke=e,$e=e=er(e.current,null),et=Rt=t,Me=0,Gs=null,Vf=Ml=Fr=0,Ct=ks=null,kr!==null){for(t=0;t<kr.length;t++)if(n=kr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}kr=null}return e}function Bv(e,t){do{var n=$e;try{if(Tf(),va.current=Ga,Ka){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ka=!1}if(Mr=0,We=Le=Se=null,Ss=!1,qs=0,Uf.current=null,n===null||n.return===null){Me=1,Gs=t,$e=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Jp(o);if(m!==null){m.flags&=-257,Zp(m,o,a,s,t),m.mode&1&&Xp(s,u,t),t=m,l=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){Xp(s,u,t),jf();break e}l=Error(D(426))}}else if(ge&&a.mode&1){var _=Jp(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Zp(_,o,a,s,t),kf(Di(l,a));break e}}s=l=Di(l,a),Me!==4&&(Me=2),ks===null?ks=[s]:ks.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=kv(s,l,t);Hp(s,p);break e;case 1:a=l;var d=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jn===null||!Jn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Cv(s,a,t);Hp(s,E);break e}}s=s.return}while(s!==null)}jv(n)}catch(C){t=C,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function bv(){var e=Qa.current;return Qa.current=Ga,e===null?Ga:e}function jf(){(Me===0||Me===3||Me===2)&&(Me=4),Ke===null||!(Fr&268435455)&&!(Ml&268435455)||Bn(Ke,et)}function Ja(e,t){var n=se;se|=2;var r=bv();(Ke!==e||et!==t)&&(En=null,Nr(e,t));do try{D_();break}catch(i){Bv(e,i)}while(1);if(Tf(),se=n,Qa.current=r,$e!==null)throw Error(D(261));return Ke=null,et=0,Me}function D_(){for(;$e!==null;)zv($e)}function N_(){for(;$e!==null&&!eS();)zv($e)}function zv(e){var t=qv(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?jv(e):$e=t,Uf.current=null}function jv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=__(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,$e=null;return}}else if(n=S_(n,t,Rt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Me===0&&(Me=5)}function wr(e,t,n){var r=le,i=Ht.transition;try{Ht.transition=null,le=1,A_(e,t,n,r)}finally{Ht.transition=i,le=r}return null}function A_(e,t,n,r){do wi();while(jn!==null);if(se&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cS(e,s),e===Ke&&($e=Ke=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jo||(Jo=!0,Wv($a,function(){return wi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ht.transition,Ht.transition=null;var o=le;le=1;var a=se;se|=4,Uf.current=null,C_(e,n),Fv(n,e),YS(Qc),Oa=!!Gc,Qc=Gc=null,e.current=n,T_(n),tS(),se=a,le=o,Ht.transition=s}else e.current=n;if(Jo&&(Jo=!1,jn=e,Xa=i),s=e.pendingLanes,s===0&&(Jn=null),iS(n.stateNode),Nt(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ya)throw Ya=!1,e=mh,mh=null,e;return Xa&1&&e.tag!==0&&wi(),s=e.pendingLanes,s&1?e===gh?Cs++:(Cs=0,gh=e):Cs=0,pr(),null}function wi(){if(jn!==null){var e=_y(Xa),t=Ht.transition,n=le;try{if(Ht.transition=null,le=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,Xa=0,se&6)throw Error(D(331));var i=se;for(se|=4,M=e.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:_s(8,c,s)}var f=c.child;if(f!==null)f.return=c,M=f;else for(;M!==null;){c=M;var h=c.sibling,m=c.return;if(Lv(c),c===u){M=null;break}if(h!==null){h.return=m,M=h;break}M=m}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_s(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,M=p;break e}M=s.return}}var d=e.current;for(M=d;M!==null;){o=M;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,M=g;else e:for(o=d;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ol(9,a)}}catch(C){Ce(a,a.return,C)}if(a===o){M=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,M=E;break e}M=a.return}}if(se=i,pr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(xl,e)}catch{}r=!0}return r}finally{le=n,Ht.transition=t}}return!1}function fm(e,t,n){t=Di(n,t),t=kv(e,t,1),e=Xn(e,t,1),t=Et(),e!==null&&(ho(e,1,t),Nt(e,t))}function Ce(e,t,n){if(e.tag===3)fm(e,e,n);else for(;t!==null;){if(t.tag===3){fm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=Di(n,e),e=Cv(t,e,1),t=Xn(t,e,1),e=Et(),t!==null&&(ho(t,1,e),Nt(t,e));break}}t=t.return}}function R_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(et&n)===n&&(Me===4||Me===3&&(et&130023424)===et&&500>Ne()-Bf?Nr(e,0):Vf|=n),Nt(e,t)}function Hv(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var n=Et();e=Nn(e,t),e!==null&&(ho(e,t,n),Nt(e,n))}function P_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hv(e,n)}function $_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Hv(e,n)}var qv;qv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)It=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return It=!1,E_(e,t,n);It=!!(e.flags&131072)}else It=!1,ge&&t.flags&1048576&&Gy(t,za,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ea(e,t),e=t.pendingProps;var i=Ci(t,pt.current);vi(t,n),i=$f(null,t,r,e,i,n);var s=Lf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(s=!0,Ba(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Df(t),i.updater=$l,t.stateNode=i,i._reactInternals=t,ih(t,r,e,n),t=ah(null,t,r,!0,s,n)):(t.tag=0,ge&&s&&Sf(t),yt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ea(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=O_(r),e=Yt(r,e),i){case 0:t=oh(null,t,r,e,n);break e;case 1:t=nm(null,t,r,e,n);break e;case 11:t=em(null,t,r,e,n);break e;case 14:t=tm(null,t,r,Yt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),oh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),nm(e,t,r,i,n);case 3:e:{if(Dv(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Jy(e,t),qa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Di(Error(D(423)),t),t=rm(e,t,r,n,i);break e}else if(r!==i){i=Di(Error(D(424)),t),t=rm(e,t,r,n,i);break e}else for(Pt=Yn(t.stateNode.containerInfo.firstChild),Ot=t,ge=!0,Jt=null,n=nv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ti(),r===i){t=An(e,t,n);break e}yt(e,t,r,n)}t=t.child}return t;case 5:return rv(t),e===null&&th(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Yc(r,i)?o=null:s!==null&&Yc(r,s)&&(t.flags|=32),xv(e,t),yt(e,t,o,n),t.child;case 6:return e===null&&th(t),null;case 13:return Nv(e,t,n);case 4:return Nf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ii(t,null,r,n):yt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),em(e,t,r,i,n);case 7:return yt(e,t,t.pendingProps,n),t.child;case 8:return yt(e,t,t.pendingProps.children,n),t.child;case 12:return yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,he(ja,r._currentValue),r._currentValue=o,s!==null)if(nn(s.value,o)){if(s.children===i.children&&!xt.current){t=An(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=In(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vi(t,n),i=Wt(i),r=r(i),t.flags|=1,yt(e,t,r,n),t.child;case 14:return r=t.type,i=Yt(r,t.pendingProps),i=Yt(r.type,i),tm(e,t,r,i,n);case 15:return Tv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),Ea(e,t),t.tag=1,Dt(r)?(e=!0,Ba(t)):e=!1,vi(t,n),ev(t,r,i),ih(t,r,i,n),ah(null,t,r,!0,e,n);case 19:return Av(e,t,n);case 22:return Iv(e,t,n)}throw Error(D(156,t.tag))};function Wv(e,t){return vy(e,t)}function L_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new L_(e,t,n,r)}function Hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O_(e){if(typeof e=="function")return Hf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uf)return 11;if(e===cf)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ka(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Hf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ti:return Ar(n.children,i,s,t);case lf:o=8,i|=8;break;case Dc:return e=jt(12,n,t,i|2),e.elementType=Dc,e.lanes=s,e;case Nc:return e=jt(13,n,t,i),e.elementType=Nc,e.lanes=s,e;case Ac:return e=jt(19,n,t,i),e.elementType=Ac,e.lanes=s,e;case ty:return Fl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zg:o=10;break e;case ey:o=9;break e;case uf:o=11;break e;case cf:o=14;break e;case Fn:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=jt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ar(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function Fl(e,t,n,r){return e=jt(22,e,r,t),e.elementType=ty,e.lanes=n,e.stateNode={isHidden:!1},e}function Qu(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Yu(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qf(e,t,n,r,i,s,o,a,l){return e=new M_(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Df(s),e}function F_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ei,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kv(e){if(!e)return lr;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Dt(n))return Wy(e,n,t)}return t}function Gv(e,t,n,r,i,s,o,a,l){return e=qf(n,r,!0,e,i,s,o,a,l),e.context=Kv(null),n=e.current,r=Et(),i=Zn(n),s=In(r,i),s.callback=t??null,Xn(n,s,i),e.current.lanes=i,ho(e,i,r),Nt(e,r),e}function Ul(e,t,n,r){var i=t.current,s=Et(),o=Zn(i);return n=Kv(n),t.context===null?t.context=n:t.pendingContext=n,t=In(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(i,t,o),e!==null&&(tn(e,i,o,s),ya(e,i,o)),o}function Za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function U_(){return null}var Qv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kf(e){this._internalRoot=e}Vl.prototype.render=Kf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ul(e,t,null,null)};Vl.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Ul(null,e,null,null)}),t[Dn]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ty();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vn.length&&t!==0&&t<Vn[n].priority;n++);Vn.splice(n,0,e),n===0&&xy(e)}};function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pm(){}function V_(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Za(o);s.call(u)}}var o=Gv(t,r,e,0,null,!1,!1,"",pm);return e._reactRootContainer=o,e[Dn]=o.current,Bs(e.nodeType===8?e.parentNode:e),Ur(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Za(l);a.call(u)}}var l=qf(e,0,!1,null,null,!1,!1,"",pm);return e._reactRootContainer=l,e[Dn]=l.current,Bs(e.nodeType===8?e.parentNode:e),Ur(function(){Ul(t,l,n,r)}),l}function bl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Za(o);a.call(l)}}Ul(t,o,e,i)}else o=V_(n,t,e,i,r);return Za(o)}ky=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cs(t.pendingLanes);n!==0&&(df(t,n|1),Nt(t,Ne()),!(se&6)&&(Ni=Ne()+500,pr()))}break;case 13:Ur(function(){var r=Nn(e,1);if(r!==null){var i=Et();tn(r,e,1,i)}}),Wf(e,1)}};pf=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=Et();tn(t,e,134217728,n)}Wf(e,134217728)}};Cy=function(e){if(e.tag===13){var t=Zn(e),n=Nn(e,t);if(n!==null){var r=Et();tn(n,e,t,r)}Wf(e,t)}};Ty=function(){return le};Iy=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Bc=function(e,t,n){switch(t){case"input":if($c(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rl(r);if(!i)throw Error(D(90));ry(r),$c(r,i)}}}break;case"textarea":sy(e,n);break;case"select":t=n.value,t!=null&&pi(e,!!n.multiple,t,!1)}};fy=bf;dy=Ur;var B_={usingClientEntryPoint:!1,Events:[po,si,Rl,cy,hy,bf]},is={findFiberByHostInstance:_r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},b_={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gy(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||U_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{xl=Zo.inject(b_),fn=Zo}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B_;Ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gf(t))throw Error(D(200));return F_(e,t,null,n)};Ut.createRoot=function(e,t){if(!Gf(e))throw Error(D(299));var n=!1,r="",i=Qv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qf(e,1,!1,null,null,n,!1,r,i),e[Dn]=t.current,Bs(e.nodeType===8?e.parentNode:e),new Kf(t)};Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=gy(t),e=e===null?null:e.stateNode,e};Ut.flushSync=function(e){return Ur(e)};Ut.hydrate=function(e,t,n){if(!Bl(t))throw Error(D(200));return bl(null,e,t,!0,n)};Ut.hydrateRoot=function(e,t,n){if(!Gf(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Qv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Gv(t,null,e,1,n??null,i,!1,s,o),e[Dn]=t.current,Bs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vl(t)};Ut.render=function(e,t,n){if(!Bl(t))throw Error(D(200));return bl(null,e,t,!1,n)};Ut.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(D(40));return e._reactRootContainer?(Ur(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Ut.unstable_batchedUpdates=bf;Ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return bl(e,t,n,!1,r)};Ut.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Ut})(UE);var mm=Tc;Cc.createRoot=mm.createRoot,Cc.hydrateRoot=mm.hydrateRoot;var go=e=>e.type==="checkbox",fi=e=>e instanceof Date,vt=e=>e==null;const Yv=e=>typeof e=="object";var Be=e=>!vt(e)&&!Array.isArray(e)&&Yv(e)&&!fi(e),z_=e=>Be(e)&&e.target?go(e.target)?e.target.checked:e.target.value:e,j_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,H_=(e,t)=>e.has(j_(t)),q_=e=>{const t=e.constructor&&e.constructor.prototype;return Be(t)&&t.hasOwnProperty("isPrototypeOf")},Qf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Er(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Qf&&(e instanceof Blob||e instanceof FileList))&&(n||Be(e)))if(t=n?[]:{},!Array.isArray(e)&&!q_(e))t=e;else for(const r in e)t[r]=Er(e[r]);else return e;return t}var yo=e=>Array.isArray(e)?e.filter(Boolean):[],Re=e=>e===void 0,V=(e,t,n)=>{if(!t||!Be(e))return n;const r=yo(t.split(/[,[\].]+?/)).reduce((i,s)=>vt(i)?i:i[s],e);return Re(r)||r===e?Re(e[t])?n:e[t]:r};const gm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};_n.createContext(null);var W_=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Zt.all&&(t._proxyFormState[o]=!r||Zt.all),n&&(n[o]=!0),e[o]}});return i},Bt=e=>Be(e)&&!Object.keys(e).length,K_=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Bt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||Zt.all))},Xu=e=>Array.isArray(e)?e:[e];function G_(e){const t=_n.useRef(e);t.current=e,_n.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var cn=e=>typeof e=="string",Q_=(e,t,n,r,i)=>cn(e)?(r&&t.watch.add(e),V(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),V(n,s))):(r&&(t.watchAll=!0),n),Yf=e=>/^\w*$/.test(e),Xv=e=>yo(e.replace(/["|']|\]/g,"").split(/\.|\[/));function me(e,t,n){let r=-1;const i=Yf(t)?[t]:Xv(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=e[a];l=Be(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}var Y_=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const wh=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=V(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Be(o)&&wh(o,t)}}};var ym=e=>({isOnSubmit:!e||e===Zt.onSubmit,isOnBlur:e===Zt.onBlur,isOnChange:e===Zt.onChange,isOnAll:e===Zt.all,isOnTouch:e===Zt.onTouched}),vm=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),X_=(e,t,n)=>{const r=yo(V(e,n));return me(r,"root",t[n]),me(e,n,r),e},Ei=e=>typeof e=="boolean",Xf=e=>e.type==="file",Hn=e=>typeof e=="function",el=e=>{if(!Qf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ca=e=>cn(e),Jf=e=>e.type==="radio",tl=e=>e instanceof RegExp;const wm={value:!1,isValid:!1},Em={value:!0,isValid:!0};var Jv=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Re(e[0].attributes.value)?Re(e[0].value)||e[0].value===""?Em:{value:e[0].value,isValid:!0}:Em:wm}return wm};const Sm={isValid:!1,value:null};var Zv=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Sm):Sm;function _m(e,t,n="validate"){if(Ca(e)||Array.isArray(e)&&e.every(Ca)||Ei(e)&&!e)return{type:n,message:Ca(e)?e:"",ref:t}}var Xr=e=>Be(e)&&!tl(e)?e:{value:e,message:""},km=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:f,pattern:h,validate:m,name:w,valueAsNumber:v,mount:_,disabled:p}=e._f,d=V(t,w);if(!_||p)return{};const g=o?o[0]:s,E=J=>{r&&g.reportValidity&&(g.setCustomValidity(Ei(J)?"":J||""),g.reportValidity())},C={},P=Jf(s),$=go(s),L=P||$,ne=(v||Xf(s))&&Re(s.value)&&Re(d)||el(s)&&s.value===""||d===""||Array.isArray(d)&&!d.length,H=Y_.bind(null,w,n,C),we=(J,Y,ue,ze=wn.maxLength,je=wn.minLength)=>{const He=J?Y:ue;C[w]={type:J?ze:je,message:He,ref:s,...H(J?ze:je,He)}};if(i?!Array.isArray(d)||!d.length:a&&(!L&&(ne||vt(d))||Ei(d)&&!d||$&&!Jv(o).isValid||P&&!Zv(o).isValid)){const{value:J,message:Y}=Ca(a)?{value:!!a,message:a}:Xr(a);if(J&&(C[w]={type:wn.required,message:Y,ref:g,...H(wn.required,Y)},!n))return E(Y),C}if(!ne&&(!vt(c)||!vt(f))){let J,Y;const ue=Xr(f),ze=Xr(c);if(!vt(d)&&!isNaN(d)){const je=s.valueAsNumber||d&&+d;vt(ue.value)||(J=je>ue.value),vt(ze.value)||(Y=je<ze.value)}else{const je=s.valueAsDate||new Date(d),He=W=>new Date(new Date().toDateString()+" "+W),R=s.type=="time",q=s.type=="week";cn(ue.value)&&d&&(J=R?He(d)>He(ue.value):q?d>ue.value:je>new Date(ue.value)),cn(ze.value)&&d&&(Y=R?He(d)<He(ze.value):q?d<ze.value:je<new Date(ze.value))}if((J||Y)&&(we(!!J,ue.message,ze.message,wn.max,wn.min),!n))return E(C[w].message),C}if((l||u)&&!ne&&(cn(d)||i&&Array.isArray(d))){const J=Xr(l),Y=Xr(u),ue=!vt(J.value)&&d.length>+J.value,ze=!vt(Y.value)&&d.length<+Y.value;if((ue||ze)&&(we(ue,J.message,Y.message),!n))return E(C[w].message),C}if(h&&!ne&&cn(d)){const{value:J,message:Y}=Xr(h);if(tl(J)&&!d.match(J)&&(C[w]={type:wn.pattern,message:Y,ref:s,...H(wn.pattern,Y)},!n))return E(Y),C}if(m){if(Hn(m)){const J=await m(d,t),Y=_m(J,g);if(Y&&(C[w]={...Y,...H(wn.validate,Y.message)},!n))return E(Y.message),C}else if(Be(m)){let J={};for(const Y in m){if(!Bt(J)&&!n)break;const ue=_m(await m[Y](d,t),g,Y);ue&&(J={...ue,...H(Y,ue.message)},E(ue.message),n&&(C[w]=J))}if(!Bt(J)&&(C[w]={ref:g,...J},!n))return C}}return E(!0),C};function J_(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Re(e)?r++:e[t[r++]];return e}function Z_(e){for(const t in e)if(!Re(e[t]))return!1;return!0}function Xe(e,t){const n=Array.isArray(t)?t:Yf(t)?[t]:Xv(t),r=n.length===1?e:J_(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Be(r)&&Bt(r)||Array.isArray(r)&&Z_(r))&&Xe(e,n.slice(0,-1)),e}function Ju(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var nl=e=>vt(e)||!Yv(e);function Tr(e,t){if(nl(e)||nl(t))return e===t;if(fi(e)&&fi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(fi(s)&&fi(o)||Be(s)&&Be(o)||Array.isArray(s)&&Array.isArray(o)?!Tr(s,o):s!==o)return!1}}return!0}var e0=e=>e.type==="select-multiple",ek=e=>Jf(e)||go(e),Zu=e=>el(e)&&e.isConnected,t0=e=>{for(const t in e)if(Hn(e[t]))return!0;return!1};function rl(e,t={}){const n=Array.isArray(e);if(Be(e)||n)for(const r in e)Array.isArray(e[r])||Be(e[r])&&!t0(e[r])?(t[r]=Array.isArray(e[r])?[]:{},rl(e[r],t[r])):vt(e[r])||(t[r]=!0);return t}function n0(e,t,n){const r=Array.isArray(e);if(Be(e)||r)for(const i in e)Array.isArray(e[i])||Be(e[i])&&!t0(e[i])?Re(t)||nl(n[i])?n[i]=Array.isArray(e[i])?rl(e[i],[]):{...rl(e[i])}:n0(e[i],vt(t)?{}:t[i],n[i]):n[i]=!Tr(e[i],t[i]);return n}var ec=(e,t)=>n0(e,t,rl(t)),r0=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Re(e)?e:t?e===""?NaN:e&&+e:n&&cn(e)?new Date(e):r?r(e):e;function tc(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Xf(t)?t.files:Jf(t)?Zv(e.refs).value:e0(t)?[...t.selectedOptions].map(({value:n})=>n):go(t)?Jv(e.refs).value:r0(Re(t.value)?e.ref.value:t.value,e)}var tk=(e,t,n,r)=>{const i={};for(const s of e){const o=V(t,s);o&&me(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},ss=e=>Re(e)?e:tl(e)?e.source:Be(e)?tl(e.value)?e.value.source:e.value:e,nk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Cm(e,t,n){const r=V(e,n);if(r||Yf(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=V(t,s),a=V(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var rk=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,ik=(e,t)=>!yo(V(e,t)).length&&Xe(e,t);const sk={mode:Zt.onSubmit,reValidateMode:Zt.onChange,shouldFocusError:!0};function ok(e={},t){let n={...sk,...e},r={submitCount:0,isDirty:!1,isLoading:Hn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Be(n.defaultValues)||Be(n.values)?Er(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Er(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ju(),array:Ju(),state:Ju()},m=e.resetOptions&&e.resetOptions.keepDirtyValues,w=ym(n.mode),v=ym(n.reValidateMode),_=n.criteriaMode===Zt.all,p=y=>S=>{clearTimeout(c),c=setTimeout(y,S)},d=async y=>{if(f.isValid||y){const S=n.resolver?Bt((await ne()).errors):await we(i,!0);S!==r.isValid&&h.state.next({isValid:S})}},g=y=>f.isValidating&&h.state.next({isValidating:y}),E=(y,S=[],k,U,O=!0,A=!0)=>{if(U&&k){if(a.action=!0,A&&Array.isArray(V(i,y))){const b=k(V(i,y),U.argA,U.argB);O&&me(i,y,b)}if(A&&Array.isArray(V(r.errors,y))){const b=k(V(r.errors,y),U.argA,U.argB);O&&me(r.errors,y,b),ik(r.errors,y)}if(f.touchedFields&&A&&Array.isArray(V(r.touchedFields,y))){const b=k(V(r.touchedFields,y),U.argA,U.argB);O&&me(r.touchedFields,y,b)}f.dirtyFields&&(r.dirtyFields=ec(s,o)),h.state.next({name:y,isDirty:Y(y,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else me(o,y,S)},C=(y,S)=>{me(r.errors,y,S),h.state.next({errors:r.errors})},P=(y,S,k,U)=>{const O=V(i,y);if(O){const A=V(o,y,Re(k)?V(s,y):k);Re(A)||U&&U.defaultChecked||S?me(o,y,S?A:tc(O._f)):je(y,A),a.mount&&d()}},$=(y,S,k,U,O)=>{let A=!1,b=!1;const ke={name:y};if(!k||U){f.isDirty&&(b=r.isDirty,r.isDirty=ke.isDirty=Y(),A=b!==ke.isDirty);const De=Tr(V(s,y),S);b=V(r.dirtyFields,y),De?Xe(r.dirtyFields,y):me(r.dirtyFields,y,!0),ke.dirtyFields=r.dirtyFields,A=A||f.dirtyFields&&b!==!De}if(k){const De=V(r.touchedFields,y);De||(me(r.touchedFields,y,k),ke.touchedFields=r.touchedFields,A=A||f.touchedFields&&De!==k)}return A&&O&&h.state.next(ke),A?ke:{}},L=(y,S,k,U)=>{const O=V(r.errors,y),A=f.isValid&&Ei(S)&&r.isValid!==S;if(e.delayError&&k?(u=p(()=>C(y,k)),u(e.delayError)):(clearTimeout(c),u=null,k?me(r.errors,y,k):Xe(r.errors,y)),(k?!Tr(O,k):O)||!Bt(U)||A){const b={...U,...A&&Ei(S)?{isValid:S}:{},errors:r.errors,name:y};r={...r,...b},h.state.next(b)}g(!1)},ne=async y=>n.resolver(o,n.context,tk(y||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),H=async y=>{const{errors:S}=await ne();if(y)for(const k of y){const U=V(S,k);U?me(r.errors,k,U):Xe(r.errors,k)}else r.errors=S;return S},we=async(y,S,k={valid:!0})=>{for(const U in y){const O=y[U];if(O){const{_f:A,...b}=O;if(A){const ke=l.array.has(A.name),De=await km(O,o,_,n.shouldUseNativeValidation&&!S,ke);if(De[A.name]&&(k.valid=!1,S))break;!S&&(V(De,A.name)?ke?X_(r.errors,De,A.name):me(r.errors,A.name,De[A.name]):Xe(r.errors,A.name))}b&&await we(b,S,k)}}return k.valid},J=()=>{for(const y of l.unMount){const S=V(i,y);S&&(S._f.refs?S._f.refs.every(k=>!Zu(k)):!Zu(S._f.ref))&&it(y)}l.unMount=new Set},Y=(y,S)=>(y&&S&&me(o,y,S),!Tr(ce(),s)),ue=(y,S,k)=>Q_(y,l,{...a.mount?o:Re(S)?s:cn(y)?{[y]:S}:S},k,S),ze=y=>yo(V(a.mount?o:s,y,e.shouldUnregister?V(s,y,[]):[])),je=(y,S,k={})=>{const U=V(i,y);let O=S;if(U){const A=U._f;A&&(!A.disabled&&me(o,y,r0(S,A)),O=el(A.ref)&&vt(S)?"":S,e0(A.ref)?[...A.ref.options].forEach(b=>b.selected=O.includes(b.value)):A.refs?go(A.ref)?A.refs.length>1?A.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(O)?!!O.find(ke=>ke===b.value):O===b.value)):A.refs[0]&&(A.refs[0].checked=!!O):A.refs.forEach(b=>b.checked=b.value===O):Xf(A.ref)?A.ref.value="":(A.ref.value=O,A.ref.type||h.values.next({name:y,values:{...o}})))}(k.shouldDirty||k.shouldTouch)&&$(y,O,k.shouldTouch,k.shouldDirty,!0),k.shouldValidate&&W(y)},He=(y,S,k)=>{for(const U in S){const O=S[U],A=`${y}.${U}`,b=V(i,A);(l.array.has(y)||!nl(O)||b&&!b._f)&&!fi(O)?He(A,O,k):je(A,O,k)}},R=(y,S,k={})=>{const U=V(i,y),O=l.array.has(y),A=Er(S);me(o,y,A),O?(h.array.next({name:y,values:{...o}}),(f.isDirty||f.dirtyFields)&&k.shouldDirty&&h.state.next({name:y,dirtyFields:ec(s,o),isDirty:Y(y,A)})):U&&!U._f&&!vt(A)?He(y,A,k):je(y,A,k),vm(y,l)&&h.state.next({...r}),h.values.next({name:y,values:{...o}}),!a.mount&&t()},q=async y=>{const S=y.target;let k=S.name,U=!0;const O=V(i,k),A=()=>S.type?tc(O._f):z_(y);if(O){let b,ke;const De=A(),Qr=y.type===gm.BLUR||y.type===gm.FOCUS_OUT,cE=!nk(O._f)&&!n.resolver&&!V(r.errors,k)&&!O._f.deps||rk(Qr,V(r.touchedFields,k),r.isSubmitted,v,w),ku=vm(k,l,Qr);me(o,k,De),Qr?(O._f.onBlur&&O._f.onBlur(y),u&&u(0)):O._f.onChange&&O._f.onChange(y);const Cu=$(k,De,Qr,!1),hE=!Bt(Cu)||ku;if(!Qr&&h.values.next({name:k,type:y.type,values:{...o}}),cE)return f.isValid&&d(),hE&&h.state.next({name:k,...ku?{}:Cu});if(!Qr&&ku&&h.state.next({...r}),g(!0),n.resolver){const{errors:sp}=await ne([k]),fE=Cm(r.errors,i,k),op=Cm(sp,i,fE.name||k);b=op.error,k=op.name,ke=Bt(sp)}else b=(await km(O,o,_,n.shouldUseNativeValidation))[k],U=isNaN(De)||De===V(o,k,De),U&&(b?ke=!1:f.isValid&&(ke=await we(i,!0)));U&&(O._f.deps&&W(O._f.deps),L(k,ke,b,Cu))}},W=async(y,S={})=>{let k,U;const O=Xu(y);if(g(!0),n.resolver){const A=await H(Re(y)?y:O);k=Bt(A),U=y?!O.some(b=>V(A,b)):k}else y?(U=(await Promise.all(O.map(async A=>{const b=V(i,A);return await we(b&&b._f?{[A]:b}:b)}))).every(Boolean),!(!U&&!r.isValid)&&d()):U=k=await we(i);return h.state.next({...!cn(y)||f.isValid&&k!==r.isValid?{}:{name:y},...n.resolver||!y?{isValid:k}:{},errors:r.errors,isValidating:!1}),S.shouldFocus&&!U&&wh(i,A=>A&&V(r.errors,A),y?O:l.mount),U},ce=y=>{const S={...s,...a.mount?o:{}};return Re(y)?S:cn(y)?V(S,y):y.map(k=>V(S,k))},Z=(y,S)=>({invalid:!!V((S||r).errors,y),isDirty:!!V((S||r).dirtyFields,y),isTouched:!!V((S||r).touchedFields,y),error:V((S||r).errors,y)}),At=y=>{y&&Xu(y).forEach(S=>Xe(r.errors,S)),h.state.next({errors:y?r.errors:{}})},Qe=(y,S,k)=>{const U=(V(i,y,{_f:{}})._f||{}).ref;me(r.errors,y,{...S,ref:U}),h.state.next({name:y,errors:r.errors,isValid:!1}),k&&k.shouldFocus&&U&&U.focus&&U.focus()},kt=(y,S)=>Hn(y)?h.values.subscribe({next:k=>y(ue(void 0,S),k)}):ue(y,S,!0),it=(y,S={})=>{for(const k of y?Xu(y):l.mount)l.mount.delete(k),l.array.delete(k),S.keepValue||(Xe(i,k),Xe(o,k)),!S.keepError&&Xe(r.errors,k),!S.keepDirty&&Xe(r.dirtyFields,k),!S.keepTouched&&Xe(r.touchedFields,k),!n.shouldUnregister&&!S.keepDefaultValue&&Xe(s,k);h.values.next({values:{...o}}),h.state.next({...r,...S.keepDirty?{isDirty:Y()}:{}}),!S.keepIsValid&&d()},vn=(y,S={})=>{let k=V(i,y);const U=Ei(S.disabled);return me(i,y,{...k||{},_f:{...k&&k._f?k._f:{ref:{name:y}},name:y,mount:!0,...S}}),l.mount.add(y),k?U&&me(o,y,S.disabled?void 0:V(o,y,tc(k._f))):P(y,!0,S.value),{...U?{disabled:S.disabled}:{},...n.shouldUseNativeValidation?{required:!!S.required,min:ss(S.min),max:ss(S.max),minLength:ss(S.minLength),maxLength:ss(S.maxLength),pattern:ss(S.pattern)}:{},name:y,onChange:q,onBlur:q,ref:O=>{if(O){vn(y,S),k=V(i,y);const A=Re(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,b=ek(A),ke=k._f.refs||[];if(b?ke.find(De=>De===A):A===k._f.ref)return;me(i,y,{_f:{...k._f,...b?{refs:[...ke.filter(Zu),A,...Array.isArray(V(s,y))?[{}]:[]],ref:{type:A.type,name:y}}:{ref:A}}}),P(y,!1,void 0,A)}else k=V(i,y,{}),k._f&&(k._f.mount=!1),(n.shouldUnregister||S.shouldUnregister)&&!(H_(l.array,y)&&a.action)&&l.unMount.add(y)}}},Mo=()=>n.shouldFocusError&&wh(i,y=>y&&V(r.errors,y),l.mount),lE=(y,S)=>async k=>{k&&(k.preventDefault&&k.preventDefault(),k.persist&&k.persist());let U=Er(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:O,values:A}=await ne();r.errors=O,U=A}else await we(i);Xe(r.errors,"root"),Bt(r.errors)?(h.state.next({errors:{}}),await y(U,k)):(S&&await S({...r.errors},k),Mo(),setTimeout(Mo)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},uE=(y,S={})=>{V(i,y)&&(Re(S.defaultValue)?R(y,V(s,y)):(R(y,S.defaultValue),me(s,y,S.defaultValue)),S.keepTouched||Xe(r.touchedFields,y),S.keepDirty||(Xe(r.dirtyFields,y),r.isDirty=S.defaultValue?Y(y,V(s,y)):Y()),S.keepError||(Xe(r.errors,y),f.isValid&&d()),h.state.next({...r}))},rp=(y,S={})=>{const k=y||s,U=Er(k),O=y&&!Bt(y)?U:s;if(S.keepDefaultValues||(s=k),!S.keepValues){if(S.keepDirtyValues||m)for(const A of l.mount)V(r.dirtyFields,A)?me(O,A,V(o,A)):R(A,V(O,A));else{if(Qf&&Re(y))for(const A of l.mount){const b=V(i,A);if(b&&b._f){const ke=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(el(ke)){const De=ke.closest("form");if(De){De.reset();break}}}}i={}}o=e.shouldUnregister?S.keepDefaultValues?Er(s):{}:U,h.array.next({values:{...O}}),h.values.next({values:{...O}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!f.isValid||!!S.keepIsValid,a.watch=!!e.shouldUnregister,h.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Tr(y,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:S.keepDirtyValues?r.dirtyFields:S.keepDefaultValues&&y?ec(s,y):{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ip=(y,S)=>rp(Hn(y)?y(o):y,S);return{control:{register:vn,unregister:it,getFieldState:Z,_executeSchema:ne,_getWatch:ue,_getDirty:Y,_updateValid:d,_removeUnmounted:J,_updateFieldArray:E,_getFieldArray:ze,_reset:rp,_resetDefaultValues:()=>Hn(n.defaultValues)&&n.defaultValues().then(y=>{ip(y,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:y=>{r={...r,...y}},_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(y){a=y},get _defaultValues(){return s},get _names(){return l},set _names(y){l=y},get _formState(){return r},set _formState(y){r=y},get _options(){return n},set _options(y){n={...n,...y}}},trigger:W,register:vn,handleSubmit:lE,watch:kt,setValue:R,getValues:ce,reset:ip,resetField:uE,clearErrors:At,unregister:it,setError:Qe,setFocus:(y,S={})=>{const k=V(i,y),U=k&&k._f;if(U){const O=U.refs?U.refs[0]:U.ref;O.focus&&(O.focus(),S.shouldSelect&&O.select())}},getFieldState:Z}}function ak(e={}){const t=_n.useRef(),[n,r]=_n.useState({isDirty:!1,isValidating:!1,isLoading:Hn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Hn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ok(e,()=>r(s=>({...s}))),formState:n});const i=t.current.control;return i._options=e,G_({subject:i._subjects.state,next:s=>{K_(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),_n.useEffect(()=>{e.values&&!Tr(e.values,i._defaultValues)?i._reset(e.values,i._options.resetOptions):i._resetDefaultValues()},[e.values,i]),_n.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=W_(n,i),t.current}const an=({children:e})=>I("div",{children:e}),qn=({label:e,name:t,type:n,register:r,accept:i,multiple:s,errors:o})=>ie(Il,{children:[I("label",{children:e}),I("input",{type:n,...r(t),accept:i,multiple:s}),o&&o[t]&&I("p",{children:o[t].message})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},lk=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[c],n[f],n[h],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new uk;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ck=function(e){const t=i0(e);return s0.encodeByteArray(t,!0)},il=function(e){return ck(e).replace(/\./g,"")},hk=function(e){try{return s0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=()=>fk().__FIREBASE_DEFAULTS__,pk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hk(e[1]);return t&&JSON.parse(t)},Zf=()=>{try{return dk()||pk()||mk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gk=e=>{var t,n;return(n=(t=Zf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},o0=e=>{const t=gk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},yk=()=>{var e;return(e=Zf())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[il(JSON.stringify(n)),il(JSON.stringify(o)),a].join(".")}function wk(){var e;const t=(e=Zf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ek(){try{return typeof indexedDB=="object"}catch{return!1}}function Sk(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="FirebaseError";class qr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=_k,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l0.prototype.create)}}class l0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?kk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qr(i,a,r)}}function kk(e,t){return e.replace(Ck,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Ck=/\{\$([^}]+)}/g;function Eh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Tm(s)&&Tm(o)){if(!Eh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e){return e&&e._delegate?e._delegate:e}class Ai{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new vk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xk(t))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Sr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Sr){return this.instances.has(t)}getOptions(t=Sr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ik(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Sr){return this.component?this.component.multipleInstances?t:Sr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ik(e){return e===Sr?void 0:e}function xk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Tk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(oe||(oe={}));const Nk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Ak=oe.INFO,Rk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Pk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Rk[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class u0{constructor(t){this.name=t,this._logLevel=Ak,this._logHandler=Pk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Nk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}}const $k=(e,t)=>t.some(n=>e instanceof n);let Im,xm;function Lk(){return Im||(Im=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ok(){return xm||(xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,Sh=new WeakMap,h0=new WeakMap,nc=new WeakMap,ed=new WeakMap;function Mk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(tr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&c0.set(n,e)}).catch(()=>{}),ed.set(t,e),t}function Fk(e){if(Sh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Sh.set(e,t)}let _h={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Sh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||h0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Uk(e){_h=e(_h)}function Vk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(rc(this),t,...n);return h0.set(r,t.sort?t.sort():[t]),tr(r)}:Ok().includes(e)?function(...t){return e.apply(rc(this),t),tr(c0.get(this))}:function(...t){return tr(e.apply(rc(this),t))}}function Bk(e){return typeof e=="function"?Vk(e):(e instanceof IDBTransaction&&Fk(e),$k(e,Lk())?new Proxy(e,_h):e)}function tr(e){if(e instanceof IDBRequest)return Mk(e);if(nc.has(e))return nc.get(e);const t=Bk(e);return t!==e&&(nc.set(e,t),ed.set(t,e)),t}const rc=e=>ed.get(e);function bk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=tr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(tr(o.result),l.oldVersion,l.newVersion,tr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const zk=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],ic=new Map;function Dm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ic.get(t))return ic.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zk.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ic.set(t,s),s}Uk(e=>({...e,get:(t,n,r)=>Dm(t,n)||e.get(t,n,r),has:(t,n)=>!!Dm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kh="@firebase/app",Nm="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new u0("@firebase/app"),Wk="@firebase/app-compat",Kk="@firebase/analytics-compat",Gk="@firebase/analytics",Qk="@firebase/app-check-compat",Yk="@firebase/app-check",Xk="@firebase/auth",Jk="@firebase/auth-compat",Zk="@firebase/database",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",iC="@firebase/installations-compat",sC="@firebase/messaging",oC="@firebase/messaging-compat",aC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",fC="@firebase/storage-compat",dC="@firebase/firestore",pC="@firebase/firestore-compat",mC="firebase",gC="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="[DEFAULT]",yC={[kh]:"fire-core",[Wk]:"fire-core-compat",[Gk]:"fire-analytics",[Kk]:"fire-analytics-compat",[Yk]:"fire-app-check",[Qk]:"fire-app-check-compat",[Xk]:"fire-auth",[Jk]:"fire-auth-compat",[Zk]:"fire-rtdb",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[iC]:"fire-iid-compat",[sC]:"fire-fcm",[oC]:"fire-fcm-compat",[aC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[fC]:"fire-gcs-compat",[dC]:"fire-fst",[pC]:"fire-fst-compat","fire-js":"fire-js",[mC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Map,Th=new Map;function vC(e,t){try{e.container.addComponent(t)}catch(n){Vr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Qs(e){const t=e.name;if(Th.has(t))return Vr.debug(`There were multiple attempts to register component ${t}.`),!1;Th.set(t,e);for(const n of sl.values())vC(n,e);return!0}function f0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nr=new l0("app","Firebase",wC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=gC;function p0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ch,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw nr.create("bad-app-name",{appName:String(i)});if(n||(n=yk()),!n)throw nr.create("no-options");const s=sl.get(i);if(s){if(Eh(n,s.options)&&Eh(r,s.config))return s;throw nr.create("duplicate-app",{appName:i})}const o=new Dk(i);for(const l of Th.values())o.addComponent(l);const a=new EC(n,r,o);return sl.set(i,a),a}function m0(e=Ch){const t=sl.get(e);if(!t&&e===Ch)return p0();if(!t)throw nr.create("no-app",{appName:e});return t}function rr(e,t,n){var r;let i=(r=yC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Qs(new Ai(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebase-heartbeat-database",_C=1,Ys="firebase-heartbeat-store";let sc=null;function g0(){return sc||(sc=bk(SC,_C,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ys)}}}).catch(e=>{throw nr.create("idb-open",{originalErrorMessage:e.message})})),sc}async function kC(e){try{return(await g0()).transaction(Ys).objectStore(Ys).get(y0(e))}catch(t){if(t instanceof qr)Vr.warn(t.message);else{const n=nr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vr.warn(n.message)}}}async function Am(e,t){try{const r=(await g0()).transaction(Ys,"readwrite");return await r.objectStore(Ys).put(t,y0(e)),r.done}catch(n){if(n instanceof qr)Vr.warn(n.message);else{const r=nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function y0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=1024,TC=30*24*60*60*1e3;class IC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=TC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rm(),{heartbeatsToSend:n,unsentEntries:r}=xC(this._heartbeatsCache.heartbeats),i=il(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Rm(){return new Date().toISOString().substring(0,10)}function xC(e,t=CC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ek()?Sk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await kC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Am(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Am(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Pm(e){return il(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(e){Qs(new Ai("platform-logger",t=>new Hk(t),"PRIVATE")),Qs(new Ai("heartbeat",t=>new IC(t),"PRIVATE")),rr(kh,Nm,e),rr(kh,Nm,"esm2017"),rr("fire-js","")}NC("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firebasestorage.googleapis.com",w0="storageBucket",AC=2*60*1e3,RC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends qr{constructor(t,n,r=0){super(oc(t),`Firebase Storage: ${n} (${oc(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return oc(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function oc(e){return"storage/"+e}function td(){const e="An unknown error occurred, please check the error payload for server response.";return new xe(Te.UNKNOWN,e)}function PC(e){return new xe(Te.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function $C(e){return new xe(Te.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LC(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(Te.UNAUTHENTICATED,e)}function OC(){return new xe(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MC(e){return new xe(Te.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function FC(){return new xe(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UC(){return new xe(Te.CANCELED,"User canceled the upload/download.")}function VC(e){return new xe(Te.INVALID_URL,"Invalid URL '"+e+"'.")}function BC(e){return new xe(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function bC(){return new xe(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+w0+"' property when initializing the app?")}function zC(){return new xe(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jC(){return new xe(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HC(e){return new xe(Te.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ih(e){return new xe(Te.INVALID_ARGUMENT,e)}function E0(){return new xe(Te.APP_DELETED,"The Firebase app was deleted.")}function qC(e){return new xe(Te.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ts(e,t){return new xe(Te.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function os(e){throw new xe(Te.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=$t.makeFromUrl(t,n)}catch{return new $t(t,"")}if(r.path==="")return r;throw BC(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),w={bucket:1,path:3},v=n===v0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",p=new RegExp(`^https?://${v}/${i}/${_}`,"i"),g=[{regex:a,indices:l,postModify:s},{regex:m,indices:w,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<g.length;E++){const C=g[E],P=C.regex.exec(t);if(P){const $=P[C.indices.bucket];let L=P[C.indices.path];L||(L=""),r=new $t($,L),C.postModify(r);break}}if(r==null)throw VC(t);return r}}class WC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,t.apply(null,_))}function f(_){i=setTimeout(()=>{i=null,e(m,l())},_)}function h(){s&&clearTimeout(s)}function m(_,...p){if(u){h();return}if(_){h(),c.call(null,_,...p);return}if(l()||o){h(),c.call(null,_,...p);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,f(g)}let w=!1;function v(_){w||(w=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),f(0)):_||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function GC(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(e){return e!==void 0}function YC(e){return typeof e=="object"&&!Array.isArray(e)}function nd(e){return typeof e=="string"||e instanceof String}function $m(e){return rd()&&e instanceof Blob}function rd(){return typeof Blob<"u"&&!wk()}function Lm(e,t,n,r){if(r<t)throw Ih(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ih(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function S0(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Rr||(Rr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,n,r,i,s,o,a,l,u,c,f,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,w)=>{this.resolve_=m,this.reject_=w,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new ea(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Rr.NO_ERROR,l=s.getStatus();if(!a||XC(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Rr.ABORT;r(!1,new ea(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ea(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());QC(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=td();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?E0():UC();o(l)}else{const l=FC();o(l)}};this.canceled_?n(!1,new ea(!1,null,!0)):this.backoffId_=KC(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&GC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ea{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function ZC(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function eT(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function tT(e,t){t&&(e["X-Firebase-GMPID"]=t)}function nT(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function rT(e,t,n,r,i,s,o=!0){const a=S0(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return tT(u,t),ZC(u,n),eT(u,s),nT(u,r),new JC(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sT(...e){const t=iT();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(rd())return new Blob(e);throw new xe(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oT(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e){if(typeof atob>"u")throw HC("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ac{constructor(t,n){this.data=t,this.contentType=n||null}}function lT(e,t){switch(e){case hn.RAW:return new ac(_0(t));case hn.BASE64:case hn.BASE64URL:return new ac(k0(e,t));case hn.DATA_URL:return new ac(cT(t),hT(t))}throw td()}function _0(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function uT(e){let t;try{t=decodeURIComponent(e)}catch{throw Ts(hn.DATA_URL,"Malformed data URL.")}return _0(t)}function k0(e,t){switch(e){case hn.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Ts(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hn.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Ts(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aT(t)}catch(i){throw i.message.includes("polyfill")?i:Ts(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class C0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ts(hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=fT(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function cT(e){const t=new C0(e);return t.base64?k0(hn.BASE64,t.rest):uT(t.rest)}function hT(e){return new C0(e).contentType}function fT(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t,n){let r=0,i="";$m(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if($m(this.data_)){const r=this.data_,i=oT(r,t,n);return i===null?null:new bn(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new bn(r,!0)}}static getBlob(...t){if(rd()){const n=t.map(r=>r instanceof bn?r.data_:r);return new bn(sT.apply(null,n))}else{const n=t.map(o=>nd(o)?lT(hn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new bn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(e){let t;try{t=JSON.parse(e)}catch{return null}return YC(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function pT(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function I0(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(e,t){return t}class gt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||mT}}let ta=null;function gT(e){return!nd(e)||e.length<2?e:I0(e)}function x0(){if(ta)return ta;const e=[];e.push(new gt("bucket")),e.push(new gt("generation")),e.push(new gt("metageneration")),e.push(new gt("name","fullPath",!0));function t(s,o){return gT(o)}const n=new gt("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new gt("size");return i.xform=r,e.push(i),e.push(new gt("timeCreated")),e.push(new gt("updated")),e.push(new gt("md5Hash",null,!0)),e.push(new gt("cacheControl",null,!0)),e.push(new gt("contentDisposition",null,!0)),e.push(new gt("contentEncoding",null,!0)),e.push(new gt("contentLanguage",null,!0)),e.push(new gt("contentType",null,!0)),e.push(new gt("metadata","customMetadata",!0)),ta=e,ta}function yT(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new $t(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function vT(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return yT(r,e),r}function D0(e,t,n){const r=T0(t);return r===null?null:vT(e,r,n)}function wT(e,t,n,r){const i=T0(t);if(i===null||!nd(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,f=e.fullPath,h="/b/"+o(c)+"/o/"+o(f),m=id(h,n,r),w=S0({alt:"media",token:u});return m+w})[0]}function ET(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class N0{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(e){if(!e)throw td()}function ST(e,t){function n(r,i){const s=D0(e,i,t);return A0(s!==null),s}return n}function _T(e,t){function n(r,i){const s=D0(e,i,t);return A0(s!==null),wT(s,i,e.host,e._protocol)}return n}function R0(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=OC():i=LC():n.getStatus()===402?i=$C(e.bucket):n.getStatus()===403?i=MC(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function kT(e){const t=R0(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=PC(e.path)),s.serverResponse=i.serverResponse,s}return n}function CT(e,t,n){const r=t.fullServerUrl(),i=id(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new N0(i,s,_T(e,n),o);return a.errorHandler=kT(t),a}function TT(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function IT(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=TT(null,t)),r}function xT(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let E=0;E<2;E++)g=g+Math.random().toString().slice(2);return g}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=IT(t,r,i),c=ET(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=bn.getBlob(f,r,h);if(m===null)throw zC();const w={name:u.fullPath},v=id(s,e.host,e._protocol),_="POST",p=e.maxUploadRetryTime,d=new N0(v,_,ST(e,n),p);return d.urlParams=w,d.headers=o,d.body=m.uploadData(),d.errorHandler=R0(t),d}class DT{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw os("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw os("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw os("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw os("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw os("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class NT extends DT{initXhr(){this.xhr_.responseType="text"}}function P0(){return new NT}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n){this._service=t,n instanceof $t?this._location=n:this._location=$t.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Br(t,n)}get root(){const t=new $t(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I0(this._location.path)}get storage(){return this._service}get parent(){const t=dT(this._location.path);if(t===null)return null;const n=new $t(this._location.bucket,t);return new Br(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw qC(t)}}function AT(e,t,n){e._throwIfRoot("uploadBytes");const r=xT(e.storage,e._location,x0(),new bn(t,!0),n);return e.storage.makeRequestWithTokens(r,P0).then(i=>({metadata:i,ref:e}))}function RT(e){e._throwIfRoot("getDownloadURL");const t=CT(e.storage,e._location,x0());return e.storage.makeRequestWithTokens(t,P0).then(n=>{if(n===null)throw jC();return n})}function PT(e,t){const n=pT(e._location.path,t),r=new $t(e._location.bucket,n);return new Br(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e){return/^[A-Za-z]+:\/\//.test(e)}function LT(e,t){return new Br(e,t)}function $0(e,t){if(e instanceof sd){const n=e;if(n._bucket==null)throw bC();const r=new Br(n,n._bucket);return t!=null?$0(r,t):r}else return t!==void 0?PT(e,t):e}function OT(e,t){if(t&&$T(t)){if(e instanceof sd)return LT(e,t);throw Ih("To use ref(service, url), the first argument must be a Storage instance.")}else return $0(e,t)}function Om(e,t){const n=t==null?void 0:t[w0];return n==null?null:$t.makeFromBucketSpec(n,e)}function MT(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:a0(i,e.app.options.projectId))}class sd{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=v0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AC,this._maxUploadRetryTime=RC,this._requests=new Set,i!=null?this._bucket=$t.makeFromBucketSpec(i,this._host):this._bucket=Om(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=$t.makeFromBucketSpec(this._url,t):this._bucket=Om(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Lm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Lm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Br(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new WC(E0());{const o=rT(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Mm="@firebase/storage",Fm="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="storage";function FT(e,t,n){return e=Gt(e),AT(e,t,n)}function UT(e){return e=Gt(e),RT(e)}function O0(e,t){return e=Gt(e),OT(e,t)}function VT(e=m0(),t){e=Gt(e);const r=f0(e,L0).getImmediate({identifier:t}),i=o0("storage");return i&&BT(r,...i),r}function BT(e,t,n,r={}){MT(e,t,n,r)}function bT(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new sd(n,r,i,t,d0)}function zT(){Qs(new Ai(L0,bT,"PUBLIC").setMultipleInstances(!0)),rr(Mm,Fm,""),rr(Mm,Fm,"esm2017")}zT();var jT="firebase",HT="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(jT,HT,"app");var qT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,od=od||{},G=qT||self;function ol(){}function zl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function vo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function WT(e){return Object.prototype.hasOwnProperty.call(e,lc)&&e[lc]||(e[lc]=++KT)}var lc="closure_uid_"+(1e9*Math.random()>>>0),KT=0;function GT(e,t,n){return e.call.apply(e.bind,arguments)}function QT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ft(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ft=GT:ft=QT,ft.apply(null,arguments)}function na(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function rt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function mr(){this.s=this.s,this.o=this.o}var YT=0;mr.prototype.s=!1;mr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),YT!=0)&&WT(this)};mr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ad(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Um(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(zl(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function dt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var XT=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{G.addEventListener("test",ol,t),G.removeEventListener("test",ol,t)}catch{}return e}();function al(e){return/^[\s\xa0]*$/.test(e)}var Vm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function uc(e,t){return e<t?-1:e>t?1:0}function jl(){var e=G.navigator;return e&&(e=e.userAgent)?e:""}function un(e){return jl().indexOf(e)!=-1}function ld(e){return ld[" "](e),e}ld[" "]=ol;function JT(e){var t=tI;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var ZT=un("Opera"),Ri=un("Trident")||un("MSIE"),F0=un("Edge"),xh=F0||Ri,U0=un("Gecko")&&!(jl().toLowerCase().indexOf("webkit")!=-1&&!un("Edge"))&&!(un("Trident")||un("MSIE"))&&!un("Edge"),eI=jl().toLowerCase().indexOf("webkit")!=-1&&!un("Edge");function V0(){var e=G.document;return e?e.documentMode:void 0}var ll;e:{var cc="",hc=function(){var e=jl();if(U0)return/rv:([^\);]+)(\)|;)/.exec(e);if(F0)return/Edge\/([\d\.]+)/.exec(e);if(Ri)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(eI)return/WebKit\/(\S+)/.exec(e);if(ZT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(hc&&(cc=hc?hc[1]:""),Ri){var fc=V0();if(fc!=null&&fc>parseFloat(cc)){ll=String(fc);break e}}ll=cc}var tI={};function nI(){return JT(function(){let e=0;const t=Vm(String(ll)).split("."),n=Vm("9").split("."),r=Math.max(t.length,n.length);for(let o=0;e==0&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;e=uc(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||uc(i[2].length==0,s[2].length==0)||uc(i[2],s[2]),i=i[3],s=s[3]}while(e==0)}return 0<=e})}var Dh;if(G.document&&Ri){var Bm=V0();Dh=Bm||parseInt(ll,10)||void 0}else Dh=void 0;var rI=Dh;function Xs(e,t){if(dt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(U0){e:{try{ld(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:iI[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xs.X.h.call(this)}}rt(Xs,dt);var iI={2:"touch",3:"pen",4:"mouse"};Xs.prototype.h=function(){Xs.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wo="closure_listenable_"+(1e6*Math.random()|0),sI=0;function oI(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++sI,this.ba=this.ea=!1}function Hl(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ud(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function B0(e){const t={};for(const n in e)t[n]=e[n];return t}const bm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b0(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<bm.length;s++)n=bm[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ql(e){this.src=e,this.g={},this.h=0}ql.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Ah(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new oI(t,this.src,s,!!r,i),t.ea=n,e.push(t)),t};function Nh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=M0(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ah(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}var cd="closure_lm_"+(1e6*Math.random()|0),dc={};function z0(e,t,n,r,i){if(r&&r.once)return H0(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)z0(e,t[s],n,r,i);return null}return n=dd(n),e&&e[wo]?e.N(t,n,vo(r)?!!r.capture:!!r,i):j0(e,t,n,!1,r,i)}function j0(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=vo(i)?!!i.capture:!!i,a=fd(e);if(a||(e[cd]=a=new ql(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=aI(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)XT||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(W0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aI(){function e(n){return t.call(e.src,e.listener,n)}const t=lI;return e}function H0(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)H0(e,t[s],n,r,i);return null}return n=dd(n),e&&e[wo]?e.O(t,n,vo(r)?!!r.capture:!!r,i):j0(e,t,n,!0,r,i)}function q0(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)q0(e,t[s],n,r,i);else r=vo(r)?!!r.capture:!!r,n=dd(n),e&&e[wo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ah(s,n,r,i),-1<n&&(Hl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=fd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ah(t,n,r,i)),(n=-1<e?t[e]:null)&&hd(n))}function hd(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[wo])Nh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(W0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fd(t))?(Nh(n,e),n.h==0&&(n.src=null,t[cd]=null)):Hl(e)}}}function W0(e){return e in dc?dc[e]:dc[e]="on"+e}function lI(e,t){if(e.ba)e=!0;else{t=new Xs(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&hd(e),e=n.call(r,t)}return e}function fd(e){return e=e[cd],e instanceof ql?e:null}var pc="__closure_events_fn_"+(1e9*Math.random()>>>0);function dd(e){return typeof e=="function"?e:(e[pc]||(e[pc]=function(t){return e.handleEvent(t)}),e[pc])}function Ge(){mr.call(this),this.i=new ql(this),this.P=this,this.I=null}rt(Ge,mr);Ge.prototype[wo]=!0;Ge.prototype.removeEventListener=function(e,t,n,r){q0(this,e,t,n,r)};function tt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new dt(t,e);else if(t instanceof dt)t.target=t.target||e;else{var i=t;t=new dt(r,e),b0(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ra(o,r,!0,t)&&i}if(o=t.g=e,i=ra(o,r,!0,t)&&i,i=ra(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=ra(o,r,!1,t)&&i}Ge.prototype.M=function(){if(Ge.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Hl(n[r]);delete e.g[t],e.h--}}this.I=null};Ge.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ge.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ra(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Nh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var pd=G.JSON.stringify;function uI(){var e=Q0;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class cI{constructor(){this.h=this.g=null}add(t,n){const r=K0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var K0=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hI,e=>e.reset());class hI{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fI(e){G.setTimeout(()=>{throw e},0)}function G0(e,t){Rh||dI(),Ph||(Rh(),Ph=!0),Q0.add(e,t)}var Rh;function dI(){var e=G.Promise.resolve(void 0);Rh=function(){e.then(pI)}}var Ph=!1,Q0=new cI;function pI(){for(var e;e=uI();){try{e.h.call(e.g)}catch(n){fI(n)}var t=K0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ph=!1}function Wl(e,t){Ge.call(this),this.h=e||1,this.g=t||G,this.j=ft(this.lb,this),this.l=Date.now()}rt(Wl,Ge);F=Wl.prototype;F.ca=!1;F.R=null;F.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),tt(this,"tick"),this.ca&&(md(this),this.start()))}};F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function md(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}F.M=function(){Wl.X.M.call(this),md(this),delete this.g};function gd(e,t,n){if(typeof e=="function")n&&(e=ft(e,n));else if(e&&typeof e.handleEvent=="function")e=ft(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:G.setTimeout(e,t||0)}function Y0(e){e.g=gd(()=>{e.g=null,e.i&&(e.i=!1,Y0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class mI extends mr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Y0(this)}M(){super.M(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(e){mr.call(this),this.h=e,this.g={}}rt(Js,mr);var zm=[];function X0(e,t,n,r){Array.isArray(n)||(n&&(zm[0]=n.toString()),n=zm);for(var i=0;i<n.length;i++){var s=z0(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function J0(e){ud(e.g,function(t,n){this.g.hasOwnProperty(n)&&hd(t)},e),e.g={}}Js.prototype.M=function(){Js.X.M.call(this),J0(this)};Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kl(){this.g=!0}Kl.prototype.Aa=function(){this.g=!1};function gI(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function yI(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function di(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+wI(e,n)+(r?" "+r:"")})}function vI(e,t){e.info(function(){return"TIMEOUT: "+t})}Kl.prototype.info=function(){};function wI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return pd(n)}catch{return t}}var Wr={},jm=null;function Gl(){return jm=jm||new Ge}Wr.Pa="serverreachability";function Z0(e){dt.call(this,Wr.Pa,e)}rt(Z0,dt);function Zs(e){const t=Gl();tt(t,new Z0(t))}Wr.STAT_EVENT="statevent";function e1(e,t){dt.call(this,Wr.STAT_EVENT,e),this.stat=t}rt(e1,dt);function wt(e){const t=Gl();tt(t,new e1(t,e))}Wr.Qa="timingevent";function t1(e,t){dt.call(this,Wr.Qa,e),this.size=t}rt(t1,dt);function Eo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){e()},t)}var Ql={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},n1={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function yd(){}yd.prototype.h=null;function Hm(e){return e.h||(e.h=e.i())}function r1(){}var So={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vd(){dt.call(this,"d")}rt(vd,dt);function wd(){dt.call(this,"c")}rt(wd,dt);var $h;function Yl(){}rt(Yl,yd);Yl.prototype.g=function(){return new XMLHttpRequest};Yl.prototype.i=function(){return{}};$h=new Yl;function _o(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Js(this),this.O=EI,e=xh?125:void 0,this.T=new Wl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new i1}function i1(){this.i=null,this.g="",this.h=!1}var EI=45e3,Lh={},ul={};F=_o.prototype;F.setTimeout=function(e){this.O=e};function Oh(e,t,n){e.K=1,e.v=Jl(Rn(t)),e.s=n,e.P=!0,s1(e,null)}function s1(e,t){e.F=Date.now(),ko(e),e.A=Rn(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),d1(n.i,"t",r),e.C=0,n=e.l.H,e.h=new i1,e.g=L1(e.l,n?t:null,!e.s),0<e.N&&(e.L=new mI(ft(e.La,e,e.g),e.N)),X0(e.S,e.g,"readystatechange",e.ib),t=e.H?B0(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Zs(),gI(e.j,e.u,e.A,e.m,e.U,e.s)}F.ib=function(e){e=e.target;const t=this.L;t&&Tn(e)==3?t.l():this.La(e)};F.La=function(e){try{if(e==this.g)e:{const c=Tn(this.g);var t=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||xh||this.g&&(this.h.h||this.g.fa()||Gm(this.g)))){this.I||c!=4||t==7||(t==8||0>=f?Zs(3):Zs(2)),Xl(this);var n=this.g.aa();this.Y=n;t:if(o1(this)){var r=Gm(this.g);e="";var i=r.length,s=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),Is(this);var o="";break t}this.h.i=new G.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,yI(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!al(a)){var u=a;break t}}u=null}if(n=u)di(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mh(this,n);else{this.i=!1,this.o=3,wt(12),Ir(this),Is(this);break e}}this.P?(a1(this,c,o),xh&&this.i&&c==3&&(X0(this.S,this.T,"tick",this.hb),this.T.start())):(di(this.j,this.m,o,null),Mh(this,o)),c==4&&Ir(this),this.i&&!this.I&&(c==4?A1(this.l,this):(this.i=!1,ko(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,wt(12)):(this.o=0,wt(13)),Ir(this),Is(this)}}}catch{}finally{}};function o1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function a1(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=SI(e,n),i==ul){t==4&&(e.o=4,wt(14),r=!1),di(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Lh){e.o=4,wt(15),di(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else di(e.j,e.m,i,null),Mh(e,i);o1(e)&&i!=ul&&i!=Lh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,wt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Id(t),t.K=!0,wt(11))):(di(e.j,e.m,n,"[Invalid Chunked Response]"),Ir(e),Is(e))}F.hb=function(){if(this.g){var e=Tn(this.g),t=this.g.fa();this.C<t.length&&(Xl(this),a1(this,e,t),this.i&&e!=4&&ko(this))}};function SI(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ul:(n=Number(t.substring(n,r)),isNaN(n)?Lh:(r+=1,r+n>t.length?ul:(t=t.substr(r,n),e.C=r+n,t)))}F.cancel=function(){this.I=!0,Ir(this)};function ko(e){e.V=Date.now()+e.O,l1(e,e.O)}function l1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Eo(ft(e.gb,e),t)}function Xl(e){e.B&&(G.clearTimeout(e.B),e.B=null)}F.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(vI(this.j,this.A),this.K!=2&&(Zs(),wt(17)),Ir(this),this.o=2,Is(this)):l1(this,this.V-e)};function Is(e){e.l.G==0||e.I||A1(e.l,e)}function Ir(e){Xl(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,md(e.T),J0(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mh(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Fh(n.h,e))){if(!e.J&&Fh(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)fl(n),tu(n);else break e;Td(n),wt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Eo(ft(n.cb,n),6e3));if(1>=g1(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else xr(n,11)}else if((e.J||n.g==e)&&fl(n),!al(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.h;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ed(s,s.h),s.h=null))}if(r.D){const v=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,ye(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=e;if(r.sa=$1(r,r.H?r.ka:null,r.V),o.J){y1(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Xl(a),ko(a)),r.g=o}else D1(r);0<n.i.length&&nu(n)}else u[0]!="stop"&&u[0]!="close"||xr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?xr(n,7):Cd(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Zs(4)}catch{}}function _I(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(zl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function kI(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(zl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function u1(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(zl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=kI(e),r=_I(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var c1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pr(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Pr){this.h=t!==void 0?t:e.h,cl(this,e.j),this.s=e.s,this.g=e.g,hl(this,e.m),this.l=e.l,t=e.i;var n=new eo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),qm(this,n),this.o=e.o}else e&&(n=String(e).match(c1))?(this.h=!!t,cl(this,n[1]||"",!0),this.s=fs(n[2]||""),this.g=fs(n[3]||"",!0),hl(this,n[4]),this.l=fs(n[5]||"",!0),qm(this,n[6]||"",!0),this.o=fs(n[7]||"")):(this.h=!!t,this.i=new eo(null,this.h))}Pr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ds(t,Wm,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ds(t,Wm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ds(n,n.charAt(0)=="/"?xI:II,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ds(n,NI)),e.join("")};function Rn(e){return new Pr(e)}function cl(e,t,n){e.j=n?fs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qm(e,t,n){t instanceof eo?(e.i=t,AI(e.i,e.h)):(n||(t=ds(t,DI)),e.i=new eo(t,e.h))}function ye(e,t,n){e.i.set(t,n)}function Jl(e){return ye(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ds(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,TI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function TI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Wm=/[#\/\?@]/g,II=/[#\?:]/g,xI=/[#\?]/g,DI=/[#\?@]/g,NI=/#/g;function eo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gr(e){e.g||(e.g=new Map,e.h=0,e.i&&CI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}F=eo.prototype;F.add=function(e,t){gr(this),this.i=null,e=ji(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function h1(e,t){gr(e),t=ji(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function f1(e,t){return gr(e),t=ji(e,t),e.g.has(t)}F.forEach=function(e,t){gr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};F.oa=function(){gr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};F.W=function(e){gr(this);let t=[];if(typeof e=="string")f1(this,e)&&(t=t.concat(this.g.get(ji(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};F.set=function(e,t){return gr(this),this.i=null,e=ji(this,e),f1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};F.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function d1(e,t,n){h1(e,t),0<n.length&&(e.i=null,e.g.set(ji(e,t),ad(n)),e.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function ji(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function AI(e,t){t&&!e.j&&(gr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(h1(this,r),d1(this,i,n))},e)),e.j=t}var RI=class{constructor(t,n){this.h=t,this.g=n}};function p1(e){this.l=e||PI,G.PerformanceNavigationTiming?(e=G.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(G.g&&G.g.Ga&&G.g.Ga()&&G.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PI=10;function m1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function g1(e){return e.h?1:e.g?e.g.size:0}function Fh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ed(e,t){e.g?e.g.add(t):e.h=t}function y1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}p1.prototype.cancel=function(){if(this.i=v1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function v1(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return ad(e.i)}function Sd(){}Sd.prototype.stringify=function(e){return G.JSON.stringify(e,void 0)};Sd.prototype.parse=function(e){return G.JSON.parse(e,void 0)};function $I(){this.g=new Sd}function LI(e,t,n){const r=n||"";try{u1(e,function(i,s){let o=i;vo(i)&&(o=pd(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function OI(e,t){const n=new Kl;if(G.Image){const r=new Image;r.onload=na(ia,n,r,"TestLoadImage: loaded",!0,t),r.onerror=na(ia,n,r,"TestLoadImage: error",!1,t),r.onabort=na(ia,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=na(ia,n,r,"TestLoadImage: timeout",!1,t),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ia(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Co(e){this.l=e.ac||null,this.j=e.jb||!1}rt(Co,yd);Co.prototype.g=function(){return new Zl(this.l,this.j)};Co.prototype.i=function(e){return function(){return e}}({});function Zl(e,t){Ge.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_d,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(Zl,Ge);var _d=0;F=Zl.prototype;F.open=function(e,t){if(this.readyState!=_d)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,to(this)};F.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||G).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=_d};F.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w1(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function w1(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}F.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?To(this):to(this),this.readyState==3&&w1(this)}};F.Va=function(e){this.g&&(this.response=this.responseText=e,To(this))};F.Ua=function(e){this.g&&(this.response=e,To(this))};F.ga=function(){this.g&&To(this)};function To(e){e.readyState=4,e.l=null,e.j=null,e.A=null,to(e)}F.setRequestHeader=function(e,t){this.v.append(e,t)};F.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function to(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var MI=G.JSON.parse;function Ie(e){Ge.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=E1,this.K=this.L=!1}rt(Ie,Ge);var E1="",FI=/^https?$/i,UI=["POST","PUT"];F=Ie.prototype;F.Ka=function(e){this.L=e};F.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$h.g(),this.C=this.u?Hm(this.u):Hm($h),this.g.onreadystatechange=ft(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){Km(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=G.FormData&&e instanceof G.FormData,!(0<=M0(UI,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{k1(this),0<this.B&&((this.K=VI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.qa,this)):this.A=gd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Km(this,s)}};function VI(e){return Ri&&nI()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}F.qa=function(){typeof od<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))};function Km(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,S1(e),eu(e)}function S1(e){e.D||(e.D=!0,tt(e,"complete"),tt(e,"error"))}F.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tt(this,"complete"),tt(this,"abort"),eu(this))};F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eu(this,!0)),Ie.X.M.call(this)};F.Ha=function(){this.s||(this.F||this.v||this.l?_1(this):this.fb())};F.fb=function(){_1(this)};function _1(e){if(e.h&&typeof od<"u"&&(!e.C[1]||Tn(e)!=4||e.aa()!=2)){if(e.v&&Tn(e)==4)gd(e.Ha,0,e);else if(tt(e,"readystatechange"),Tn(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(c1)[1]||null;if(!i&&G.self&&G.self.location){var s=G.self.location.protocol;i=s.substr(0,s.length-1)}r=!FI.test(i?i.toLowerCase():"")}n=r}if(n)tt(e,"complete"),tt(e,"success");else{e.m=6;try{var o=2<Tn(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",S1(e)}}finally{eu(e)}}}}function eu(e,t){if(e.g){k1(e);const n=e.g,r=e.C[0]?ol:null;e.g=null,e.C=null,t||tt(e,"ready");try{n.onreadystatechange=r}catch{}}}function k1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(G.clearTimeout(e.A),e.A=null)}function Tn(e){return e.g?e.g.readyState:0}F.aa=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}};F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),MI(t)}};function Gm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case E1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}F.Ea=function(){return this.m};F.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function C1(e){let t="";return ud(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function kd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=C1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ye(e,t,n))}function as(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function T1(e){this.Ca=0,this.i=[],this.j=new Kl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=as("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=as("baseRetryDelayMs",5e3,e),this.bb=as("retryDelaySeedMs",1e4,e),this.$a=as("forwardChannelMaxRetries",2,e),this.ta=as("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new p1(e&&e.concurrentRequestLimit),this.Fa=new $I,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}F=T1.prototype;F.ma=8;F.G=1;function Cd(e){if(I1(e),e.G==3){var t=e.U++,n=Rn(e.F);ye(n,"SID",e.I),ye(n,"RID",t),ye(n,"TYPE","terminate"),Io(e,n),t=new _o(e,e.j,t,void 0),t.K=2,t.v=Jl(Rn(n)),n=!1,G.navigator&&G.navigator.sendBeacon&&(n=G.navigator.sendBeacon(t.v.toString(),"")),!n&&G.Image&&(new Image().src=t.v,n=!0),n||(t.g=L1(t.l,null),t.g.da(t.v)),t.F=Date.now(),ko(t)}P1(e)}function tu(e){e.g&&(Id(e),e.g.cancel(),e.g=null)}function I1(e){tu(e),e.u&&(G.clearTimeout(e.u),e.u=null),fl(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&G.clearTimeout(e.m),e.m=null)}function nu(e){m1(e.h)||e.m||(e.m=!0,G0(e.Ja,e),e.C=0)}function BI(e,t){return g1(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Eo(ft(e.Ja,e,t),R1(e,e.C)),e.C++,!0)}F.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new _o(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=B0(s),b0(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=x1(this,i,t),n=Rn(this.F),ye(n,"RID",e),ye(n,"CVER",22),this.D&&ye(n,"X-HTTP-Session-Id",this.D),Io(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(C1(s)))+"&"+t:this.o&&kd(n,this.o,s)),Ed(this.h,i),this.Ya&&ye(n,"TYPE","init"),this.O?(ye(n,"$req",t),ye(n,"SID","null"),i.Z=!0,Oh(i,n,null)):Oh(i,n,t),this.G=2}}else this.G==3&&(e?Qm(this,e):this.i.length==0||m1(this.h)||Qm(this))};function Qm(e,t){var n;t?n=t.m:n=e.U++;const r=Rn(e.F);ye(r,"SID",e.I),ye(r,"RID",n),ye(r,"AID",e.T),Io(e,r),e.o&&e.s&&kd(r,e.o,e.s),n=new _o(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=x1(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ed(e.h,n),Oh(n,r,t)}function Io(e,t){e.ia&&ud(e.ia,function(n,r){ye(t,r,n)}),e.l&&u1({},function(n,r){ye(t,r,n)})}function x1(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ft(e.l.Ra,e.l,e):null;e:{var i=e.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{LI(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function D1(e){e.g||e.u||(e.Z=1,G0(e.Ia,e),e.A=0)}function Td(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Eo(ft(e.Ia,e),R1(e,e.A)),e.A++,!0)}F.Ia=function(){if(this.u=null,N1(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Eo(ft(this.eb,this),e)}};F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,wt(10),tu(this),N1(this))};function Id(e){e.B!=null&&(G.clearTimeout(e.B),e.B=null)}function N1(e){e.g=new _o(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Rn(e.sa);ye(t,"RID","rpc"),ye(t,"SID",e.I),ye(t,"CI",e.L?"0":"1"),ye(t,"AID",e.T),ye(t,"TYPE","xmlhttp"),Io(e,t),e.o&&e.s&&kd(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Jl(Rn(t)),n.s=null,n.P=!0,s1(n,e)}F.cb=function(){this.v!=null&&(this.v=null,tu(this),Td(this),wt(19))};function fl(e){e.v!=null&&(G.clearTimeout(e.v),e.v=null)}function A1(e,t){var n=null;if(e.g==t){fl(e),Id(e),e.g=null;var r=2}else if(Fh(e.h,t))n=t.D,y1(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Gl(),tt(r,new t1(r,n)),nu(e)}else D1(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&BI(e,t)||r==2&&Td(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:xr(e,5);break;case 4:xr(e,10);break;case 3:xr(e,6);break;default:xr(e,2)}}}function R1(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function xr(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=ft(e.kb,e);n||(n=new Pr("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||cl(n,"https"),Jl(n)),OI(n.toString(),r)}else wt(2);e.G=0,e.l&&e.l.va(t),P1(e),I1(e)}F.kb=function(e){e?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function P1(e){if(e.G=0,e.la=[],e.l){const t=v1(e.h);(t.length!=0||e.i.length!=0)&&(Um(e.la,t),Um(e.la,e.i),e.h.i.length=0,ad(e.i),e.i.length=0),e.l.ua()}}function $1(e,t,n){var r=n instanceof Pr?Rn(n):new Pr(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),hl(r,r.m);else{var i=G.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Pr(null,void 0);r&&cl(s,r),t&&(s.g=t),i&&hl(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.za,n&&t&&ye(r,n,t),ye(r,"VER",e.ma),Io(e,r),r}function L1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Ie(new Co({jb:!0})):new Ie(e.ra),t.Ka(e.H),t}function O1(){}F=O1.prototype;F.xa=function(){};F.wa=function(){};F.va=function(){};F.ua=function(){};F.Ra=function(){};function dl(){if(Ri&&!(10<=Number(rI)))throw Error("Environmental error: no available transport.")}dl.prototype.g=function(e,t){return new Ft(e,t)};function Ft(e,t){Ge.call(this),this.g=new T1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!al(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!al(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Hi(this)}rt(Ft,Ge);Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;wt(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=$1(e,null,e.V),nu(e)};Ft.prototype.close=function(){Cd(this.g)};Ft.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=pd(e),e=n);t.i.push(new RI(t.ab++,e)),t.G==3&&nu(t)};Ft.prototype.M=function(){this.g.l=null,delete this.j,Cd(this.g),delete this.g,Ft.X.M.call(this)};function M1(e){vd.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rt(M1,vd);function F1(){wd.call(this),this.status=1}rt(F1,wd);function Hi(e){this.g=e}rt(Hi,O1);Hi.prototype.xa=function(){tt(this.g,"a")};Hi.prototype.wa=function(e){tt(this.g,new M1(e))};Hi.prototype.va=function(e){tt(this.g,new F1)};Hi.prototype.ua=function(){tt(this.g,"b")};dl.prototype.createWebChannel=dl.prototype.g;Ft.prototype.send=Ft.prototype.u;Ft.prototype.open=Ft.prototype.m;Ft.prototype.close=Ft.prototype.close;Ql.NO_ERROR=0;Ql.TIMEOUT=8;Ql.HTTP_ERROR=6;n1.COMPLETE="complete";r1.EventType=So;So.OPEN="a";So.CLOSE="b";So.ERROR="c";So.MESSAGE="d";Ge.prototype.listen=Ge.prototype.N;Ie.prototype.listenOnce=Ie.prototype.O;Ie.prototype.getLastError=Ie.prototype.Oa;Ie.prototype.getLastErrorCode=Ie.prototype.Ea;Ie.prototype.getStatus=Ie.prototype.aa;Ie.prototype.getResponseJson=Ie.prototype.Sa;Ie.prototype.getResponseText=Ie.prototype.fa;Ie.prototype.send=Ie.prototype.da;Ie.prototype.setWithCredentials=Ie.prototype.Ka;var bI=function(){return new dl},zI=function(){return Gl()},mc=Ql,jI=n1,HI=Wr,Ym={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},qI=Co,sa=r1,WI=Ie;const Xm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new u0("@firebase/firestore");function Jm(){return br.logLevel}function B(e,...t){if(br.logLevel<=oe.DEBUG){const n=t.map(xd);br.debug(`Firestore (${qi}): ${e}`,...n)}}function Pn(e,...t){if(br.logLevel<=oe.ERROR){const n=t.map(xd);br.error(`Firestore (${qi}): ${e}`,...n)}}function pl(e,...t){if(br.logLevel<=oe.WARN){const n=t.map(xd);br.warn(`Firestore (${qi}): ${e}`,...n)}}function xd(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e="Unexpected state"){const t=`FIRESTORE (${qi}) INTERNAL ASSERTION FAILED: `+e;throw Pn(t),new Error(t)}function pe(e,t){e||K()}function X(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends qr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class GI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QI{constructor(t){this.t=t,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ir,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ir)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new U1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return pe(t===null||typeof t=="string"),new lt(t)}}class YI{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class XI{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new YI(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(pe(typeof n.token=="string"),this.T=n.token,new JI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=ex(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ae(e,t){return e<t?-1:e>t?1:0}function Pi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new Fe(0,0))}static max(){return new Q(new Fe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,n,r){n===void 0?n=0:n>t.length&&K(),r===void 0?r=t.length-n:r>t.length-n&&K(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return no.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof no?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ve extends no{construct(t,n,r){return new ve(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new j(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const tx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends no{construct(t,n,r){return new ht(t,n,r)}static isValidIdentifier(t){return tx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new j(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new j(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.path=t}static fromPath(t){return new z(ve.fromString(t))}static fromName(t){return new z(ve.fromString(t).popFirst(5))}static empty(){return new z(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ve.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new z(new ve(t.slice()))}}function nx(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new ur(i,z.empty(),t)}function rx(e){return new ur(e.readTime,e.key,-1)}class ur{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(Q.min(),z.empty(),-1)}static max(){return new ur(Q.max(),z.empty(),-1)}}function ix(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=z.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==sx)throw e;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Do(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}Dd.ct=-1;function ru(e){return e==null}function ml(e){return e===0&&1/e==-1/0}function ax(e){return typeof e=="number"&&Number.isInteger(e)&&!ml(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function B1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new be(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oa(this.root,t,this.comparator,!1)}getReverseIterator(){return new oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oa(this.root,t,this.comparator,!0)}}class oa{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=s??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ze(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const t=this.left.check();if(t!==this.right.check())throw K();return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ze(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new eg(this.data.getIterator())}getIteratorFrom(t){return new eg(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class eg{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.fields=t,t.sort(ht.comparator)}static empty(){return new Lt([])}unionWith(t){let n=new Ue(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Lt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Pi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lx("Invalid base64 string: "+i):i}}(t);return new mt(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new mt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(e){if(pe(!!e),typeof e=="string"){let t=0;const n=ux.exec(e);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $i(e){return typeof e=="string"?mt.fromBase64String(e):mt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function z1(e){const t=e.mapValue.fields.__previous_value__;return b1(t)?z1(t):t}function ro(e){const t=cr(e.mapValue.fields.__local_write_time__.timestampValue);return new Fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,n,r,i,s,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class io{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof io&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?b1(e)?4:hx(e)?9007199254740991:10:K()}function gn(e,t){if(e===t)return!0;const n=zr(e);if(n!==zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ro(e).isEqual(ro(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=cr(r.timestampValue),o=cr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return $i(r.bytesValue).isEqual($i(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Pe(r.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pe(r.integerValue)===Pe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pe(r.doubleValue),o=Pe(i.doubleValue);return s===o?ml(s)===ml(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Pi(e.arrayValue.values||[],t.arrayValue.values||[],gn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Zm(s)!==Zm(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!gn(s[a],o[a])))return!1;return!0}(e,t);default:return K()}}function so(e,t){return(e.values||[]).find(n=>gn(n,t))!==void 0}function Li(e,t){if(e===t)return 0;const n=zr(e),r=zr(t);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Pe(i.integerValue||i.doubleValue),a=Pe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return tg(e.timestampValue,t.timestampValue);case 4:return tg(ro(e),ro(t));case 5:return ae(e.stringValue,t.stringValue);case 6:return function(i,s){const o=$i(i),a=$i(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ae(o[l],a[l]);if(u!==0)return u}return ae(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=ae(Pe(i.latitude),Pe(s.latitude));return o!==0?o:ae(Pe(i.longitude),Pe(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Li(o[l],a[l]);if(u)return u}return ae(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===aa.mapValue&&s===aa.mapValue)return 0;if(i===aa.mapValue)return 1;if(s===aa.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=ae(a[c],u[c]);if(f!==0)return f;const h=Li(o[a[c]],l[u[c]]);if(h!==0)return h}return ae(a.length,u.length)}(e.mapValue,t.mapValue);default:throw K()}}function tg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=cr(e),r=cr(t),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Oi(e){return Uh(e)}function Uh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=cr(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$i(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,z.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Uh(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Uh(r.fields[a])}`;return s+"}"}(e.mapValue):K();var t,n}function Vh(e){return!!e&&"integerValue"in e}function Nd(e){return!!e&&"arrayValue"in e}function ng(e){return!!e&&"nullValue"in e}function rg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ta(e){return!!e&&"mapValue"in e}function xs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Kr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=xs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function hx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.value=t}static empty(){return new Tt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ta(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xs(n)}setAll(t){let n=ht.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xs(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Ta(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Ta(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Kr(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Tt(xs(this.value))}}function j1(e){const t=[];return Kr(e.fields,(n,r)=>{const i=new ht([n]);if(Ta(r)){const s=j1(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Lt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ct(t,0,Q.min(),Q.min(),Q.min(),Tt.empty(),0)}static newFoundDocument(t,n,r,i){return new ct(t,1,n,Q.min(),r,i,0)}static newNoDocument(t,n){return new ct(t,2,n,Q.min(),Q.min(),Tt.empty(),0)}static newUnknownDocument(t,n){return new ct(t,3,n,Q.min(),Q.min(),Tt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ct&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.position=t,this.inclusive=n}}function ig(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=Li(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n="asc"){this.field=t,this.dir=n}}function fx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class Oe extends H1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new px(t,n,r):n==="array-contains"?new yx(t,r):n==="in"?new vx(t,r):n==="not-in"?new wx(t,r):n==="array-contains-any"?new Ex(t,r):new Oe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new mx(t,r):new gx(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Li(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Li(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends H1{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new yn(t,n)}matches(t){return q1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function q1(e){return e.op==="and"}function W1(e){return dx(e)&&q1(e)}function dx(e){for(const t of e.filters)if(t instanceof yn)return!1;return!0}function Bh(e){if(e instanceof Oe)return e.field.canonicalString()+e.op.toString()+Oi(e.value);if(W1(e))return e.filters.map(t=>Bh(t)).join(",");{const t=e.filters.map(n=>Bh(n)).join(",");return`${e.op}(${t})`}}function K1(e,t){return e instanceof Oe?function(n,r){return r instanceof Oe&&n.op===r.op&&n.field.isEqual(r.field)&&gn(n.value,r.value)}(e,t):e instanceof yn?function(n,r){return r instanceof yn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&K1(s,r.filters[o]),!0):!1}(e,t):void K()}function G1(e){return e instanceof Oe?function(t){return`${t.field.canonicalString()} ${t.op} ${Oi(t.value)}`}(e):e instanceof yn?function(t){return t.op.toString()+" {"+t.getFilters().map(G1).join(" ,")+"}"}(e):"Filter"}class px extends Oe{constructor(t,n,r){super(t,n,r),this.key=z.fromName(r.referenceValue)}matches(t){const n=z.comparator(t.key,this.key);return this.matchesComparison(n)}}class mx extends Oe{constructor(t,n){super(t,"in",n),this.keys=Q1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class gx extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=Q1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Q1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class yx extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Nd(n)&&so(n.arrayValue,this.value)}}class vx extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&so(this.value.arrayValue,n)}}class wx extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!so(this.value.arrayValue,n)}}class Ex extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>so(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function og(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Sx(e,t,n,r,i,s,o)}function Ad(e){const t=X(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Bh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ru(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Oi(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Oi(r)).join(",")),t.ft=n}return t.ft}function Rd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!K1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sg(e.startAt,t.startAt)&&sg(e.endAt,t.endAt)}function bh(e){return z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function _x(e,t,n,r,i,s,o,a){return new iu(e,t,n,r,i,s,o,a)}function Y1(e){return new iu(e)}function ag(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function kx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cx(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function Tx(e){return e.collectionGroup!==null}function Si(e){const t=X(e);if(t.dt===null){t.dt=[];const n=Cx(t),r=kx(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new Ds(n)),t.dt.push(new Ds(ht.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ds(ht.keyField(),s))}}}return t.dt}function $n(e){const t=X(e);if(!t.wt)if(t.limitType==="F")t.wt=og(t.path,t.collectionGroup,Si(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Si(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ds(s.field,o))}const r=t.endAt?new gl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gl(t.startAt.position,t.startAt.inclusive):null;t.wt=og(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.wt}function zh(e,t,n){return new iu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function su(e,t){return Rd($n(e),$n(t))&&e.limitType===t.limitType}function X1(e){return`${Ad($n(e))}|lt:${e.limitType}`}function jh(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>G1(r)).join(", ")}]`),ru(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Oi(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Oi(r)).join(",")),`Target(${n})`}($n(e))}; limitType=${e.limitType})`}function ou(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Si(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=ig(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Si(n),r)||n.endAt&&!function(i,s,o){const a=ig(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Si(n),r))}(e,t)}function Ix(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function J1(e){return(t,n)=>{let r=!1;for(const i of Si(e)){const s=xx(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xx(e,t,n){const r=e.field.isKeyField()?z.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Li(a,l):K()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return B1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new be(z.comparator);function Ln(){return Dx}const Z1=new be(z.comparator);function ps(...e){let t=Z1;for(const n of e)t=t.insert(n.key,n);return t}function ew(e){let t=Z1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Dr(){return Ns()}function tw(){return Ns()}function Ns(){return new Wi(e=>e.toString(),(e,t)=>e.isEqual(t))}const Nx=new be(z.comparator),Ax=new Ue(z.comparator);function ee(...e){let t=Ax;for(const n of e)t=t.add(n);return t}const Rx=new Ue(ae);function nw(){return Rx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(t)?"-0":t}}function iw(e){return{integerValue:""+e}}function Px(e,t){return ax(t)?iw(t):rw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this._=void 0}}function $x(e,t,n){return e instanceof yl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof oo?ow(e,t):e instanceof ao?aw(e,t):function(r,i){const s=sw(r,i),o=lg(s)+lg(r._t);return Vh(s)&&Vh(r._t)?iw(o):rw(r.serializer,o)}(e,t)}function Lx(e,t,n){return e instanceof oo?ow(e,t):e instanceof ao?aw(e,t):n}function sw(e,t){return e instanceof vl?Vh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class yl extends au{}class oo extends au{constructor(t){super(),this.elements=t}}function ow(e,t){const n=lw(t);for(const r of e.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ao extends au{constructor(t){super(),this.elements=t}}function aw(e,t){let n=lw(t);for(const r of e.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class vl extends au{constructor(t,n){super(),this.serializer=t,this._t=n}}function lg(e){return Pe(e.integerValue||e.doubleValue)}function lw(e){return Nd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Ox(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof oo&&r instanceof oo||n instanceof ao&&r instanceof ao?Pi(n.elements,r.elements,gn):n instanceof vl&&r instanceof vl?gn(n._t,r._t):n instanceof yl&&r instanceof yl}(e.transform,t.transform)}class Mx{constructor(t,n){this.version=t,this.transformResults=n}}class pn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pn}static exists(t){return new pn(void 0,t)}static updateTime(t){return new pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ia(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class lu{}function uw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hw(e.key,pn.none()):new No(e.key,e.data,pn.none());{const n=e.data,r=Tt.empty();let i=new Ue(ht.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yr(e.key,r,new Lt(i.toArray()),pn.none())}}function Fx(e,t,n){e instanceof No?function(r,i,s){const o=r.value.clone(),a=cg(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof yr?function(r,i,s){if(!Ia(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=cg(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(cw(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function As(e,t,n,r){return e instanceof No?function(i,s,o,a){if(!Ia(i.precondition,s))return o;const l=i.value.clone(),u=hg(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof yr?function(i,s,o,a){if(!Ia(i.precondition,s))return o;const l=hg(i.fieldTransforms,a,s),u=s.data;return u.setAll(cw(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Ia(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function Ux(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=sw(r.transform,i||null);s!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,s))}return n||null}function ug(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Pi(n,r,(i,s)=>Ox(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class No extends lu{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yr extends lu{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function cg(e,t,n){const r=new Map;pe(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Lx(o,a,n[i]))}return r}function hg(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$x(s,o,t))}return r}class hw extends lu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends lu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Fx(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=As(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=As(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=tw();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=uw(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ee())}isEqual(t){return this.batchId===t.batchId&&Pi(this.mutations,t.mutations,(n,r)=>ug(n,r))&&Pi(this.baseMutations,t.baseMutations,(n,r)=>ug(n,r))}}class Pd{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){pe(t.mutations.length===r.length);let i=Nx;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Pd(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,re;function jx(e){switch(e){default:return K();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function fw(e){if(e===void 0)return Pn("GRPC error has no .code"),x.UNKNOWN;switch(e){case Ae.OK:return x.OK;case Ae.CANCELLED:return x.CANCELLED;case Ae.UNKNOWN:return x.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return x.INTERNAL;case Ae.UNAVAILABLE:return x.UNAVAILABLE;case Ae.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ae.NOT_FOUND:return x.NOT_FOUND;case Ae.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ae.ABORTED:return x.ABORTED;case Ae.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ae.DATA_LOSS:return x.DATA_LOSS;default:return K()}}(re=Ae||(Ae={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return la}static getOrCreateInstance(){return la===null&&(la=new $d),la}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let la=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ao.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new uu(Q.min(),i,nw(),Ln(),ee())}}class Ao{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ao(r,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class dw{constructor(t,n){this.targetId=t,this.Et=n}}class pw{constructor(t,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fg{constructor(){this.At=0,this.Rt=pg(),this.vt=mt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=ee(),n=ee(),r=ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new Ao(this.vt,this.bt,t,n,r)}xt(){this.Pt=!1,this.Rt=pg()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Hx{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=Ln(),this.qt=dg(),this.Ut=new Ue(ae)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const r=this.jt(n);switch(t.state){case 0:this.Wt(n)&&r.Dt(t.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:K()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(t){var n;const r=t.targetId,i=t.Et.count,s=this.Yt(r);if(s){const o=s.target;if(bh(o))if(i===0){const a=new z(o.path);this.Qt(r,a,ct.newNoDocument(a,Q.min()))}else pe(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=$d.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&bh(a.target)){const l=new z(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,ct.newNoDocument(l,t))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(t));const i=new uu(t,n,this.Ut,this.Lt,r);return this.Lt=Ln(),this.qt=dg(),this.Ut=new Ue(ae),i}Gt(t,n){if(!this.Wt(t))return;const r=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new fg,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Ue(ae),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||B("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new fg),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function dg(){return new be(z.comparator)}function pg(){return new be(z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Wx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Kx=(()=>({and:"AND",or:"OR"}))();class Gx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qx(e,t){return wl(e,t.toTimestamp())}function mn(e){return pe(!!e),Q.fromTimestamp(function(t){const n=cr(t);return new Fe(n.seconds,n.nanos)}(e))}function Ld(e,t){return function(n){return new ve(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function gw(e){const t=ve.fromString(e);return pe(Ew(t)),t}function Hh(e,t){return Ld(e.databaseId,t.path)}function gc(e,t){const n=gw(t);if(n.get(1)!==e.databaseId.projectId)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new z(yw(n))}function qh(e,t){return Ld(e.databaseId,t)}function Yx(e){const t=gw(e);return t.length===4?ve.emptyPath():yw(t)}function Wh(e){return new ve(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yw(e){return pe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function mg(e,t,n){return{name:Hh(e,t),fields:n.value.mapValue.fields}}function Xx(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(pe(u===void 0||typeof u=="string"),mt.fromBase64String(u||"")):(pe(u===void 0||u instanceof Uint8Array),mt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?x.UNKNOWN:fw(l.code);return new j(u,l.message||"")}(o);n=new pw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gc(e,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):Q.min(),a=new Tt({mapValue:{fields:r.document.fields}}),l=ct.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xa(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gc(e,r.document),s=r.readTime?mn(r.readTime):Q.min(),o=ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xa([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gc(e,r.document),s=r.removedTargetIds||[];n=new xa([],s,i,null)}else{if(!("filter"in t))return K();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,s=new zx(i),o=r.targetId;n=new dw(o,s)}}return n}function Jx(e,t){let n;if(t instanceof No)n={update:mg(e,t.key,t.value)};else if(t instanceof hw)n={delete:Hh(e,t.key)};else if(t instanceof yr)n={update:mg(e,t.key,t.data),updateMask:aD(t.fieldMask)};else{if(!(t instanceof Vx))return K();n={verify:Hh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof yl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof vl)return{fieldPath:s.field.canonicalString(),increment:o._t};throw K()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Qx(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:K()}(e,t.precondition)),n}function Zx(e,t){return e&&e.length>0?(pe(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?mn(r.updateTime):mn(i);return s.isEqual(Q.min())&&(s=mn(i)),new Mx(s,r.transformResults||[])}(n,t))):[]}function eD(e,t){return{documents:[qh(e,t.path)]}}function tD(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=qh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return ww(yn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Jr(c.field),direction:iD(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||ru(u)?u:{value:u}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function nD(e){let t=Yx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=vw(c);return f instanceof yn&&W1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new Ds(Zr(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,ru(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new gl(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new gl(h,f)}(n.endAt)),_x(t,i,o,s,a,"F",l,u)}function rD(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return K()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function vw(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Zr(t.unaryFilter.field);return Oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Zr(t.unaryFilter.field);return Oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zr(t.unaryFilter.field);return Oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zr(t.unaryFilter.field);return Oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(e):e.fieldFilter!==void 0?function(t){return Oe.create(Zr(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return yn.create(t.compositeFilter.filters.map(n=>vw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(t.compositeFilter.op))}(e):K()}function iD(e){return qx[e]}function sD(e){return Wx[e]}function oD(e){return Kx[e]}function Jr(e){return{fieldPath:e.canonicalString()}}function Zr(e){return ht.fromServerFormat(e.fieldPath)}function ww(e){return e instanceof Oe?function(t){if(t.op==="=="){if(rg(t.value))return{unaryFilter:{field:Jr(t.field),op:"IS_NAN"}};if(ng(t.value))return{unaryFilter:{field:Jr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rg(t.value))return{unaryFilter:{field:Jr(t.field),op:"IS_NOT_NAN"}};if(ng(t.value))return{unaryFilter:{field:Jr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jr(t.field),op:sD(t.op),value:t.value}}}(e):e instanceof yn?function(t){const n=t.getFilters().map(r=>ww(r));return n.length===1?n[0]:{compositeFilter:{op:oD(t.op),filters:n}}}(e):K()}function aD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ew(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,n,r,i,s=Q.min(),o=Q.min(),a=mt.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new $r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.se=t}}function uD(e){const t=nD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?zh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.He=new hD}addToCollectionParentIndex(t,n){return this.He.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(ur.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(ur.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class hD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ue(ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ue(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Mi(0)}static bn(){return new Mi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.changes=new Wi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ct.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&As(r.mutation,i,Lt.empty(),Fe.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ee()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ee()){const i=Dr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=ps();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Dr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ee()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ln();const o=Ns(),a=Ns();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof yr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),As(c.mutation,u,c.mutation.getFieldMask(),Fe.now())):o.set(u.key,Lt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new dD(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ns();let i=new be((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Lt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ee()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=tw();c.forEach(h=>{if(!s.has(h)){const m=uw(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,f))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Tx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):N.resolve(Dr());let a=-1,l=s;return o.next(u=>N.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ee())).next(c=>({batchId:a,changes:ew(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new z(n)).next(r=>{let i=ps();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=ps();return this.indexManager.getCollectionParents(t,i).next(o=>N.forEach(o,a=>{const l=function(u,c){return new iu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ct.newInvalidDocument(u)))});let o=ps();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&As(u.mutation,l,Lt.empty(),Fe.now()),ou(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return N.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:mn(r.createTime)}),N.resolve()}getNamedQuery(t,n){return N.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:uD(r.bundledQuery),readTime:mn(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.overlays=new be(z.comparator),this.ts=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Dr();return N.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.re(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=Dr(),s=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new be((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Dr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Dr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}re(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bx(n,r));let s=this.ts.get(n);s===void 0&&(s=ee(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.es=new Ue(qe.ns),this.ss=new Ue(qe.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const r=new qe(t,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.us(new qe(t,n))}cs(t,n){t.forEach(r=>this.removeReference(r,n))}hs(t){const n=new z(new ve([])),r=new qe(n,t),i=new qe(n,t+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new z(new ve([])),r=new qe(n,t),i=new qe(n,t+1);let s=ee();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new qe(t,0),r=this.es.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return z.comparator(t.key,n.key)||ae(t.ds,n.ds)}static rs(t,n){return ae(t.ds,n.ds)||z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Ue(qe.ns)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Bx(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new qe(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(ae);return n.forEach(i=>{const s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),N.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;z.isDocumentKey(s)||(s=s.child(""));const o=new qe(new z(s),0);let a=new Ue(ae);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),N.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){pe(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return N.forEach(n.mutations,i=>{const s=new qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=r})}En(t){}containsKey(t,n){const r=new qe(n,0),i=this._s.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.Ts=t,this.docs=new be(z.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(t,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ct.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ln();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ix(rx(c),r)<=0||(i.has(c.key)||ou(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(t,n,r,i){K()}Es(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new wD(this)}getSize(t){return N.resolve(this.size)}}class wD extends fD{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t){this.persistence=t,this.As=new Wi(n=>Ad(n),Rd),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Od,this.targetCount=0,this.bs=Mi.vn()}forEachTarget(t,n){return this.As.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),N.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new Mi(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Sn(n),N.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.As.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.vs.os(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.vs.fs(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new Dd(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new ED(this),this.indexManager=new cD,this.remoteDocumentCache=function(r){return new vD(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new lD(n),this.xs=new mD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ps[t.toKey()];return r||(r=new yD(n,this.referenceDelegate),this.Ps[t.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,r){B("MemoryPersistence","Starting transaction:",t);const i=new _D(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(t,n){return N.or(Object.values(this.Ps).map(r=>()=>r.containsKey(t,n)))}}class _D extends ox{constructor(t){super(),this.currentSequenceNumber=t}}class Md{constructor(t){this.persistence=t,this.$s=new Od,this.Ms=null}static Fs(t){return new Md(t)}get Bs(){if(this.Ms)return this.Ms;throw K()}addReference(t,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),N.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Bs,r=>{const i=z.fromPath(r);return this.Ls(t,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return N.or([()=>N.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}static Di(t,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fd(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ni(t,n).next(s=>s||this.ki(t,n,i,r)).next(s=>s||this.Oi(t,n))}Ni(t,n){if(ag(n))return N.resolve(null);let r=$n(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zh(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=ee(...s);return this.xi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(t,zh(n,null,"F")):this.Fi(t,u,n,l)}))})))}ki(t,n,r,i){return ag(n)||i.isEqual(Q.min())?this.Oi(t,n):this.xi.getDocuments(t,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(t,n):(Jm()<=oe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jh(n)),this.Fi(t,o,n,nx(i,-1)))})}$i(t,n){let r=new Ue(J1(t));return n.forEach((i,s)=>{ou(t,s)&&(r=r.add(s))}),r}Mi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(t,n){return Jm()<=oe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",jh(n)),this.xi.getDocumentsMatchingQuery(t,n,ur.min())}Fi(t,n,r,i){return this.xi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,n,r,i){this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new be(ae),this.qi=new Wi(s=>Ad(s),Rd),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pD(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function TD(e,t,n,r){return new CD(e,t,n,r)}async function Sw(e,t){const n=X(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function ID(e,t){const n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,f=c.keys();let h=N.resolve();return f.forEach(m=>{h=h.next(()=>u.getEntry(a,m)).next(w=>{const v=l.docVersions.get(m);pe(v!==null),w.version.compareTo(v)<0&&(c.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function _w(e){const t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function xD(e,t){const n=X(e),r=t.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];t.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.has(f)?m=m.withResumeToken(mt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(f,m),function(w,v,_){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,c)&&a.push(n.Ds.updateTargetData(s,m))});let l=Ln(),u=ee();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(DD(s,o,t.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(Q.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(f=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function DD(e,t,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ln();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function ND(e,t){const n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function AD(e,t){const n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,t).next(s=>s?(i=s,N.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new $r(t,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(t,r.targetId)),r})}async function Kh(e,t,n){const r=X(e),i=r.Li.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Do(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Li=r.Li.remove(t),r.qi.delete(i.target)}function gg(e,t,n){const r=X(e);let i=Q.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=X(a),f=c.qi.get(u);return f!==void 0?N.resolve(c.Li.get(f)):c.Ds.getTargetData(l,u)}(r,o,$n(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,t,n?i:Q.min(),n?s:ee())).next(a=>(RD(r,Ix(t),a),{documents:a,Wi:s})))}function RD(e,t,n){let r=e.Ui.get(t)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Ui.set(t,r)}class yg{constructor(){this.activeTargetIds=nw()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PD{constructor(){this.Br=new yg,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,r){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new yg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua=null;function yc(){return ua===null?ua=268435456+Math.round(2147483648*Math.random()):ua++,"0x"+ua.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class MD extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,r,i,s){const o=yc(),a=this.ao(t,n);B("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(t,a,l,r).then(u=>(B("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw pl("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(t,n,r,i,s,o){return this.co(t,n,r,i,s)}ho(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+qi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}ao(t,n){const r=LD[t];return`${this.ro}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,r,i){const s=yc();return new Promise((o,a)=>{const l=new WI;l.setWithCredentials(!0),l.listenOnce(jI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mc.NO_ERROR:const c=l.getResponseJson();B(at,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case mc.TIMEOUT:B(at,`RPC '${t}' ${s} timed out`),a(new j(x.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const f=l.getStatus();if(B(at,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const w=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(_)>=0?_:x.UNKNOWN}(m.status);a(new j(w,m.message))}else a(new j(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(x.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{B(at,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);B(at,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=yc(),s=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=bI(),a=zI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new qI({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");B(at,`Creating RPC '${t}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let f=!1,h=!1;const m=new OD({Wr:v=>{h?B(at,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(f||(B(at,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),B(at,`RPC '${t}' stream ${i} sending:`,v),c.send(v))},Hr:()=>c.close()}),w=(v,_,p)=>{v.listen(_,d=>{try{p(d)}catch(g){setTimeout(()=>{throw g},0)}})};return w(c,sa.EventType.OPEN,()=>{h||B(at,`RPC '${t}' stream ${i} transport opened.`)}),w(c,sa.EventType.CLOSE,()=>{h||(h=!0,B(at,`RPC '${t}' stream ${i} transport closed`),m.so())}),w(c,sa.EventType.ERROR,v=>{h||(h=!0,pl(at,`RPC '${t}' stream ${i} transport errored:`,v),m.so(new j(x.UNAVAILABLE,"The operation could not be completed")))}),w(c,sa.EventType.MESSAGE,v=>{var _;if(!h){const p=v.data[0];pe(!!p);const d=p,g=d.error||((_=d[0])===null||_===void 0?void 0:_.error);if(g){B(at,`RPC '${t}' stream ${i} received error:`,g);const E=g.status;let C=function($){const L=Ae[$];if(L!==void 0)return fw(L)}(E),P=g.message;C===void 0&&(C=x.INTERNAL,P="Unknown error status: "+E+" with message "+g.message),h=!0,m.so(new j(C,P)),c.close()}else B(at,`RPC '${t}' stream ${i} received:`,p),m.io(p)}}),w(a,HI.STAT_EVENT,v=>{v.stat===Ym.PROXY?B(at,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===Ym.NOPROXY&&B(at,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.no()},0),m}}function vc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e){return new Gx(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,n,r,i,s,o,a,l){this.Ws=t,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new kw(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{t(()=>{const i=new j(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(t,n){const r=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return B("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FD extends Cw{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=Xx(this.serializer,t),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?mn(s.readTime):Q.min()}(t);return this.listener.zo(n,r)}jo(t){const n={};n.database=Wh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=bh(a)?{documents:eD(i,a)}:{query:tD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mw(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=wl(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,t);const r=rD(this.serializer,t);r&&(n.labels=r),this.Fo(n)}Wo(t){const n={};n.database=Wh(this.serializer),n.removeTarget=t,this.Fo(n)}}class UD extends Cw{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(pe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const n=Zx(t.writeResults,t.commitTime),r=mn(t.commitTime);return this.listener.Zo(r,n)}return pe(!t.writeResults||t.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=Wh(this.serializer),this.Fo(t)}Yo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Jx(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(x.UNKNOWN,i.toString())})}fo(t,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(x.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class BD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Pn(n),this.ru=!1):B("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Gr(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=X(a);l.du.add(4),await Ro(l),l.mu.set("Unknown"),l.du.delete(4),await hu(l)}(this))})}),this.mu=new BD(r,i)}}async function hu(e){if(Gr(e))for(const t of e.wu)await t(!0)}async function Ro(e){for(const t of e.wu)await t(!1)}function Tw(e,t){const n=X(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),Bd(n)?Vd(n):Ki(n).No()&&Ud(n,t))}function Iw(e,t){const n=X(e),r=Ki(n);n.fu.delete(t),r.No()&&xw(n,t),n.fu.size===0&&(r.No()?r.$o():Gr(n)&&n.mu.set("Unknown"))}function Ud(e,t){e.gu.Ot(t.targetId),Ki(e).jo(t)}function xw(e,t){e.gu.Ot(t),Ki(e).Wo(t)}function Vd(e){e.gu=new Hx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),Ki(e).start(),e.mu.ou()}function Bd(e){return Gr(e)&&!Ki(e).xo()&&e.fu.size>0}function Gr(e){return X(e).du.size===0}function Dw(e){e.gu=void 0}async function zD(e){e.fu.forEach((t,n)=>{Ud(e,t)})}async function jD(e,t){Dw(e),Bd(e)?(e.mu.au(t),Vd(e)):e.mu.set("Unknown")}async function HD(e,t,n){if(e.mu.set("Online"),t instanceof pw&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(e,t)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await El(e,r)}else if(t instanceof xa?e.gu.Kt(t):t instanceof dw?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(Q.min()))try{const r=await _w(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(mt.EMPTY_BYTE_STRING,l.snapshotVersion)),xw(i,a);const u=new $r(l.target,a,1,l.sequenceNumber);Ud(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await El(e,r)}}async function El(e,t,n){if(!Do(t))throw t;e.du.add(1),await Ro(e),e.mu.set("Offline"),n||(n=()=>_w(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await hu(e)})}function Nw(e,t){return t().catch(n=>El(e,n,t))}async function fu(e){const t=X(e),n=hr(t);let r=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;qD(t);)try{const i=await ND(t.localStore,r);if(i===null){t.lu.length===0&&n.$o();break}r=i.batchId,WD(t,i)}catch(i){await El(t,i)}Aw(t)&&Rw(t)}function qD(e){return Gr(e)&&e.lu.length<10}function WD(e,t){e.lu.push(t);const n=hr(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Aw(e){return Gr(e)&&!hr(e).xo()&&e.lu.length>0}function Rw(e){hr(e).start()}async function KD(e){hr(e).tu()}async function GD(e){const t=hr(e);for(const n of e.lu)t.Yo(n.mutations)}async function QD(e,t,n){const r=e.lu.shift(),i=Pd.from(r,t,n);await Nw(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await fu(e)}async function YD(e,t){t&&hr(e).Jo&&await async function(n,r){if(i=r.code,jx(i)&&i!==x.ABORTED){const s=n.lu.shift();hr(n).Oo(),await Nw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await fu(n)}var i}(e,t),Aw(e)&&Rw(e)}async function wg(e,t){const n=X(e);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=Gr(n);n.du.add(3),await Ro(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await hu(n)}async function XD(e,t){const n=X(e);t?(n.du.delete(2),await hu(n)):t||(n.du.add(2),await Ro(n),n.mu.set("Unknown"))}function Ki(e){return e.yu||(e.yu=function(t,n,r){const i=X(t);return i.nu(),new FD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:zD.bind(null,e),Zr:jD.bind(null,e),zo:HD.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),Bd(e)?Vd(e):e.mu.set("Unknown")):(await e.yu.stop(),Dw(e))})),e.yu}function hr(e){return e.pu||(e.pu=function(t,n,r){const i=X(t);return i.nu(),new UD(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:KD.bind(null,e),Zr:YD.bind(null,e),Xo:GD.bind(null,e),Zo:QD.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Oo(),await fu(e)):(await e.pu.stop(),e.lu.length>0&&(B("RemoteStore",`Stopping write stream with ${e.lu.length} pending writes`),e.lu=[]))})),e.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new bd(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(e,t){if(Pn("AsyncQueue",`${t}: ${e}`),Do(e))return new j(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this.comparator=t?(n,r)=>t(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ps(),this.sortedSet=new be(this.comparator)}static emptySet(t){return new _i(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof _i)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new _i;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.Iu=new be(z.comparator)}track(t){const n=t.doc.key,r=this.Iu.get(n);r?t.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Iu=this.Iu.remove(n):t.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):K():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,r)=>{t.push(r)}),t}}class Fi{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fi(t,n,_i.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&su(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.Eu=void 0,this.listeners=[]}}class ZD{constructor(){this.queries=new Wi(t=>X1(t),su),this.onlineState="Unknown",this.Au=new Set}}async function eN(e,t){const n=X(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new JD),i)try{s.Eu=await n.onListen(r)}catch(o){const a=zd(o,`Initialization of query '${jh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Ru(n.onlineState),s.Eu&&t.vu(s.Eu)&&jd(n)}async function tN(e,t){const n=X(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function nN(e,t){const n=X(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&jd(n)}function rN(e,t,n){const r=X(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function jd(e){e.Au.forEach(t=>{t.next()})}class iN{constructor(t,n,r){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Fi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=Fi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.key=t}}class $w{constructor(t){this.key=t}}class sN{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ee(),this.mutatedKeys=ee(),this.Ku=J1(t),this.Gu=new _i(this.Ku)}get Qu(){return this.Lu}zu(t,n){const r=n?n.ju:new Eg,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const h=i.get(c),m=ou(this.query,f)?f:null,w=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;h&&m?h.data.isEqual(m.data)?w!==v&&(r.track({type:3,doc:m}),_=!0):this.Wu(h,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Ku(m,l)>0||u&&this.Ku(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),_=!0):h&&!m&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.ju.Tu();s.sort((u,c)=>function(f,h){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return m(f)-m(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Fi(this.query,t.Gu,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Eg,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=ee(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return t.forEach(r=>{this.Uu.has(r)||n.push(new $w(r))}),this.Uu.forEach(r=>{t.has(r)||n.push(new Pw(r))}),n}Xu(t){this.Lu=t.Wi,this.Uu=ee();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return Fi.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class oN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class aN{constructor(t){this.key=t,this.ec=!1}}class lN{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Wi(a=>X1(a),su),this.ic=new Map,this.rc=new Set,this.oc=new be(z.comparator),this.uc=new Map,this.cc=new Od,this.ac={},this.hc=new Map,this.lc=Mi.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function uN(e,t){const n=wN(e);let r,i;const s=n.sc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await AD(n.localStore,$n(t));n.isPrimaryClient&&Tw(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await cN(n,t,r,a==="current",o.resumeToken)}return i}async function cN(e,t,n,r,i){e.dc=(f,h,m)=>async function(w,v,_,p){let d=v.view.zu(_);d.Mi&&(d=await gg(w.localStore,v.query,!1).then(({documents:C})=>v.view.zu(C,d)));const g=p&&p.targetChanges.get(v.targetId),E=v.view.applyChanges(d,w.isPrimaryClient,g);return _g(w,v.targetId,E.Yu),E.snapshot}(e,f,h,m);const s=await gg(e.localStore,t,!0),o=new sN(t,s.Wi),a=o.zu(s.documents),l=Ao.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);_g(e,n,u.Yu);const c=new oN(t,n,o);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function hN(e,t){const n=X(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!su(s,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Kh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Iw(n.remoteStore,r.targetId),Gh(n,r.targetId)}).catch(xo)):(Gh(n,r.targetId),await Kh(n.localStore,r.targetId,!0))}async function fN(e,t,n){const r=EN(e);try{const i=await function(s,o){const a=X(s),l=Fe.now(),u=o.reduce((h,m)=>h.add(m.key),ee());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Ln(),w=ee();return a.Ki.getEntries(h,u).next(v=>{m=v,m.forEach((_,p)=>{p.isValidDocument()||(w=w.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(v=>{c=v;const _=[];for(const p of o){const d=Ux(p,c.get(p.key).overlayedDocument);d!=null&&_.push(new yr(p.key,d,j1(d.value.mapValue),pn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(v=>{f=v;const _=v.applyToLocalDocumentSet(c,w);return a.documentOverlayCache.saveOverlays(h,v.batchId,_)})}).then(()=>({batchId:f.batchId,changes:ew(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new be(ae)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Po(r,i.changes),await fu(r.remoteStore)}catch(i){const s=zd(i,"Failed to persist write");n.reject(s)}}async function Lw(e,t){const n=X(e);try{const r=await xD(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?pe(o.ec):i.removedDocuments.size>0&&(pe(o.ec),o.ec=!1))}),await Po(n,r,t)}catch(r){await xo(r)}}function Sg(e,t,n){const r=X(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=X(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Ru(o)&&(l=!0)}),l&&jd(a)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dN(e,t,n){const r=X(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),s=i&&i.key;if(s){let o=new be(z.comparator);o=o.insert(s,ct.newNoDocument(s,Q.min()));const a=ee().add(s),l=new uu(Q.min(),new Map,new Ue(ae),o,a);await Lw(r,l),r.oc=r.oc.remove(s),r.uc.delete(t),Hd(r)}else await Kh(r.localStore,t,!1).then(()=>Gh(r,t,n)).catch(xo)}async function pN(e,t){const n=X(e),r=t.batch.batchId;try{const i=await ID(n.localStore,t);Mw(n,r,null),Ow(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Po(n,i)}catch(i){await xo(i)}}async function mN(e,t,n){const r=X(e);try{const i=await function(s,o){const a=X(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(pe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);Mw(r,t,n),Ow(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Po(r,i)}catch(i){await xo(i)}}function Ow(e,t){(e.hc.get(t)||[]).forEach(n=>{n.resolve()}),e.hc.delete(t)}function Mw(e,t,n){const r=X(e);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Gh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc.wc(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(r=>{e.cc.containsKey(r)||Fw(e,r)})}function Fw(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(Iw(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Hd(e))}function _g(e,t,n){for(const r of n)r instanceof Pw?(e.cc.addReference(r.key,t),gN(e,r)):r instanceof $w?(B("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||Fw(e,r.key)):K()}function gN(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(B("SyncEngine","New document in limbo: "+n),e.rc.add(r),Hd(e))}function Hd(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new z(ve.fromString(t)),r=e.lc.next();e.uc.set(r,new aN(n)),e.oc=e.oc.insert(n,r),Tw(e.remoteStore,new $r($n(Y1(n.path)),r,2,Dd.ct))}}async function Po(e,t,n){const r=X(e),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Fd.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=X(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(l,f=>N.forEach(f.Vi,h=>u.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>N.forEach(f.Si,h=>u.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Do(c))throw c;B("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const h=u.Li.get(f),m=h.snapshotVersion,w=h.withLastLimboFreeSnapshotVersion(m);u.Li=u.Li.insert(f,w)}}}(r.localStore,s))}async function yN(e,t){const n=X(e);if(!n.currentUser.isEqual(t)){B("SyncEngine","User change. New user:",t.toKey());const r=await Sw(n.localStore,t);n.currentUser=t,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new j(x.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Po(n,r.Qi)}}function vN(e,t){const n=X(e),r=n.uc.get(t);if(r&&r.ec)return ee().add(r.key);{let i=ee();const s=n.ic.get(t);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function wN(e){const t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dN.bind(null,t),t.nc.zo=nN.bind(null,t.eventManager),t.nc.wc=rN.bind(null,t.eventManager),t}function EN(e){const t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,t),t}class kg{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=cu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return TD(this.persistence,new kD,t.initialUser,this.serializer)}createPersistence(t){return new SD(Md.Fs,this.serializer)}createSharedClientState(t){return new PD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yN.bind(null,this.syncEngine),await XD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new ZD}createDatastore(t){const n=cu(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new MD(i));var i;return function(s,o,a,l){return new VD(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>Sg(this.syncEngine,a,0),o=vg.D()?new vg:new $D,new bD(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new lN(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=X(t);B("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Ro(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Pn("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=V1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=zd(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function wc(e,t){e.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Sw(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Cg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await TN(e);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>wg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>wg(t.remoteStore,s)),e._onlineComponents=t}function CN(e){return e.name==="FirebaseError"?e.code===x.FAILED_PRECONDITION||e.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function TN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await wc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!CN(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await wc(e,new kg)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await wc(e,new kg);return e._offlineComponents}async function Uw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await Cg(e,e._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await Cg(e,new SN))),e._onlineComponents}function IN(e){return Uw(e).then(t=>t.syncEngine)}async function xN(e){const t=await Uw(e),n=t.eventManager;return n.onListen=uN.bind(null,t.syncEngine),n.onUnlisten=hN.bind(null,t.syncEngine),n}function DN(e,t,n={}){const r=new ir;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new _N({next:f=>{s.enqueueAndForget(()=>tN(i,c)),f.fromCache&&a.source==="server"?l.reject(new j(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new iN(o,u,{includeMetadataChanges:!0,xu:!0});return eN(i,c)}(await xN(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(e,t,n){if(!n)throw new j(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function NN(e,t,n,r){if(t===!0&&r===!0)throw new j(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ig(e){if(!z.isDocumentKey(e))throw new j(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xg(e){if(z.isDocumentKey(e))throw new j(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":K()}function Ui(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(e);throw new j(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,NN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new j(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dg(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new KI;switch(n.type){case"firstParty":return new XI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new j(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Tg.get(t);n&&(B("ComponentProvider","Removing Datastore"),Tg.delete(t),n.terminate())}(this),Promise.resolve()}}function AN(e,t,n,r={}){var i;const s=(e=Ui(e,du))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&pl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=lt.MOCK_USER;else{o=a0(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new lt(l)}e._authCredentials=new GI(new U1(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qt(this.firestore,t,this._key)}}class pu{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new pu(this.firestore,t,this._query)}}class sr extends pu{constructor(t,n,r){super(t,n,Y1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qt(this.firestore,null,new z(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function Bw(e,t,...n){if(e=Gt(e),Vw("collection","path",t),e instanceof du){const r=ve.fromString(t,...n);return xg(r),new sr(e,null,r)}{if(!(e instanceof qt||e instanceof sr))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ve.fromString(t,...n));return xg(r),new sr(e.firestore,null,r)}}function Wd(e,t,...n){if(e=Gt(e),arguments.length===1&&(t=V1.A()),Vw("doc","path",t),e instanceof du){const r=ve.fromString(t,...n);return Ig(r),new qt(e,null,new z(r))}{if(!(e instanceof qt||e instanceof sr))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ve.fromString(t,...n));return Ig(r),new qt(e.firestore,e instanceof sr?e.converter:null,new z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new kw(this,"async_queue_retry"),this.qc=()=>{const n=vc();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=vc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=vc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ir;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!Do(t))throw t;B("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=bd.createAndSchedule(this,t,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&K()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}class mu extends du{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new RN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zw(this),this._firestoreClient.terminate()}}function PN(e,t){const n=typeof e=="object"?e:m0(),r=typeof e=="string"?e:t||"(default)",i=f0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=o0("firestore");s&&AN(i,...s)}return i}function bw(e){return e._firestoreClient||zw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zw(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new cx(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new kN(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vi(mt.fromBase64String(t))}catch(n){throw new j(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vi(mt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new j(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^__.*__$/;class LN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new No(t,this.data,n,this.fieldTransforms)}}class jw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new yr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Qd{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new Qd(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.ea(t),i}na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return Sl(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(Hw(this.Yc)&&$N.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class ON{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||cu(t)}ua(t,n,r,i=!1){return new Qd({Yc:t,methodName:n,oa:r,path:ht.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qw(e){const t=e._freezeSettings(),n=cu(e._databaseId);return new ON(e._databaseId,!!t.ignoreUndefinedProperties,n)}function MN(e,t,n,r,i,s={}){const o=e.ua(s.merge||s.mergeFields?2:0,t,n,i);Yd("Data must be an object, but it was:",o,r);const a=Ww(r,o);let l,u;if(s.merge)l=new Lt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=Qh(t,f,n);if(!o.contains(h))throw new j(x.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Gw(c,h)||c.push(h)}l=new Lt(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new LN(new Tt(a),l,u)}class yu extends Kd{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yu}}function FN(e,t,n,r){const i=e.ua(1,t,n);Yd("Data must be an object, but it was:",i,r);const s=[],o=Tt.empty();Kr(r,(l,u)=>{const c=Xd(t,l,n);u=Gt(u);const f=i.na(c);if(u instanceof yu)s.push(c);else{const h=vu(u,f);h!=null&&(s.push(c),o.set(c,h))}});const a=new Lt(s);return new jw(o,a,i.fieldTransforms)}function UN(e,t,n,r,i,s){const o=e.ua(1,t,n),a=[Qh(t,r,n)],l=[i];if(s.length%2!=0)throw new j(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Qh(t,s[h])),l.push(s[h+1]);const u=[],c=Tt.empty();for(let h=a.length-1;h>=0;--h)if(!Gw(u,a[h])){const m=a[h];let w=l[h];w=Gt(w);const v=o.na(m);if(w instanceof yu)u.push(m);else{const _=vu(w,v);_!=null&&(u.push(m),c.set(m,_))}}const f=new Lt(u);return new jw(c,f,o.fieldTransforms)}function vu(e,t){if(Kw(e=Gt(e)))return Yd("Unsupported field value:",t,e),Ww(e,t);if(e instanceof Kd)return function(n,r){if(!Hw(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=vu(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Gt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Px(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Fe.fromDate(n);return{timestampValue:wl(r.serializer,i)}}if(n instanceof Fe){const i=new Fe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:wl(r.serializer,i)}}if(n instanceof Gd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vi)return{bytesValue:mw(r.serializer,n._byteString)};if(n instanceof qt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ld(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${qd(n)}`)}(e,t)}function Ww(e,t){const n={};return B1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kr(e,(r,i)=>{const s=vu(i,t.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Kw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Fe||e instanceof Gd||e instanceof Vi||e instanceof qt||e instanceof Kd)}function Yd(e,t,n){if(!Kw(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=qd(n);throw r==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function Qh(e,t,n){if((t=Gt(t))instanceof gu)return t._internalPath;if(typeof t=="string")return Xd(e,t);throw Sl("Field path arguments must be of type string or ",e,!1,void 0,n)}const VN=new RegExp("[~\\*/\\[\\]]");function Xd(e,t,n){if(t.search(VN)>=0)throw Sl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new gu(...t.split("."))._internalPath}catch{throw Sl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Sl(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new j(x.INVALID_ARGUMENT,a+e+l)}function Gw(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Yw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BN extends Qw{data(){return super.data()}}function Yw(e,t){return typeof t=="string"?Xd(e,t):t instanceof gu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new j(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zN{convertValue(t,n="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($i(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw K()}}convertObject(t,n){const r={};return Kr(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Gd(Pe(t.latitude),Pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=z1(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ro(t));default:return null}}convertTimestamp(t){const n=cr(t);return new Fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ve.fromString(t);pe(Ew(r));const i=new io(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class HN extends Qw{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Da(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Yw("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Da extends HN{data(t={}){return super.data(t)}}class qN{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ca(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Da(this._firestore,this._userDataWriter,r.key,r,new ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Da(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ca(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Da(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ca(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:WN(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class KN extends zN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function GN(e){e=Ui(e,pu);const t=Ui(e.firestore,mu),n=bw(t),r=new KN(t);return bN(e._query),DN(n,e._query).then(i=>new qN(t,r,e,i))}function Xw(e,t,n,...r){e=Ui(e,qt);const i=Ui(e.firestore,mu),s=qw(i);let o;return o=typeof(t=Gt(t))=="string"||t instanceof gu?UN(s,"updateDoc",e._key,t,n,r):FN(s,"updateDoc",e._key,t),Jw(i,[o.toMutation(e._key,pn.exists(!0))])}function QN(e,t){const n=Ui(e.firestore,mu),r=Wd(e),i=jN(e.converter,t);return Jw(n,[MN(qw(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then(()=>r)}function Jw(e,t){return function(n,r){const i=new ir;return n.asyncQueue.enqueueAndForget(async()=>fN(await IN(n),r,i)),i.promise}(bw(e),t)}(function(e,t=!0){(function(n){qi=n})(d0),Qs(new Ai("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new mu(new QI(n.getProvider("auth-internal")),new ZI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new j(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),rr(Xm,"3.10.0",e),rr(Xm,"3.10.0","esm2017")})();const YN={apiKey:"AIzaSyCh7Q3NOEeK7mk1R4u2yrwAykSOkvvpAM8",authDomain:"e-commerce-store-ea136.firebaseapp.com",projectId:"e-commerce-store-ea136",storageBucket:"e-commerce-store-ea136.appspot.com",messagingSenderId:"402830661063",appId:"1:402830661063:web:66304dfebee785a47a75e2"},Zw=p0(YN),wu=PN(Zw),eE=VT(Zw),XN="attire-images",Jd="attire-stock",JN=async e=>{const{variants:t,...n}=e;for(let s=0;s<t.length;s++){const o=Array.from(t[s].images),a=ZN(e.name,t[s].color,o),l=await Promise.all(a),u=tA(l),c=await Promise.all(u);t[s].images=c}const i=(await rA(e))._key.path.segments[1];await iA(i)},ZN=(e,t,n)=>n.reduce((r,i)=>eA(r,i,e,t),[]),eA=(e,t,n,r)=>{const i=O0(eE,`/${XN}/${n}/${r}/${t.name}`),s=FT(i,t);return e.push(s),e},tA=e=>e.reduce(nA,[]),nA=(e,t)=>{const n=t.metadata.fullPath;return e.push(UT(O0(eE,n))),e},rA=async e=>await QN(Bw(wu,Jd),e),iA=async e=>{await Xw(Wd(wu,Jd,`${e}`),{id:e})},sA=async(e,t)=>{const r=t.map(i=>oA(i,e)).map(i=>Xw(Wd(wu,Jd,i.id),{...i}));await Promise.all(r)},oA=(e,t)=>{const{variants:n,...r}=e,i=t.find(o=>e.id===o.id);return i?{variants:e.variants.map(o=>aA(o,i)),...r}:e},aA=(e,t)=>{const{sizes:n,...r}=e;return e.color===t.color?{sizes:e.sizes.map(o=>lA(o,t)),...r}:e},lA=(e,t)=>e.size===t.size?{quantity:e.quantity-t.quantity,...rest}:e,uA=({number:e,register:t,errors:n,index:r})=>ie(an,{children:[I(qn,{label:"Item Size",name:`variants[${e}][sizes][${r}][size]`,type:"string",register:t,errors:n}),I(qn,{label:"Item Quantity",name:`variants[${e}][sizes][${r}][quantity]`,type:"number",register:t,errors:n})]},e),cA=({number:e,register:t,errors:n})=>{const[r,i]=T.useState(1),s=o=>{const a=[];for(let l=0;l<o;l++)a.push(I(uA,{number:e,index:l,register:t,errors:n},l));return a.map(l=>l)};return ie(an,{children:[I(qn,{label:"Item Variant",name:`variants[${e}][color]`,type:"string",register:t,errors:n}),s(r),I(an,{children:I(qn,{label:"Images",name:`variants[${e}][images]`,type:"file",accept:" image/png, image/jpeg",multiple:!0,register:t,errors:n})}),ie(an,{children:[I("button",{type:"button",onClick:()=>{i(r+1)},children:"Add Additional Size Field"}),I("button",{type:"button",onClick:()=>{i(r-1)},children:"Remove Field"})]})]},e)},hA=()=>{const{register:e,handleSubmit:t,reset:n,formState:{errors:r}}=ak(),[i,s]=T.useState(1),[o,a]=T.useState(!1),l=async f=>{a(!0),await JN(f),n(),a(!1)},u=f=>{const h=[];for(let m=0;m<f;m++)h.push(I(cA,{number:m,register:e,additionalColorInput:i,setAdditionalColorInput:s,errors:r},m));return h.map(m=>m)},c=ie("form",{onSubmit:t(l),children:[I(an,{children:I(qn,{label:"Item Name",name:"name",type:"text",register:e,errors:r})}),u(i),ie(an,{children:[I("button",{type:"button",onClick:()=>{s(i+1)},children:"Additional Color Info"}),I("button",{type:"button",onClick:()=>{s(i-1)},children:"Remove Color Field"})]}),I(an,{children:I(qn,{label:"Price",name:"price",type:"text",register:e,errors:r})}),I(an,{children:I(qn,{label:"Category",name:"category",type:"string",register:e,errors:r})}),I(an,{children:I(qn,{label:"Description",name:"description",type:"string",register:e,errors:r})}),I(an,{children:I("button",{type:"submit",children:"Submit"})})]});return ie(Il,{children:[o&&I("p",{children:"Updating database dont go anywhere, it will take a minute"}),!o&&c]})},fA=()=>I("div",{children:"HomePage"});/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(this,arguments)}var Wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wn||(Wn={}));const Ng="popstate";function dA(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Yh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_l(i)}return mA(t,n,null,e)}function Ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pA(){return Math.random().toString(36).substr(2,8)}function Ag(e,t){return{usr:e.state,key:e.key,idx:t}}function Yh(e,t,n,r){return n===void 0&&(n=null),lo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gi(t):t,{state:n,key:t&&t.key||r||pA()})}function _l(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Gi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mA(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(lo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Wn.Pop;let _=c(),p=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:p})}function h(_,p){a=Wn.Push;let d=Yh(v.location,_,p);n&&n(d,_),u=c()+1;let g=Ag(d,u),E=v.createHref(d);try{o.pushState(g,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function m(_,p){a=Wn.Replace;let d=Yh(v.location,_,p);n&&n(d,_),u=c();let g=Ag(d,u),E=v.createHref(d);o.replaceState(g,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function w(_){let p=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof _=="string"?_:_l(_);return Ve(p,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,p)}let v={get action(){return a},get location(){return e(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ng,f),l=_,()=>{i.removeEventListener(Ng,f),l=null}},createHref(_){return t(i,_)},createURL:w,encodeLocation(_){let p=w(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(_){return o.go(_)}};return v}var Rg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rg||(Rg={}));function gA(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Gi(t):t,i=ep(r.pathname||"/",n);if(i==null)return null;let s=tE(e);yA(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=IA(s[a],NA(i));return o}function tE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=or([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tE(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:CA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of nE(s.path))i(s,o,l)}),t}function nE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=nE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function yA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vA=/^:\w+$/,wA=3,EA=2,SA=1,_A=10,kA=-2,Pg=e=>e==="*";function CA(e,t){let n=e.split("/"),r=n.length;return n.some(Pg)&&(r+=kA),t&&(r+=EA),n.filter(i=>!Pg(i)).reduce((i,s)=>i+(vA.test(s)?wA:s===""?SA:_A),r)}function TA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function IA(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=xA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:or([i,c.pathname]),pathnameBase:$A(or([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=or([i,c.pathnameBase]))}return s}function xA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=DA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=AA(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function DA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function NA(e){try{return decodeURI(e)}catch(t){return Zd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function AA(e,t){try{return decodeURIComponent(e)}catch(n){return Zd(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function ep(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Gi(e):e;return{pathname:n?n.startsWith("/")?n:PA(n,t):t,search:LA(r),hash:OA(i)}}function PA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ec(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Gi(e):(i=lo({},e),Ve(!i.pathname||!i.pathname.includes("?"),Ec("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),Ec("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),Ec("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=RA(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const or=e=>e.join("/").replace(/\/\/+/g,"/"),$A=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function MA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const UA=typeof Object.is=="function"?Object.is:FA,{useState:VA,useEffect:BA,useLayoutEffect:bA,useDebugValue:zA}=kc;function jA(e,t,n){const r=t(),[{inst:i},s]=VA({inst:{value:r,getSnapshot:t}});return bA(()=>{i.value=r,i.getSnapshot=t,Sc(i)&&s({inst:i})},[e,r,t]),BA(()=>(Sc(i)&&s({inst:i}),e(()=>{Sc(i)&&s({inst:i})})),[e]),zA(r),r}function Sc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!UA(n,r)}catch{return!0}}function HA(e,t,n){return t()}const qA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WA=!qA,KA=WA?HA:jA;"useSyncExternalStore"in kc&&(e=>e.useSyncExternalStore)(kc);const sE=T.createContext(null),tp=T.createContext(null),Qi=T.createContext(null),Eu=T.createContext(null),Yi=T.createContext({outlet:null,matches:[]}),oE=T.createContext(null);function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xh.apply(this,arguments)}function GA(e,t){let{relative:n}=t===void 0?{}:t;$o()||Ve(!1);let{basename:r,navigator:i}=T.useContext(Qi),{hash:s,pathname:o,search:a}=np(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:or([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $o(){return T.useContext(Eu)!=null}function Lo(){return $o()||Ve(!1),T.useContext(Eu).location}function QA(){$o()||Ve(!1);let{basename:e,navigator:t}=T.useContext(Qi),{matches:n}=T.useContext(Yi),{pathname:r}=Lo(),i=JSON.stringify(rE(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let u=iE(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:or([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}function np(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=T.useContext(Yi),{pathname:i}=Lo(),s=JSON.stringify(rE(r).map(o=>o.pathnameBase));return T.useMemo(()=>iE(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function YA(e,t){$o()||Ve(!1);let{navigator:n}=T.useContext(Qi),r=T.useContext(tp),{matches:i}=T.useContext(Yi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Lo(),u;if(t){var c;let v=typeof t=="string"?Gi(t):t;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||Ve(!1),u=v}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",m=gA(e,{pathname:h}),w=eR(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:or([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:or([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return t&&w?T.createElement(Eu.Provider,{value:{location:Xh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wn.Pop}},w):w}function XA(){let e=iR(),t=MA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,s)}class JA extends T.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?T.createElement(Yi.Provider,{value:this.props.routeContext},T.createElement(oE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZA(e){let{routeContext:t,match:n,children:r}=e,i=T.useContext(sE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Yi.Provider,{value:t},r)}function eR(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ve(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=T.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=T.createElement(XA,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let h=s;return l?h=u:o.route.Component?h=T.createElement(o.route.Component,null):o.route.element&&(h=o.route.element),T.createElement(ZA,{match:o,routeContext:{outlet:s,matches:c},children:h})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?T.createElement(JA,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var $g;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})($g||($g={}));var kl;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(kl||(kl={}));function tR(e){let t=T.useContext(tp);return t||Ve(!1),t}function nR(e){let t=T.useContext(Yi);return t||Ve(!1),t}function rR(e){let t=nR(),n=t.matches[t.matches.length-1];return n.route.id||Ve(!1),n.route.id}function iR(){var e;let t=T.useContext(oE),n=tR(kl.UseRouteError),r=rR(kl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function sn(e){Ve(!1)}function sR(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Wn.Pop,navigator:s,static:o=!1}=e;$o()&&Ve(!1);let a=t.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Gi(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:m="default"}=r,w=T.useMemo(()=>{let v=ep(u,a);return v==null?null:{location:{pathname:v,search:c,hash:f,state:h,key:m},navigationType:i}},[a,u,c,f,h,m,i]);return w==null?null:T.createElement(Qi.Provider,{value:l},T.createElement(Eu.Provider,{children:n,value:w}))}function oR(e){let{children:t,location:n}=e,r=T.useContext(sE),i=r&&!t?r.router.routes:Jh(t);return YA(i,n)}var Lg;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Lg||(Lg={}));new Promise(()=>{});function Jh(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,i)=>{if(!T.isValidElement(r))return;let s=[...t,i];if(r.type===T.Fragment){n.push.apply(n,Jh(r.props.children,s));return}r.type!==sn&&Ve(!1),!r.props.index||!r.props.children||Ve(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function aE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function aR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lR(e,t){return e.button===0&&(!t||t==="_self")&&!aR(e)}const uR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],cR=["aria-current","caseSensitive","className","end","style","to","children"];function hR(e){let{basename:t,children:n,window:r}=e,i=T.useRef();i.current==null&&(i.current=dA({window:r,v5Compat:!0}));let s=i.current,[o,a]=T.useState({action:s.action,location:s.location});return T.useLayoutEffect(()=>s.listen(a),[s]),T.createElement(sR,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}const fR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pR=T.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,f=aE(t,uR),{basename:h}=T.useContext(Qi),m,w=!1;if(typeof u=="string"&&dR.test(u)&&(m=u,fR)){let d=new URL(window.location.href),g=u.startsWith("//")?new URL(d.protocol+u):new URL(u),E=ep(g.pathname,h);g.origin===d.origin&&E!=null?u=E+g.search+g.hash:w=!0}let v=GA(u,{relative:i}),_=mR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function p(d){r&&r(d),d.defaultPrevented||_(d)}return T.createElement("a",Cl({},f,{href:m||v,onClick:w||s?r:p,ref:n,target:l}))}),ms=T.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=t,c=aE(t,cR),f=np(l,{relative:c.relative}),h=Lo(),m=T.useContext(tp),{navigator:w}=T.useContext(Qi),v=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,_=h.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(_=_.toLowerCase(),p=p?p.toLowerCase():null,v=v.toLowerCase());let d=_===v||!o&&_.startsWith(v)&&_.charAt(v.length)==="/",g=p!=null&&(p===v||!o&&p.startsWith(v)&&p.charAt(v.length)==="/"),E=d?r:void 0,C;typeof s=="function"?C=s({isActive:d,isPending:g}):C=[s,d?"active":null,g?"pending":null].filter(Boolean).join(" ");let P=typeof a=="function"?a({isActive:d,isPending:g}):a;return T.createElement(pR,Cl({},c,{"aria-current":E,className:C,ref:n,style:P,to:l}),typeof u=="function"?u({isActive:d,isPending:g}):u)});var Og;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Og||(Og={}));var Mg;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mg||(Mg={}));function mR(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=QA(),l=Lo(),u=np(e,{relative:o});return T.useCallback(c=>{if(lR(c,n)){c.preventDefault();let f=r!==void 0?r:_l(l)===_l(u);a(e,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,e,s,o])}const Zh=e=>e.replace(/[\W]/gi," ").split(" ").filter(t=>t).join("+").toLowerCase(),gR=(e,t)=>e.reduce((n,r)=>(r.id===t.id&&r.color===t.color&&r.size===t.size?n.push(t):n.push(r),[...n]),[]),yR=(e,t)=>e.find(r=>r.id===t.id&&r.color===t.color&&r.size===t.size)?gR(e,t):[...e,t],Fg=e=>e.reduce((t,n)=>t+n.quantity,0),vR=(e,t)=>e.filter(n=>n.category===t.category&&n.id!==t.id),wR=e=>e.reduce((t,n)=>t+n.quantity*n.price,0),Ug=e=>e.filter(t=>t.quantity!==0),Vg={puzzleIcon:new URL("/attire/assets/puzzle-icon-86715c22.svg",self.location).href,emptyHeart:new URL("/attire/assets/empty-heart-6d4718f7.svg",self.location).href,fullHeart:new URL("/attire/assets/full-heart-0b20b439.svg",self.location).href},Su=T.createContext(),ER=({children:e})=>{const[t,n]=T.useState([]),s={favourites:t,setFavourites:n,checkIfInFavourites:(o,a,l,u,c)=>{if(o.find(h=>h.id===a)){const h=o.filter(m=>m.id!==a);u(h),c(!1)}else u(h=>[...h,l]),c(!0)},applyHeartSvg:o=>o?Vg.fullHeart:Vg.emptyHeart};return I(Su.Provider,{value:s,children:e})},Bg=({id:e,name:t,price:n,image:r,quantity:i,item:s})=>{const{favourites:o,setFavourites:a,checkIfInFavourites:l,applyHeartSvg:u}=T.useContext(Su),c=o.find(v=>v.id===e),[f,h]=T.useState(!!c),m=v=>{let _="";switch(v){case v<=10:_=`There are only ${v} left in stock`;break;default:_="";break}return _};return ie(Il,{children:[I("div",{onClick:()=>{l(o,e,s,a,h)},children:I("img",{src:u(f),alt:"heart"})}),ie(ms,{to:`/attire/catalogue/${Zh(t)}`,children:[I("p",{children:t}),I("p",{children:m(i)})]})]})},SR=({id:e,name:t,price:n,image:r,quantity:i,size:s,color:o,cart:a,setCart:l})=>{const u=(Math.round(i*n*100)/100).toFixed(2);return ie("div",{children:[I("img",{src:r,alt:t}),ie("h5",{children:[t," - ",s]}),ie("div",{children:[I("button",{type:"button",onClick:()=>{const h=a.map(m=>(m.id===e&&m.size===s&&m.color===o&&(m.quantity-=1),m));l(Ug(h))},children:"-"}),I("p",{children:i}),I("button",{type:"button",onClick:()=>{const h=a.map(m=>(m.id===e&&m.size===s&&m.color===o&&m.quantity<10&&(m.quantity+=1),m));l(Ug(h))},children:"+"})]}),ie("p",{children:["$",u]})]})},_R="_Item_List_1ule3_1",kR={Item_List:_R},Oo=T.createContext(),CR=({children:e})=>{const[t,n]=T.useState([]),[r,i]=T.useState(0),[s,o]=T.useState(!1),a={cart:t,setCart:n,totalItems:r,newItemAnimation:s,setNewItemAnimation:o};return T.useEffect(()=>{r!==Fg(t)&&i(Fg(t))},[t]),T.useEffect(()=>{s&&setTimeout(()=>{o(!1)},1e3)},[s]),I(Oo.Provider,{value:a,children:e})};let ha;const TR=new Uint8Array(16);function IR(){if(!ha&&(ha=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ha))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ha(TR)}const Ye=[];for(let e=0;e<256;++e)Ye.push((e+256).toString(16).slice(1));function xR(e,t=0){return(Ye[e[t+0]]+Ye[e[t+1]]+Ye[e[t+2]]+Ye[e[t+3]]+"-"+Ye[e[t+4]]+Ye[e[t+5]]+"-"+Ye[e[t+6]]+Ye[e[t+7]]+"-"+Ye[e[t+8]]+Ye[e[t+9]]+"-"+Ye[e[t+10]]+Ye[e[t+11]]+Ye[e[t+12]]+Ye[e[t+13]]+Ye[e[t+14]]+Ye[e[t+15]]).toLowerCase()}const DR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bg={randomUUID:DR};function Na(e,t,n){if(bg.randomUUID&&!t&&!e)return bg.randomUUID();e=e||{};const r=e.random||(e.rng||IR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return xR(r)}const _u=({stock:e,inCheckOutPage:t,inFavouritesPage:n})=>{const{cart:r,setCart:i}=T.useContext(Oo),{favourites:s,setFavourites:o}=T.useContext(Su),a=e==null?void 0:e.map(c=>{const{id:f,name:h,price:m,description:w,image:v,quantity:_}=c;return I(Bg,{id:f,name:h,price:m,description:w,image:v,quantity:_,item:c},f+Na())}),l=r==null?void 0:r.map(c=>{const{id:f,name:h,price:m,image:w,quantity:v,size:_,color:p}=c;return I(SR,{id:f,name:h,price:m,image:w,quantity:v,setCart:i,cart:r,size:_,color:p},f+Na())}),u=s==null?void 0:s.map(c=>{const{id:f,name:h,price:m,description:w,image:v,quantity:_}=c;return I(Bg,{id:f,name:h,price:m,description:w,image:v,quantity:_,item:c},f+Na())});return ie("div",{className:kR.Item_List,children:[t?l:n?u:a,n&&s.length===0&&I("p",{children:"You don't have any favourite items, why not look for something you might like"}),t&&r.length===0&&I("p",{children:"You dont have any items in your cart, why not look for something you might like"})]})},NR=()=>I("div",{children:"NotFound"}),AR=async()=>{const e=await GN(Bw(wu,"attire-stock")),t=[];return e.forEach(n=>{t.push(n.data())}),t},uo=T.createContext(),RR=({children:e})=>{const[t,n]=T.useState([]),[r,i]=T.useState(!1);T.useEffect(()=>{(async()=>{const a=await AR();console.log(a),n(a)})()},[r]);const s={currentStock:t,setCurrentStock:n,purchasedCart:r,setPurchasedCart:i};return I(uo.Provider,{value:s,children:e})},PR=()=>{const{cart:e,setCart:t}=T.useContext(Oo),{purchasedCart:n,setPurchasedCart:r}=T.useContext(uo),[i,s]=T.useState(!1),{currentStock:o}=T.useContext(uo),a=(Math.round(wR(e)*100)/100).toFixed(2),l=c=>{if(c.preventDefault(),e.length===0)return s(!0);r(!0),sA(e,o),t([])};T.useEffect(()=>(e.length===0&&s(!0),r(!1)),[e]);const u=ie("section",{children:[ie("p",{children:["Total Price (inc. GST): $",a," "]}),I("form",{onSubmit:l,children:I("button",{disabled:i,children:"Check Out"})})]});return ie("div",{children:[I(_u,{inCheckOutPage:!0}),n&&I("p",{children:"Thank you for your purchase"}),!n&&e.length>0&&u]})},$R=(e,t,n,r,i)=>e.sizes.map(s=>I("button",{type:"button",onClick:()=>{t({type:"changeSize"}),n(s),r(!1),i(!1)},children:s.size},s.size)),LR=(e,t,n,r,i)=>e.map(s=>I("button",{type:"button",onClick:()=>{t(s),n({type:"changeColor"}),r(!1),i(!1)},children:s.color},s.color)),OR=(e,t,n,r,i,s)=>{if(r.quantity===i)return t(!0);if(r.quantity===s.quantity)return n(!0);e({type:"increment"})},MR=(e,t,n)=>{t(!1),n(!1),e({type:"decrement"})},FR=(e,t,n,r,i)=>{e(t(n,r)),i(!0)},UR=(e,t,n)=>e.quantity>t?"":e.quantity<=t&&e.quantity>n?ie("p",{children:["Only ",e.quantity," remain "]}):I("p",{children:"Out of Stock"}),VR=({id:e,name:t,price:n,description:r,image:i,item:s,variants:o})=>{const{cart:a,setCart:l,setNewItemAnimation:u}=T.useContext(Oo),{currentStock:c}=T.useContext(uo),{favourites:f,setFavourites:h,checkIfInFavourites:m,applyHeartSvg:w}=T.useContext(Su),[v,_]=T.useState(!1),[p,d]=T.useState(!1),[g,E]=T.useState(!1),C=f.find(Z=>Z.id===e),[P,$]=T.useState(!!C),[L,ne]=T.useState(s.variants[0]),[H,we]=T.useState(s.variants[0].sizes[0]),J=10,Y=5,ue=0,ze=(Z,At)=>{if(At.type==="increment"){const{quantity:Qe,...kt}=Z;return{quantity:Qe+1,...kt}}else if(At.type==="decrement"&&Z.quantity===1){const{quantity:Qe,...kt}=Z;return{quantity:1,...kt}}else if(At.type==="decrement"&&Z.quantity>1){const{quantity:Qe,...kt}=Z;return{quantity:Qe-1,...kt}}else if(At.type==="changeColor"){const{color:Qe,quantity:kt,...it}=Z;return{quantity:1,color:L.color,...it}}else if(At.type==="changeSize"){const{size:Qe,quantity:kt,...it}=Z;return{quantity:1,size:H.size,...it}}else if(At.type==="itemChange"){const{quantity:Qe,image:kt,color:it,size:vn,...Mo}=Z;return{quantity:1,image:s.variants[0].images[0],color:s.variants[0].color,size:s.variants[0].sizes[0].size,...Mo}}else return Z},je={quantity:1,id:e,name:t,price:n,image:i,color:L.color,size:H.size},[He,R]=T.useReducer(ze,je),q=Z=>{Z.preventDefault(),FR(l,yR,a,He,u)},W=()=>{OR(R,_,d,He,J,H)},ce=Z=>{MR(R,_,d)};return T.useEffect(()=>{R({type:"itemChange"}),ne(s.variants[0]),_(!1),d(!1),$(!!C)},[s]),T.useEffect(()=>{H.quantity>ue?E(!1):E(!0)}),ie(_n.Fragment,{children:[ie("section",{children:[I("img",{src:"",alt:t}),ie("div",{children:[I("h2",{children:t}),ie("h4",{children:["$",n]}),I("div",{onClick:()=>{m(f,e,s,h,$)},children:I("img",{src:w(P),alt:"heart"})}),UR(H,Y,ue),I("img",{src:L.images[0]}),ie("form",{onSubmit:q,children:[I("div",{children:LR(o,ne,R,_,d)}),I("div",{children:$R(L,R,we,_,d)}),ie("div",{children:[I("button",{type:"button",onClick:ce,disabled:g,children:"-"}),I("p",{children:g?ue:He.quantity}),I("button",{type:"button",onClick:W,disabled:g,children:"+"}),v&&ie("p",{children:["Only a maximum of ",J," per customer"]}),p&&I("p",{children:"We are low on stock unfortunately you wont be able to purchase more"})]}),I("button",{type:"submit",disabled:g,children:"ADD TO CART"})]})]})]}),ie("section",{children:[I("h4",{children:"You may also like this..."}),I(_u,{stock:vR(c,s)})]})]})},BR="_New_Item_In_Cart_1umwv_26",bR="_newItem_1umwv_1",_c={"Navigation_Bar-cart":"_Navigation_Bar-cart_1umwv_21",New_Item_In_Cart:BR,newItem:bR},zR=()=>{const{totalItems:e,newItemAnimation:t}=T.useContext(Oo),n=t?`${_c.New_Item_In_Cart} ${_c["Navigation_Bar-cart"]}`:`${_c["Navigation_Bar-cart"]}`;return ie("header",{children:[I(ms,{to:"/attire/",children:ie("div",{children:[I("img",{src:"",alt:"logo"}),I("h1",{children:"attire"})]})}),I(ms,{to:"/attire/catalogue",children:"Catalogue"}),I(ms,{to:"/attire/favourites",children:"Favourites"}),I(ms,{to:"/attire/checkout",children:ie("div",{className:n,children:[I("img",{src:"",alt:"Checkout"}),e>0&&I("p",{children:e})]})})]})},jR=()=>I("div",{children:I(_u,{inFavouritesPage:!0})}),HR=()=>{const{currentStock:e}=T.useContext(uo),t=e.map(n=>{const{id:r,name:i,price:s,description:o,image:a,variants:l}=n,u=I(VR,{id:r,name:i,price:s,description:o,image:a,item:n,variants:l});return I(sn,{path:`/attire/catalogue/${Zh(i)}`,element:u},`${Zh(i)+Na()}`)});return ie(Il,{children:[I(zR,{}),ie(oR,{children:[ie(sn,{path:"attire",children:[I(sn,{path:"",element:I(fA,{})}),ie(sn,{path:"catalogue",children:[I(sn,{path:"",element:I(_u,{stock:e})}),t]}),I(sn,{path:"favourites",element:I(jR,{})}),I(sn,{path:"checkout",element:I(PR,{})}),I(sn,{path:"adminAccess",element:I(hA,{})})]}),I(sn,{path:"*",element:I(NR,{})})]})]})};Cc.createRoot(document.getElementById("root")).render(I(hR,{children:I(RR,{children:I(ER,{children:I(CR,{children:I(HR,{})})})})}));
